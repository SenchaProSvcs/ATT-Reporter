nohup: web.rb: No such file or directory
test-oauth.rb:69: syntax error, unexpected $end, expecting kEND
Invalid gemspec in [/Users/jackratcliff/.gem/ruby/1.8/specifications/webrobots-0.0.10.gemspec]: invalid date format in specification: "2011-07-01 00:00:00.000000000Z"
[2011-08-03 09:35:12] INFO  WEBrick 1.3.1
[2011-08-03 09:35:12] INFO  ruby 1.8.7 (2009-06-12) [universal-darwin10.0]
[2011-08-03 09:35:12] INFO  WEBrick::HTTPServer#start: pid=10170 port=4567
Invalid gemspec in [/Users/jackratcliff/.gem/ruby/1.8/specifications/webrobots-0.0.10.gemspec]: invalid date format in specification: "2011-07-01 00:00:00.000000000Z"
[2011-08-03 09:35:25] INFO  WEBrick 1.3.1
[2011-08-03 09:35:25] INFO  ruby 1.8.7 (2009-06-12) [universal-darwin10.0]
[2011-08-03 09:35:25] WARN  TCPServer Error: Address already in use - bind(2)
== Sinatra/1.2.6 has taken the stage on 4567 for development with backup from WEBrick
== Someone is already performing on port 4567!
127.0.0.1 - - [03/Aug/2011 10:03:46] "GET /oauth_chart_new HTTP/1.1" 404 451 0.0009
touch2 - - [03/Aug/2011:10:03:46 CDT] "GET /oauth_chart_new HTTP/1.1" 404 451
- -> /oauth_chart_new
127.0.0.1 - - [03/Aug/2011 10:03:46] "GET /__sinatra__/404.png HTTP/1.1" 200 23305 0.0172
touch2 - - [03/Aug/2011:10:03:46 CDT] "GET /__sinatra__/404.png HTTP/1.1" 200 23305
http://localhost:4567/oauth_chart_new -> /__sinatra__/404.png
127.0.0.1 - - [03/Aug/2011 10:03:55] "GET /oauth_chart_new HTTP/1.1" 404 451 0.0007
touch2 - - [03/Aug/2011:10:03:55 CDT] "GET /oauth_chart_new HTTP/1.1" 404 451
- -> /oauth_chart_new
127.0.0.1 - - [03/Aug/2011 10:03:55] "GET /__sinatra__/404.png HTTP/1.1" 304 - 0.0008
touch2 - - [03/Aug/2011:10:03:55 CDT] "GET /__sinatra__/404.png HTTP/1.1" 304 0
http://localhost:4567/oauth_chart_new -> /__sinatra__/404.png
127.0.0.1 - - [03/Aug/2011 10:03:55] "GET /oauth_chart_new HTTP/1.1" 404 451 0.0009
touch2 - - [03/Aug/2011:10:03:55 CDT] "GET /oauth_chart_new HTTP/1.1" 404 451
- -> /oauth_chart_new
127.0.0.1 - - [03/Aug/2011 10:03:55] "GET /__sinatra__/404.png HTTP/1.1" 304 - 0.0006
touch2 - - [03/Aug/2011:10:03:55 CDT] "GET /__sinatra__/404.png HTTP/1.1" 304 0
http://localhost:4567/oauth_chart_new -> /__sinatra__/404.png
127.0.0.1 - - [03/Aug/2011 10:03:57] "GET /oauth_chart HTTP/1.1" 404 447 0.0006
touch2 - - [03/Aug/2011:10:03:57 CDT] "GET /oauth_chart HTTP/1.1" 404 447
- -> /oauth_chart
[2011-08-03 10:06:20] INFO  going to shutdown ...
[2011-08-03 10:06:20] INFO  WEBrick::HTTPServer#start done.
== Sinatra/1.2.6 has taken the stage on 4567 for development with backup from WEBrick

Running Test suite...
Starting test run
0.0s (0.0s total) OK. Requesting login page...
1.7s (1.7s total) OK. Attempting to login...
1.5s (3.2s total) OK. Authorizing application...
0.6s (3.8s total) OK. Swapping response code for access_token...
0.4s (4.1s total) OK. Access token: 52218a9d47d904a0ddbbaa208e62a7952b32826e...

Starting test run
0.0s (0.0s total) OK. Requesting login page...
2.1s (2.1s total) OK. Attempting to login...
1.5s (3.6s total) OK. Authorizing application...
0.6s (4.2s total) OK. Swapping response code for access_token...
0.4s (4.6s total) OK. Access token: a3eb9ab00b47c6e6140e97012b322dc3e70a5afb...

Starting test run
0.0s (0.0s total) OK. Requesting login page...
2.0s (2.0s total) OK. Attempting to login...
1.5s (3.5s total) OK. Authorizing application...
0.6s (4.1s total) OK. Swapping response code for access_token...
0.4s (4.5s total) OK. Access token: 83719552dc166d805b7fefc75480b1487dc301ac...

Starting test run
0.0s (0.0s total) OK. Requesting login page...
2.0s (2.0s total) OK. Attempting to login...
2.1s (4.0s total) OK. Authorizing application...
0.5s (4.5s total) OK. Swapping response code for access_token...
0.4s (5.0s total) OK. Access token: f36fb1238bd3bf479499e6469a978253bf43df87...

Starting test run
0.0s (0.0s total) OK. Requesting login page...
1.7s (1.7s total) OK. Attempting to login...
1.8s (3.6s total) OK. Authorizing application...
0.5s (4.1s total) OK. Swapping response code for access_token...
0.4s (4.5s total) OK. Access token: 25bbb921ee3599c3dd286ecc37068313212b5f5a...

Starting test run
0.0s (0.0s total) OK. Requesting login page...
2.1s (2.1s total) OK. Attempting to login...
1.4s (3.5s total) OK. Authorizing application...
0.6s (4.1s total) OK. Swapping response code for access_token...
0.4s (4.5s total) OK. Access token: 44b4bf8d84cbfd56ffe9dd35dc38fcebc52e9ec8...

Starting test run
0.0s (0.0s total) OK. Requesting login page...
2.0s (2.0s total) OK. Attempting to login...
1.5s (3.5s total) OK. Authorizing application...
0.5s (4.1s total) OK. Swapping response code for access_token...
0.4s (4.4s total) OK. Access token: e31402e5dd8b3b395f99b683133917432cf76892...

== Sinatra has ended his set (crowd applauds)
Invalid gemspec in [/Users/jackratcliff/.gem/ruby/1.8/specifications/webrobots-0.0.10.gemspec]: invalid date format in specification: "2011-07-01 00:00:00.000000000Z"
[2011-11-11 13:28:54] INFO  WEBrick 1.3.1
[2011-11-11 13:28:54] INFO  ruby 1.8.7 (2010-01-10) [universal-darwin10.0]
== Sinatra/1.3.1 has taken the stage on 4567 for development with backup from WEBrick
[2011-11-11 13:28:54] INFO  WEBrick::HTTPServer#start: pid=24079 port=4567

AT&T Provider initialized.

API endpoint:  https://api-test.san1.attcompute.com
Client ID:     cddc0328b4c56103f8febb0194df7fd8
Client Secret: 1410a481200e06af
Local Server:  http://localhost.org:4567
Shortcode:     2737225

Running Test suite...
Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 13
response-header: date => Fri, 11 Nov 2011 19:28:42 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "87e059107dba03c2bd14bad2c8b951f1"
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 2552
response-header: date => Fri, 11 Nov 2011 19:29:03 GMT
response-header: content-length => 1443
response-header: content-encoding => gzip
response-header: set-cookie => sessionId=EUID%3DNzIwYjQ1YTU6MTMzOTM1Njk5MTQ6LTIyOTU%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com; path=/
response-header: keep-alive => timeout=5, max=100
response-header: vary => Accept-Encoding
response-header: cache-control => private, max-age=0, must-revalidate
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 1425 bytes (1435 total)
Read 8 bytes (1443 total)
gzip body
saved cookie: sessionId=EUID%3DNzIwYjQ1YTU6MTMzOTM1Njk5MTQ6LTIyOTU%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/effects.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/controls.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/application.js?1320650752" type="text/javascript"></script>
	<script src="/javascripts/application.js?1320650752" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo" id="logo_title">SignIn | SignUp</h1>
<img src="/images/att.png" alt="" id="logo" height="28" width="28" />
</header>
	<form action="/off_net_consent_wireless" id="off_net_consent_wireless" method="post">
	<p><strong>Sencha API Poller</strong>  by Jason Cline, is requesting do the following: 
		<div id="firstCol_b">
			<ul>
				
				
					<li>Location - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
					<li>Device Capabilities - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
				
				
				
				
				
				
				
			</ul>
			<p>If ok, enter the wireless phone number and click Allow. A verification message will be sent.	</p>
		</div>
	<br><p></p>
	<br>
	<form action="" id="signup" method="post">
		<div id="firstCol_b">
			<label for="phone"><span>Wireless Number</span></label> 
		</div>
		<div id="firstCol_a">
			<img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50">
		</div>
		<div class="input-c" id="firstCol_b" style="right: 9px; top: 9px">
			<input id="login_wireless" name="login[wireless]" size="30" style="color:silver;" type="text" />
			<input id="login_client_id" name="login[client_id]" type="hidden" value="cddc0328b4c56103f8febb0194df7fd8" />
			<input id="login_scope" name="login[scope]" type="hidden" value="TL,DC,WAP,SMS,MMS,PAYMENT" />
			<input id="login_id" name="login[id]" type="hidden" />
			<!--<input  name="phone" type="text" value="4252221234" style="color: silver;">-->
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="javascript:submit_off_net_wireless();">Allow</a>
			</p>
			<p>
				<a class="button cancel" href="/deny_pin">Cancel</a>
			</p>
			<p style="text-align:center; margin-left:10px;color:red;"></p>
			<br>
			<p><SMALL>Refer to Craftguilds Privacy Policy for details on how this information may be used or shared.</SMALL>
			</p>
		</div>
	</form>
	<form action="" id="signup" method="post">
		<hr style="clear:both">   
		<h3>Existing Users</h3><!--move h3 to css and style center it-->
		<!--begin email address-->
		<p>To allow use with another account click  the <strong> Sign in to another account </strong> button.  To sign in and manage consent settings click <strong> Manage Consent</strong>. 
		</p>
		<!--begin SI127.0.0.1 - - [11/Nov/2011 13:29:25] "GET /index.html HTTP/1.1" 200 707 0.0462
touch2 - - [11/Nov/2011:13:29:25 CST] "GET /index.html HTTP/1.1" 200 707
- -> /index.html
127.0.0.1 - - [11/Nov/2011 13:29:26] "GET /resources/css/site.css HTTP/1.1" 200 465 0.0406
127.0.0.1 - - [11/Nov/2011 13:29:26] "GET /app/config.js HTTP/1.1" 200 177 0.0194
touch2 - - [11/Nov/2011:13:29:25 CST] "GET /resources/css/site.css HTTP/1.1" 200 465
Referer -> /resources/css/site.css
127.0.0.1 - - [11/Nov/2011 13:29:26] "GET /app/Application.js HTTP/1.1" 200 610 0.0013
touch2 - - [11/Nov/2011:13:29:25 CST] "GET /app/config.js HTTP/1.1" 200 177
Referer -> /app/config.js
touch2 - - [11/Nov/2011:13:29:25 CST] "GET /app/Application.js HTTP/1.1" 200 610
Referer -> /app/Application.js
127.0.0.1 - - [11/Nov/2011 13:29:26] "GET /lib/ext-4.0.6/resources/css/ext-all.css HTTP/1.1" 200 229603 0.0988
touch2 - - [11/Nov/2011:13:29:25 CST] "GET /lib/ext-4.0.6/resources/css/ext-all.css HTTP/1.1" 200 229603
Referer -> /lib/ext-4.0.6/resources/css/ext-all.css
127.0.0.1 - - [11/Nov/2011 13:29:26] "GET /lib/ext-4.0.6/ext-all.js HTTP/1.1" 200 1085782 0.0673
touch2 - - [11/Nov/2011:13:29:25 CST] "GET /lib/ext-4.0.6/ext-all.js HTTP/1.1" 200 1085782
Referer -> /lib/ext-4.0.6/ext-all.js
127.0.0.1 - - [11/Nov/2011 13:29:28] "GET /app/view/Viewport.js?_dc=1321039768003 HTTP/1.1" 200 1718 0.0132
127.0.0.1 - - [11/Nov/2011 13:29:28] "GET /app/controller/Status.js?_dc=1321039768005 HTTP/1.1" 200 2810 0.0134
127.0.0.1 - - [11/Nov/2011 13:29:28] "GET /app/controller/Oauth.js?_dc=1321039768007 HTTP/1.1" 200 3446 0.0190
touch2 - - [11/Nov/2011:13:29:28 CST] "GET /app/view/Viewport.js?_dc=1321039768003 HTTP/1.1" 200 1718
Referer -> /app/view/Viewport.js?_dc=1321039768003
127.0.0.1 - - [11/Nov/2011 13:29:28] "GET /app/controller/History.js?_dc=1321039768006 HTTP/1.1" 200 5829 0.0313
touch2 - - [11/Nov/2011:13:29:28 CST] "GET /app/controller/Status.js?_dc=1321039768005 HTTP/1.1" 200 2810
Referer -> /app/controller/Status.js?_dc=1321039768005
touch2 - - [11/Nov/2011:13:29:28 CST] "GET /app/controller/Oauth.js?_dc=1321039768007 HTTP/1.1" 200 3446
Referer -> /app/controller/Oauth.js?_dc=1321039768007
touch2 - - [11/Nov/2011:13:29:28 CST] "GET /app/controller/History.js?_dc=1321039768006 HTTP/1.1" 200 5829
Referer -> /app/controller/History.js?_dc=1321039768006
127.0.0.1 - - [11/Nov/2011 13:29:28] "GET /app/view/status/Grid.js?_dc=1321039768093 HTTP/1.1" 200 1515 0.0292
touch2 - - [11/Nov/2011:13:29:28 CST] "GET /app/view/status/Grid.js?_dc=1321039768093 HTTP/1.1" 200 1515
Referer -> /app/view/status/Grid.js?_dc=1321039768093
127.0.0.1 - - [11/Nov/2011 13:29:28] "GET /app/view/summary/SummaryPanel.js?_dc=1321039768094 HTTP/1.1" 200 2457 0.0017
127.0.0.1 - - [11/Nov/2011 13:29:28] "GET /app/controller/Base.js?_dc=1321039768099 HTTP/1.1" 200 964 0.0011
touch2 - - [11/Nov/2011:13:29:28 CST] "GET /app/view/summary/SummaryPanel.js?_dc=1321039768094 HTTP/1.1" 200 2457
Referer -> /app/view/summary/SummaryPanel.js?_dc=1321039768094
touch2 - - [11/Nov/2011:13:29:28 CST] "GET /app/controller/Base.js?_dc=1321039768099 HTTP/1.1" 200 964
Referer -> /app/controller/Base.js?_dc=1321039768099
127.0.0.1 - - [11/Nov/2011 13:29:28] "GET /app/model/Summary.js?_dc=1321039768197 HTTP/1.1" 200 1200 0.0064
127.0.0.1 - - [11/Nov/2011 13:29:28] "GET /app/store/Tests.js?_dc=1321039768198 HTTP/1.1" 200 289 0.0050
127.0.0.1 - - [11/Nov/2011 13:29:28] "GET /app/view/oauth/BarStackedChart.js?_dc=1321039768200 HTTP/1.1" 200 1211 0.0043
127.0.0.1 - - [11/Nov/2011 13:29:28] "GET /app/model/Test.js?_dc=1321039768195 HTTP/1.1" 200 142 0.0255
127.0.0.1 - - [11/Nov/2011 13:29:28] "GET /app/model/OauthApiResponseTime.js?_dc=1321039768199 HTTP/1.1" 200 760 0.0245
touch2 - - [11/Nov/2011:13:29:28 CST] "GET /app/model/Summary.js?_dc=1321039768197 HTTP/1.1" 200 1200
Referer -> /app/model/Summary.js?_dc=1321039768197
127.0.0.1 - - [11/Nov/2011 13:29:28] "GET /app/view/oauth/BarUnstackedChart.js?_dc=1321039768201 HTTP/1.1" 200 1287 0.0024
touch2 - - [11/Nov/2011:13:29:28 CST] "GET /app/store/Tests.js?_dc=1321039768198 HTTP/1.1" 200 289
Referer -> /app/store/Tests.js?_dc=1321039768198
touch2 - - [11/Nov/2011:13:29:28 CST] "GET /app/view/oauth/BarStackedChart.js?_dc=1321039768200 HTTP/1.1" 200 1211
Referer -> /app/view/oauth/BarStackedChart.js?_dc=1321039768200
touch2 - - [11/Nov/2011:13:29:28 CST] "GET /app/model/Test.js?_dc=1321039768195 HTTP/1.1" 200 142
Referer -> /app/model/Test.js?_dc=1321039768195
touch2 - - [11/Nov/2011:13:29:28 CST] "GET /app/model/OauthApiResponseTime.js?_dc=1321039768199 HTTP/1.1" 200 760
Referer -> /app/model/OauthApiResponseTime.js?_dc=1321039768199
touch2 - - [11/Nov/2011:13:29:28 CST] "GET /app/view/oauth/BarUnstackedChart.js?_dc=1321039768201 HTTP/1.1" 200 1287
Referer -> /app/view/oauth/BarUnstackedChart.js?_dc=1321039768201
127.0.0.1 - - [11/Nov/2011 13:29:28] "GET /app/view/oauth/ChartPanel.js?_dc=1321039768202 HTTP/1.1" 200 1193 0.0029
127.0.0.1 - - [11/Nov/2011 13:29:28] "GET /app/view/oauth/ColumnStackedChart.js?_dc=1321039768203 HTTP/1.1" 200 1292 0.0114
127.0.0.1 - - [11/Nov/2011 13:29:28] "GET /app/view/oauth/LineChart.js?_dc=1321039768205 HTTP/1.1" 200 2582 0.0041
127.0.0.1 - - [11/Nov/2011 13:29:28] "GET /app/store/OauthApiTests.js?_dc=1321039768206 HTTP/1.1" 200 333 0.0032
127.0.0.1 - - [11/Nov/2011 13:29:28] "GET /app/view/oauth/ColumnUnstackedChart.js?_dc=1321039768204 HTTP/1.1" 200 1373 0.0063
touch2 - - [11/Nov/2011:13:29:28 CST] "GET /app/view/oauth/ChartPanel.js?_dc=1321039768202 HTTP/1.1" 200 1193
Referer -> /app/view/oauth/ChartPanel.js?_dc=1321039768202
127.0.0.1 - - [11/Nov/2011 13:29:28] "GET /app/store/ChartChoices.js?_dc=1321039768207 HTTP/1.1" 200 508 0.0024
touch2 - - [11/Nov/2011:13:29:28 CST] "GET /app/view/oauth/ColumnStackedChart.js?_dc=1321039768203 HTTP/1.1" 200 1292
Referer -> /app/view/oauth/ColumnStackedChart.js?_dc=1321039768203
touch2 - - [11/Nov/2011:13:29:28 CST] "GET /app/view/oauth/LineChart.js?_dc=1321039768205 HTTP/1.1" 200 2582
Referer -> /app/view/oauth/LineChart.js?_dc=1321039768205
touch2 - - [11/Nov/2011:13:29:28 CST] "GET /app/store/OauthApiTests.js?_dc=1321039768206 HTTP/1.1" 200 333
Referer -> /app/store/OauthApiTests.js?_dc=1321039768206
touch2 - - [11/Nov/2011:13:29:28 CST] "GET /app/view/oauth/ColumnUnstackedChart.js?_dc=1321039768204 HTTP/1.1" 200 1373
Referer -> /app/view/oauth/ColumnUnstackedChart.js?_dc=1321039768204
touch2 - - [11/Nov/2011:13:29:28 CST] "GET /app/store/ChartChoices.js?_dc=1321039768207 HTTP/1.1" 200 508
Referer -> /app/store/ChartChoices.js?_dc=1321039768207
127.0.0.1 - - [11/Nov/2011 13:29:28] "GET /app/model/AllApiResponseTime.js?_dc=1321039768208 HTTP/1.1" 200 314 0.0022
127.0.0.1 - - [11/Nov/2011 13:29:28] "GET /app/model/LogEntry.js?_dc=1321039768209 HTTP/1.1" 200 354 0.0055
127.0.0.1 - - [11/Nov/2011 13:29:28] "GET /app/view/history/ChartPanel.js?_dc=1321039768210 HTTP/1.1" 200 2352 0.0045
127.0.0.1 - - [11/Nov/2011 13:29:28] "GET /app/view/history/LineChart.js?_dc=1321039768211 HTTP/1.1" 200 2829 0.0037
touch2 - - [11/Nov/2011:13:29:28 CST] "GET /app/model/AllApiResponseTime.js?_dc=1321039768208 HTTP/1.1" 200 314
Referer -> /app/model/AllApiResponseTime.js?_dc=1321039768208
127.0.0.1 - - [11/Nov/2011 13:29:28] "GET /app/store/AllApiTests.js?_dc=1321039768213 HTTP/1.1" 200 589 0.0114
127.0.0.1 - - [11/Nov/2011 13:29:28] "GET /app/view/history/Grid.js?_dc=1321039768212 HTTP/1.1" 200 1503 0.0131
touch2 - - [11/Nov/2011:13:29:28 CST] "GET /app/model/LogEntry.js?_dc=1321039768209 HTTP/1.1" 200 354
Referer -> /app/model/LogEntry.js?_dc=1321039768209
touch2 - - [11/Nov/2011:13:29:28 CST] "GET /app/view/history/ChartPanel.js?_dc=1321039768210 HTTP/1.1" 200 2352
Referer -> /app/view/history/ChartPanel.js?_dc=1321039768210
touch2 - - [11/Nov/2011:13:29:28 CST] "GET /app/view/history/LineChart.js?_dc=1321039768211 HTTP/1.1" 200 2829
Referer -> /app/view/history/LineChart.js?_dc=1321039768211
touch2 - - [11/Nov/2011:13:29:28 CST] "GET /app/store/AllApiTests.js?_dc=1321039768213 HTTP/1.1" 200 589
Referer -> /app/store/AllApiTests.js?_dc=1321039768213
touch2 - - [11/Nov/2011:13:29:28 CST] "GET /app/view/history/Grid.js?_dc=1321039768212 HTTP/1.1" 200 1503
Referer -> /app/view/history/Grid.js?_dc=1321039768212
127.0.0.1 - - [11/Nov/2011 13:29:28] "GET /app/store/LogEntries.js?_dc=1321039768213 HTTP/1.1" 200 225 0.0020
127.0.0.1 - - [11/Nov/2011 13:29:28] "GET /app/view/oauth/AbstractChart.js?_dc=1321039768274 HTTP/1.1" 200 1133 0.0011
touch2 - - [11/Nov/2011:13:29:28 CST] "GET /app/store/LogEntries.js?_dc=1321039768213 HTTP/1.1" 200 225
Referer -> /app/store/LogEntries.js?_dc=1321039768213
touch2 - - [11/Nov/2011:13:29:28 CST] "GET /app/view/oauth/AbstractChart.js?_dc=1321039768274 HTTP/1.1" 200 1133
Referer -> /app/view/oauth/AbstractChart.js?_dc=1321039768274
127.0.0.1 - - [11/Nov/2011 13:29:28] "GET /app/model/ChartChoice.js?_dc=1321039768321 HTTP/1.1" 200 212 0.0013
touch2 - - [11/Nov/2011:13:29:28 CST] "GET /app/model/ChartChoice.js?_dc=1321039768321 HTTP/1.1" 200 212
Referer -> /app/model/ChartChoice.js?_dc=1321039768321
127.0.0.1 - - [11/Nov/2011 13:29:28] "GET /app/view/history/AbstractChart.js?_dc=1321039768345 HTTP/1.1" 200 593 0.0010
touch2 - - [11/Nov/2011:13:29:28 CST] "GET /app/view/history/AbstractChart.js?_dc=1321039768345 HTTP/1.1" 200 593
Referer -> /app/view/history/AbstractChart.js?_dc=1321039768345
127.0.0.1 - - [11/Nov/2011 13:29:29] "GET /lib/ext-4.0.6/resources/themes/images/default/tools/tool-sprites.gif HTTP/1.1" 200 5421 0.0405
touch2 - - [11/Nov/2011:13:29:29 CST] "GET /lib/ext-4.0.6/resources/themes/images/default/tools/tool-sprites.gif HTTP/1.1" 200 5421
Referer -> /lib/ext-4.0.6/resources/themes/images/default/tools/tool-sprites.gif
127.0.0.1 - - [11/Nov/2011 13:29:29] "GET /lib/ext-4.0.6/resources/themes/images/default/dd/drop-no.gif HTTP/1.1" 200 949 0.0281
127.0.0.1 - - [11/Nov/2011 13:29:29] "GET /lib/ext-4.0.6/resources/themes/images/default/util/splitter/mini-left.gif HTTP/1.1" 200 871 0.0028
touch2 - - [11/Nov/2011:13:29:29 CST] "GET /lib/ext-4.0.6/resources/themes/images/default/dd/drop-no.gif HTTP/1.1" 200 949
Referer -> /lib/ext-4.0.6/resources/themes/images/default/dd/drop-no.gif
127.0.0.1 - - [11/Nov/2011 13:29:29] "GET /status_data?_dc=1321039768884&page=1&start=0&limit=25 HTTP/1.1" 200 1571 0.0911
touch2 - - [11/Nov/2011:13:29:29 CST] "GET /lib/ext-4.0.6/resources/themes/images/default/util/splitter/mini-left.gif HTTP/1.1" 200 871
Referer -> /lib/ext-4.0.6/resources/themes/images/default/util/splitter/mini-left.gif
127.0.0.1 - - [11/Nov/2011 13:29:29] "GET /lib/ext-4.0.6/resources/themes/images/default/form/text-bg.gif HTTP/1.1" 200 819 0.1076
NoMethodError - undefined method `public_server' for #<AttApiReporter:0x101fd8840>:
	test.rb:140:in `GET /status_summary'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:1211:in `call'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:1211:in `compile!'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:772:in `[]'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:772:in `route!'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:788:in `route_eval'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:772:in `route!'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:821:in `process_route'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:819:in `catch'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:819:in `process_route'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:771:in `route!'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:770:in `each'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:770:in `route!'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:886:in `dispatch!'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:706:in `call!'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:871:in `invoke'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:871:in `catch'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:871:in `invoke'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:706:in `call!'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:692:in `call'
	/Library/Ruby/Gems/1.8/gems/rack-protection-1.1.4/lib/rack/protection/xss_header.rb:22:in `call'
	/Library/Ruby/Gems/1.8/gems/rack-protection-1.1.4/lib/rack/protection/path_traversal.rb:16:in `call'
	/Library/Ruby/Gems/1.8/gems/rack-protection-1.1.4/lib/rack/protection/json_csrf.rb:17:in `call'
	/Library/Ruby/Gems/1.8/gems/rack-protection-1.1.4/lib/rack/protection/base.rb:47:in `call'
	/Library/Ruby/Gems/1.8/gems/rack-protection-1.1.4/lib/rack/protection/xss_header.rb:22:in `call'
	/Library/Ruby/Gems/1.8/gems/rack-1.3.5/lib/rack/logger.rb:15:in `call'
	/Library/Ruby/Gems/1.8/gems/rack-1.3.5/lib/rack/commonlogger.rb:20:in `call'
	/Library/Ruby/Gems/1.8/gems/rack-1.3.5/lib/rack/head.rb:9:in `call'
	/Library/Ruby/Gems/1.8/gems/rack-1.3.5/lib/rack/methodoverride.rb:24:in `call'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/showexceptions.rb:21:in `call'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:1334:in `call'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:1403:in `synchronize'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:1334:in `call'
	/Library/Ruby/Gems/1.8/gems/rack-1.3.5/lib/rack/handler/webrick.rb:59:in `service'
	/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
	/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
	/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
	/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
	/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
	/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
	/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
	/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
	/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
	/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
	/Library/Ruby/Gems/1.8/gems/rack-1.3.5/lib/rack/handler/webrick.rb:13:in `run'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:1295:in `run!'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/main.rb:25
	test.rb:372
touch2 - - [11/Nov/2011:13:29:29 CST] "GET /status_data?_dc=1321039768884&page=1&start=0&limit=25 HTTP/1.1" 200 1571
Referer -> /status_data?_dc=1321039768884&page=1&start=0&limit=25
touch2 - - [11/Nov/2011:13:29:29 CST] "GET /lib/ext-4.0.6/resources/themes/images/default/form/text-bg.gif HTTP/1.1" 200 819
Referer -> /lib/ext-4.0.6/resources/themes/images/default/form/text-bg.gif
127.0.0.1 - - [11/Nov/2011 13:29:29] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/loading.gif HTTP/1.1" 200 771 0.0194
touch2 - - [11/Nov/2011:13:29:29 CST] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/loading.gif HTTP/1.1" 200 771
Referer -> /lib/ext-4.0.6/resources/themes/images/default/grid/loading.gif
touch2 - - [11/Nov/2011:13:29:29 CST] "GET /status_summary?_dc=1321039769084 HTTP/1.1" 500 133930
Referer -> /status_summary?_dc=1321039769084

AT&T Provider initialized.

API endpoint:  https://api.att.com
Client ID:     1f593d5094a3ddb7f8b093d672ef2095
Client Secret: ae2cb44634ce2534
Local Server:  http://127.0.0.1:5985
Shortcode:     22627010

Running Test suite...
Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 26
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Fri, 11 Nov 2011 19:34:03 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "7d8b9fde40a558e19b4e498919073c04"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 915
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Fri, 11 Nov 2011 19:34:04 GMT
response-header: content-length => 8432
response-header: set-cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzMzk0MDIxMTRlOi0zNDU5%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlNThmNzkwMDZjZDY3ZjU0MzkxODY1OTg3ODcxNjY4NWE%3D--f5e4645ede99ade583f64863d14236f0197344aa; path=/; HttpOnly, BIGipServeruser_profile_443=269098924.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 8000 bytes (8000 total)
Read 432 bytes (8432 total)
saved cookie: sessionId=EUID%3DLTE2MjkxNzcxOjEzMzk0MDIxMTRlOi0zNDU5%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlNThmNzkwMDZjZDY3ZjU0MzkxODY1OTg3ODcxNjY4NWE%3D--f5e4645ede99ade583f64863d14236f0197344aa
saved cookie: BIGipServeruser_profile_443=269098924.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="19604820972111948" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKKKACiiigAorGtfFeiXhl8m/U+VGZHLIygLkDOSB3Ip1r4p0S8kZIdQiLKCx3gpwOpywFAGvWP/
AMJTo39o/YPtn+leb5Ozyn+/nGM4x1pIfFehXFyLePUYjITgbgygn6kYrzj/AJqH/wBxX/2rQB7B
RRRQAhIVSzEADkk9qxZfF+gQymJ9SjLA4+RWYfmARVHxwmpXGlxWmnW80olcmYxDPyjsfqT+lYGj
+AftujNcXklxbXb7vLjK7QuOBuBGefw4oA9BtLy2voBPazxzRH+JGyKnrynwBezQeJEtkY+VcIwd
e3Ckg/pj8a9WoAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAK5Pxb4rk0h0sLB
Q97IMliM7AemB3JrrK8r8d2UkPig3E+5be5VCrhc4AAUgDuRjOPegDSXQ/GtzGLl9UaJzz5RuGU/
ko21Z8O+KdRj1j+xdbX98W2LIQAwbsDjgg9jWHD4X0SeESr4rtQpGcPEFb8i+abp2naLa+I7BYtc
a4ZZ1YFbXamQcgFi3c8cA9aAMPSbF9T1S3sUfZ57BS3oOp+vStTxZotpoF7Ba2ks7mSLfIZGB74G
MAehpPBH/I32P/bT/wBFtW38SbKQXlnfhSY2j8kn0IJI/PJ/KgC7oXgjTLnw/DNeI73NxGJBIrkb
ARkYHTpjrmuMsYzZeLbaKd+YL5Vdyf7sgyf0r0Hw/wCKNKXw3bfaLyKGW2iEbxs2GO0YGB1OQO1e
cEtq+vkp8jXl1kZ/hLv/APXoA6ufxJrniXU3s9CzBAuTuGA23+8zHp9B+tJfaX4w0jTp7l9WM0QQ
+YFnZ2C9yNw4/Dmq3grVrbQdSvbXUs27S7V3OPuMpPB9Ov6V2194n0K3tmMt/bzIwIMcbCQt7YH9
aAKHgK6mu9ClluLma4l+0MpMrliowuAM9v8AGovGPiqPTLeTT7Rw17IuGI/5ZKf6+n51WvPGllB4
bM+lwLBcTSNGke0DYR1YgcHgj8T7Vyvh/UtIsrx77V4rq6ud25Aqqyg/3jlhk/5+gB1PgPw5LZht
UvEKSSLthRhyFPVj9f8APWu4rm9K8babq+pRWNvBdrLLnaZEULwCecMfSukoAKKKKACiiigAoooo
AKKKKACiiigAooooAKKKKACiiigAooooAKr3tja6jbm3u4EmiP8ACw/UehqxRQBycnw80V5N6vdo
v9xZBj9QT+taum+GdI0pg9tZp5o/5aSfO34E9PwrXooA5vSvBOm6RqUV9bz3bSxZ2iR1K8gjnCj1
reu7S3vrZ7a6iWWFxhlapqKAOUX4e6IJ/MJumXP+rMg2/wAs/rVlvBelnV4tRRp4nieN0ijKhBsx
gYxnsM810VFAGTqvhrS9ZbzLq3/fdPNjO1vx9fxrLt/h9okEod/tM4H8Esgx+gFdVRQBz+q+DtN1
Z4TI00CQp5aR25VVAznptNZ//CuNH/5+b7/vtP8A4muwooA5vSvBOm6RqUV9bz3bSxZ2iR1K8gjn
Cj1rpKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACii
igAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKK
ACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/2Q==
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
6.2s (6.2s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzMzk0MDIxMTRlOi0zNDU5%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlNThmNzkwMDZjZDY3ZjU0MzkxODY1OTg3ODcxNjY4NWE%3D--f5e4645ede99ade583f64863d14236f0197344aa; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 5876
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Fri, 11 Nov 2011 19:34:05 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlNThmNzkwMDZjZDY3ZjU0MzkxODY1OTg3ODcxNjY4NWEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--84549a5165cb80086558157f56774f92a2745211; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlNThmNzkwMDZjZDY3ZjU0MzkxODY1OTg3ODcxNjY4NWEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--84549a5165cb80086558157f56774f92a2745211
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
6.5s (12.6s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzMzk0MDIxMTRlOi0zNDU5%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlNThmNzkwMDZjZDY3ZjU0MzkxODY1OTg3ODcxNjY4NWEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--84549a5165cb80086558157f56774f92a2745211; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=NWY2NWUwNTg6MTMzOTNkMjA5M2I6NzQ1Mw%3D%3D
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 623
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Fri, 11 Nov 2011 19:34:11 GMT
response-header: content-length => 147
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 147 bytes (147 total)
Authorization key: NWY2NWUwNTg6MTMzOTNkMjA5M2I6NzQ1Mw%3D%3D
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=NWY2NWUwNTg6MTMzOTNkMjA5M2I6NzQ1Mw%3D%3D">redirected</a>.</body></html>
0.7s (13.3s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzOTNkMjA5M2I6NzQ1Mw%3D%3D ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzOTNkMjA5M2I6NzQ1Mw%3D%3D
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 100
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Fri, 11 Nov 2011 19:34:13 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "145a00ee6d972ae084ab2055c19cad4fc3c0d0f0",
  "access_token": "e7381c81f4a003b2b8e55f29a7ace7d3"
}
ACCESS TOKEN: e7381c81f4a003b2b8e55f29a7ace7d3
Refresh TOKEN: 145a00ee6d972ae084ab2055c19cad4fc3c0d0f0
0.7s (14.1s total) OK. Access token: 145a00ee6d972ae084ab2055c19cad4fc3c0d0f0...

NEXT TEST: device_info_json 22
3.0s (17.1s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=e7381c81f4a003b2b8e55f29a7ace7d3
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=e7381c81f4a003b2b8e55f29a7ace7d3
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=e7381c81f4a003b2b8e55f29a7ace7d3
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
5.5s (22.6s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=e7381c81f4a003b2b8e55f29a7ace7d3
Net::HTTP::Get: /1/devices/tel:123/info?access_token=e7381c81f4a003b2b8e55f29a7ace7d3
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
2.5s (25.1s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (28.1s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=e7381c81f4a003b2b8e55f29a7ace7d3
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=e7381c81f4a003b2b8e55f29a7ace7d3
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
3.2s (31.4s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=e7381c81f4a003b2b8e55f29a7ace7d3
Net::HTTP::Get: /1/devices/tel:123/info?access_token=e7381c81f4a003b2b8e55f29a7ace7d3
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
0.1s (31.5s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (34.5s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=e7381c81f4a003b2b8e55f29a7ace7d3&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=e7381c81f4a003b2b8e55f29a7ace7d3&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
5.5s (39.9s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=e7381c81f4a003b2b8e55f29a7ace7d3&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=e7381c81f4a003b2b8e55f29a7ace7d3&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
2.7s (42.6s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (45.7s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x1020f3bf8>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=e7381c81f4a003b2b8e55f29a7ace7d3
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=e7381c81f4a003b2b8e55f29a7ace7d3
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
5.6s (51.2s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=e7381c81f4a003b2b8e55f29a7ace7d3
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=e7381c81f4a003b2b8e55f29a7ace7d3
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=e7381c81f4a003b2b8e55f29a7ace7d3
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=e7381c81f4a003b2b8e55f29a7ace7d3
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPInternalServerError 1.1 500 Internal Server Error
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 185
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 185 bytes (185 total)
500 => Net::HTTPInternalServerError
<RequestError>
<ServiceException>
    <MessageId>SVC0001</MessageId>
    <Text>Internal platform error occurred </Text>
    <Variables>  </Variables>
</ServiceException>
</RequestError>
130.1s (181.3s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=e7381c81f4a003b2b8e55f29a7ace7d3&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=e7381c81f4a003b2b8e55f29a7ace7d3&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=e7381c81f4a003b2b8e55f29a7ace7d3&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=e7381c81f4a003b2b8e55f29a7ace7d3&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
14.1s (195.4s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (198.4s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=e7381c81f4a003b2b8e55f29a7ace7d3
Request: https://api.att.com/1/messages/outbox/sms?access_token=e7381c81f4a003b2b8e55f29a7ace7d3
Net::HTTP::Post: /1/messages/outbox/sms?access_token=e7381c81f4a003b2b8e55f29a7ace7d3
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzOTNkMjA5M2I6NzQ1Mw%3D%3D
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Fri, 11 Nov 2011 19:37:17 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b487b5e055d068"
  },
  "id": "SMSa9b487b5e055d068"
}
0.7s (199.1s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (202.1s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=e7381c81f4a003b2b8e55f29a7ace7d3
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=e7381c81f4a003b2b8e55f29a7ace7d3
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=e7381c81f4a003b2b8e55f29a7ace7d3
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Fri, 11 Nov 2011 19:37:21 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b1604502ecf365"
  },
  "id": "SMSa9b1604502ecf365"
}
1.0s (203.1s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.0s (206.1s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=e7381c81f4a003b2b8e55f29a7ace7d3
Request: https://api.att.com/1/messages/outbox/mms?access_token=e7381c81f4a003b2b8e55f29a7ace7d3
Net::HTTP::Post: /1/messages/outbox/mms?access_token=e7381c81f4a003b2b8e55f29a7ace7d3
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_12015744.1321040245392"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=e7381c81f4a003b2b8e55f29a7ace7d3
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Fri, 11 Nov 2011 19:37:25 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf677570"
  },
  "id": "MMSa9b50d45cf677570"
}
1.3s (207.4s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf677570?access_token=e7381c81f4a003b2b8e55f29a7ace7d3
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b50d45cf677570?access_token=e7381c81f4a003b2b8e55f29a7ace7d3
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Fri, 11 Nov 2011 19:37:29 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b50d45cf677570"
  }
}
3.4s (210.8s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.0s (213.8s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=e7381c81f4a003b2b8e55f29a7ace7d3
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=e7381c81f4a003b2b8e55f29a7ace7d3
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_15524725.1321040253088"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf677570?access_token=e7381c81f4a003b2b8e55f29a7ace7d3
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Fri, 11 Nov 2011 19:37:32 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b4a1507be34a47"
}
0.7s (214.5s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.0s (217.5s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=e7381c81f4a003b2b8e55f29a7ace7d3
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321040256771",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=e7381c81f4a003b2b8e55f29a7ace7d3
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=e7381c81f4a003b2b8e55f29a7ace7d3
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Fri, 11 Nov 2011 19:37:39 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
11.7s (229.2s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=e7381c81f4a003b2b8e55f29a7ace7d3
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321040268517</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=e7381c81f4a003b2b8e55f29a7ace7d3
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=e7381c81f4a003b2b8e55f29a7ace7d3
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Fri, 11 Nov 2011 19:37:49 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
3.7s (233.0s total) OK. New subscription request SEN1321040272255...
Request: : https://api.att.com/1/payments/transactions?access_token=e7381c81f4a003b2b8e55f29a7ace7d3
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321040272255",
  "externalMerchantTransactionID": "SenchaTransId1321040272269",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=e7381c81f4a003b2b8e55f29a7ace7d3
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=e7381c81f4a003b2b8e55f29a7ace7d3
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Fri, 11 Nov 2011 19:37:54 GMT
response-header: content-length => 184
resGNIN/Manage Profile Buttons -->
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=true">SignIn to another account</a>
			</p>
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="#">Manage Consent</a>
			</p>
		</div>
	</form>

<footer>
</footer>
</body>
</html>
#<NoMethodError: undefined method `value=' for nil:NilClass>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 16
response-header: date => Fri, 11 Nov 2011 20:28:40 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "87e059107dba03c2bd14bad2c8b951f1"
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 2894
response-header: date => Fri, 11 Nov 2011 20:29:02 GMT
response-header: content-length => 1443
response-header: content-encoding => gzip
response-header: set-cookie => sessionId=EUID%3DLTExOWE0NWM2OjEzMzkyOTM1ZjUyOjM3NDI%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com; path=/
response-header: keep-alive => timeout=5, max=100
response-header: vary => Accept-Encoding
response-header: cache-control => private, max-age=0, must-revalidate
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 1425 bytes (1435 total)
Read 8 bytes (1443 total)
gzip body
saved cookie: sessionId=EUID%3DLTExOWE0NWM2OjEzMzkyOTM1ZjUyOjM3NDI%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/effects.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/controls.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/application.js?1320650752" type="text/javascript"></script>
	<script src="/javascripts/application.js?1320650752" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo" id="logo_title">SignIn | SignUp</h1>
<img src="/images/att.png" alt="" id="logo" height="28" width="28" />
</header>
	<form action="/off_net_consent_wireless" id="off_net_consent_wireless" method="post">
	<p><strong>Sencha API Poller</strong>  by Jason Cline, is requesting do the following: 
		<div id="firstCol_b">
			<ul>
				
				
					<li>Location - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
					<li>Device Capabilities - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
				
				
				
				
				
				
				
			</ul>
			<p>If ok, enter the wireless phone number and click Allow. A verification message will be sent.	</p>
		</div>
	<br><p></p>
	<br>
	<form action="" id="signup" method="post">
		<div id="firstCol_b">
			<label for="phone"><span>Wireless Number</span></label> 
		</div>
		<div id="firstCol_a">
			<img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50">
		</div>
		<div class="input-c" id="firstCol_b" style="right: 9px; top: 9px">
			<input id="login_wireless" name="login[wireless]" size="30" style="color:silver;" type="text" />
			<input id="login_client_id" name="login[client_id]" type="hidden" value="cddc0328b4c56103f8febb0194df7fd8" />
			<input id="login_scope" name="login[scope]" type="hidden" value="TL,DC,WAP,SMS,MMS,PAYMENT" />
			ponse-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 7
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Fri, 11 Nov 2011 20:34:05 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "36ddc3bbbf01cfdf40e1f8b37d6686ea"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 6000
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Fri, 11 Nov 2011 20:34:06 GMT
response-header: content-length => 8493
response-header: set-cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzOTQyMmVmMmU6MjJjZA%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlY2EwOWQ1NjliZDQxNjg3YmQwYWVmOTMzM2Y0MDQyMDE%3D--351e881616a26f27daddd7e63beda31bb94e1725; path=/; HttpOnly, BIGipServeruser_profile_443=269098924.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 7469 bytes (7469 total)
Read 1024 bytes (8493 total)
saved cookie: sessionId=EUID%3DNWY2NWUwNTg6MTMzOTQyMmVmMmU6MjJjZA%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlY2EwOWQ1NjliZDQxNjg3YmQwYWVmOTMzM2Y0MDQyMDE%3D--351e881616a26f27daddd7e63beda31bb94e1725
saved cookie: BIGipServeruser_profile_443=269098924.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="9958188943594730" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKKhuru3soGnuZkiiXqznAoAmrHsfFOjaleR2lpeeZPJnavlOM4BJ5Ix0Bp1l4m0bULgW9tfxvKe
ApBXd9MgZ/CvNfBH/I32P/bT/wBFtQB7BRXJeIfGqaXeGwsrf7TdAgMSflUntxyTWbH491OyuEXW
NJ8qN/7qNG2PUBuv6UAd/RUVrcw3lrFcwOHilUMrDuDUtABRRWJ4i8S23h6BC6Ga4kz5cQOM47k9
hQBt0V53/wAJ3rkca3U2joLJuj+W6g/8DPH6Vm3HjjxA0fnJPFFE7sqbY1JGMeufUUAerUUUUAFF
FFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFeW/EHUZbjXfsW4+TbIvy9tzDJP5EV
6lXlXxAspLfxG1yVPl3KKyt2yoCkfoPzoA6QeAdPXRQgEg1EJuE4c8PjpjpjP4+9ch4I/wCRvsf+
2n/otq77/hMdK/sP7d9qi87y8+Ru+ffjpt69e/SuB8Ef8jfY/wDbT/0W1AF7Vw/hnx1/aEiLPG8r
Tqu4Zw2c/QjJx9BS+KPFEPiWG2srK1kUiTfulwGJwRgYJ45/lVXSGtG8XTnxIRnc+7zfu+Znjd7Y
z7dKu+Nv+Ee8m3/sr7N9q3/N9lxs2Y77eM5x+tAEngSPUZrlbr+0GXTrQsJbdpmxypwQvTGTn8K3
LfXZvF2lajaaaTY3kZTy3MxGV3ZzkDI4BH41w9hqU+jWOqWTq6S3kCBQR0zz+qsa1hDN4J1K0uG3
bbmyYSD0kxnH4NtoAPDQ17UtdEY1ad4bSVWn33LlXUNyB65APWr/AMR9NkMltqasvlhPJZSwBByS
CB36n8q0vh3ZeRoct2w+a5lOD6qvA/XdXPeNmc+MIl1Av9gHl7Qv/PPjfj3zn9KALeo+PbW88Py2
aWLrcSxGJgceWuRjI7/TiuWv9Hn07TLC6nIBuy7IoOcKNuD+Oa7XXf8AhEP+Eel+zfYvO8s+R5GP
M3ds45+ua4GS4mext4XkDRRSOY0JyVJ2547DgfrQB2keneNNaiF6dQNqrjckfmtHkduFH86do3ij
VNL1kaTr2WBYIJGxuQnocjqDXS6f4s0e9slma9gt32/PFK4VlPpz1/CuF165XxV4uhj00FlwsKuB
jOCSW+gz+lAHq1FFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFVNR0y01W1Ntewi
WM8jPBU+oPY1booA5a3+H+iQTiVhcTAHISSQbf0ANWrTwhp1lrn9rQyXAm3u4QsuwbgQQAFzjnjm
t+igDG1fwvpetP5t1CVmxjzYjtY/XsfxqpYeBtFsJ1m8uW4dTlfPYEA/QAA/jXSUUAYd/wCFNO1H
WI9TnM3nJtOxWGxtp4yMZ/WrOt6Faa9bRwXZkURvvVoiAw4xjkHitOigCtYWUWnWENnBu8qFdqlu
p9z71HqekWOsW4hvYFkUcqejKfYjpV2igDlIvh7okc29jdSLn7jyDb+gB/WmSfDrR5JXcTXiBiTt
V1wPYfL0rrqKAOYvPAWiXc5lVZrck5KwuAv5EHH4VqaToGnaKhFlAFdhhpGO5j+P+FadFABRRRQA
UUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABR
RRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFF
FABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQB/9k=
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
13.6s (13.6s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzOTQyMmVmMmU6MjJjZA%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlY2EwOWQ1NjliZDQxNjg3YmQwYWVmOTMzM2Y0MDQyMDE%3D--351e881616a26f27daddd7e63beda31bb94e1725; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 3846
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Fri, 11 Nov 2011 20:34:12 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlY2EwOWQ1NjliZDQxNjg3YmQwYWVmOTMzM2Y0MDQyMDEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--4cb9d35ff75e7b2a473c31173dd3ad30fd8baa0b; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlY2EwOWQ1NjliZDQxNjg3YmQwYWVmOTMzM2Y0MDQyMDEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--4cb9d35ff75e7b2a473c31173dd3ad30fd8baa0b
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
4.0s (17.6s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzOTQyMmVmMmU6MjJjZA%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlY2EwOWQ1NjliZDQxNjg3YmQwYWVmOTMzM2Y0MDQyMDEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--4cb9d35ff75e7b2a473c31173dd3ad30fd8baa0b; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzMzk0MDIxMTRlOjc1MjE%3D
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 349
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Fri, 11 Nov 2011 20:34:16 GMT
response-header: content-length => 145
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 145 bytes (145 total)
Authorization key: LTE2MjkxNzcxOjEzMzk0MDIxMTRlOjc1MjE%3D
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzMzk0MDIxMTRlOjc1MjE%3D">redirected</a>.</body></html>
0.5s (18.2s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzMzk0MDIxMTRlOjc1MjE%3D ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzMzk0MDIxMTRlOjc1MjE%3D
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 98
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Fri, 11 Nov 2011 20:34:17 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "dbd056fff23b135ab9b24652312334ea35bff2e8",
  "access_token": "d78e48d9fb2dee5e462a1f8e699e6aeb"
}
ACCESS TOKEN: d78e48d9fb2dee5e462a1f8e699e6aeb
Refresh TOKEN: dbd056fff23b135ab9b24652312334ea35bff2e8
0.7s (18.9s total) OK. Access token: dbd056fff23b135ab9b24652312334ea35bff2e8...

NEXT TEST: device_info_json 22
3.1s (22.0s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
6.0s (27.9s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
Net::HTTP::Get: /1/devices/tel:123/info?access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
2.5s (30.5s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (33.5s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
3.1s (36.6s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
Net::HTTP::Get: /1/devices/tel:123/info?access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
0.1s (36.7s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (39.7s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=d78e48d9fb2dee5e462a1f8e699e6aeb&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=d78e48d9fb2dee5e462a1f8e699e6aeb&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
5.8s (45.5s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=d78e48d9fb2dee5e462a1f8e699e6aeb&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=d78e48d9fb2dee5e462a1f8e699e6aeb&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
2.5s (48.0s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (51.0s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x10240f2b0>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
4.4s (55.4s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
8.5s (63.9s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=d78e48d9fb2dee5e462a1f8e699e6aeb&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=d78e48d9fb2dee5e462a1f8e699e6aeb&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=d78e48d9fb2dee5e462a1f8e699e6aeb&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=d78e48d9fb2dee5e462a1f8e699e6aeb&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
14.0s (77.9s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (80.9s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
Request: https://api.att.com/1/messages/outbox/sms?access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
Net::HTTP::Post: /1/messages/outbox/sms?access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzMzk0MDIxMTRlOjc1MjE%3D
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Fri, 11 Nov 2011 20:35:20 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b487b5e055d06e"
  },
  "id": "SMSa9b487b5e055d06e"
}
0.6s (81.5s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (84.5s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Fri, 11 Nov 2011 20:35:23 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b598c3c57f08fa"
  },
  "id": "SMSa9b598c3c57f08fa"
}
0.3s (84.8s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.0s (87.8s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
Request: https://api.att.com/1/messages/outbox/mms?access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
Net::HTTP::Post: /1/messages/outbox/mms?access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_12159273.1321043727085"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Fri, 11 Nov 2011 20:35:28 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36ce42"
  },
  "id": "MMSa9b11c1e5b36ce42"
}
1.3s (89.1s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36ce42?access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b11c1e5b36ce42?access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Fri, 11 Nov 2011 20:35:31 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b11c1e5b36ce42"
  }
}
3.5s (92.6s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.0s (95.6s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_19303774.1321043734923"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36ce42?access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Fri, 11 Nov 2011 20:35:34 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b5c707572daab9"
}
0.9s (96.5s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.1s (99.6s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321043738866",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Fri, 11 Nov 2011 20:35:41 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
12.0s (111.6s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321043750890</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Fri, 11 Nov 2011 20:35:53 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
5.8s (117.5s total) OK. New subscription request SEN1321043756736...
Request: : https://api.att.com/1/payments/transactions?access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321043756736",
  "externalMerchantTransactionID": "SenchaTransId1321043756745",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=d78e48d9fb2dee5e462a1f8e699e6aeb
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => I<input id="login_id" name="login[id]" type="hidden" />
			<!--<input  name="phone" type="text" value="4252221234" style="color: silver;">-->
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="javascript:submit_off_net_wireless();">Allow</a>
			</p>
			<p>
				<a class="button cancel" href="/deny_pin">Cancel</a>
			</p>
			<p style="text-align:center; margin-left:10px;color:red;"></p>
			<br>
			<p><SMALL>Refer to Craftguilds Privacy Policy for details on how this information may be used or shared.</SMALL>
			</p>
		</div>
	</form>
	<form action="" id="signup" method="post">
		<hr style="clear:both">   
		<h3>Existing Users</h3><!--move h3 to css and style center it-->
		<!--begin email address-->
		<p>To allow use with another account click  the <strong> Sign in to another account </strong> button.  To sign in and manage consent settings click <strong> Manage Consent</strong>. 
		</p>
		<!--begin SIGNIN/Manage Profile Buttons -->
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=true">SignIn to another account</a>
			</p>
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="#">Manage Consent</a>
			</p>
		</div>
	</form>

<footer>
</footer>
</body>
</html>
#<NoMethodError: undefined method `value=' for nil:NilClass>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.4s (0.4s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 14
response-header: date => Fri, 11 Nov 2011 21:28:41 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "87e059107dba03c2bd14bad2c8b951f1"
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1141
response-header: date => Fri, 11 Nov 2011 21:29:01 GMT
response-header: content-length => 1443
response-header: content-encoding => gzip
response-header: set-cookie => sessionId=EUID%3DNzIwYjQ1YTU6MTMzOTM1Njk5MTQ6MTczNA%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com; path=/
response-header: keep-alive => timeout=5, max=100
response-header: vary => Accept-Encoding
response-header: cache-control => private, max-age=0, must-revalidate
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 1425 bytes (1435 total)
Read 8 bytes (1443 total)
gzip body
saved cookie: sessionId=EUID%3DNzIwYjQ1YTU6MTMzOTM1Njk5MTQ6MTczNA%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/effects.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/controls.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/application.js?1320650752" type="text/javascript"></script>
	<script src="/javascripts/application.js?1320650752" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo" id="logo_title">SignIn | SignUp</h1>
<img src="/images/att.png" alt="" id="logo" height="28" width="28" />
</header>
	<form action="/off_net_consent_wireless" id="off_net_consent_wireless" method="post">
	<p><strong>Sencha API Poller</strong>  by Jason Cline, is requesting do the following: 
		<div id="firstCol_b">
			<ul>
				
				
					<li>Location - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
			SO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Fri, 11 Nov 2011 20:35:56 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 7
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Fri, 11 Nov 2011 21:34:05 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "3bf83b0b9335ca4f85c983066883387d"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 5683
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Fri, 11 Nov 2011 21:34:06 GMT
response-header: content-length => 8567
response-header: set-cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzOTQ3MzJiMTY6LTJlNmE%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlMmZkMTc1NDhmNWE0Y2IwYmE0YTYyYzdiZTRjYmM5MDE%3D--a3cde0d2b3ceca7cad3d54540bba7c0d5a2b96d9; path=/; HttpOnly, BIGipServeruser_profile_443=269098924.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 7471 bytes (7471 total)
Read 1096 bytes (8567 total)
saved cookie: sessionId=EUID%3DNWY2NWUwNTg6MTMzOTQ3MzJiMTY6LTJlNmE%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlMmZkMTc1NDhmNWE0Y2IwYmE0YTYyYzdiZTRjYmM5MDE%3D--a3cde0d2b3ceca7cad3d54540bba7c0d5a2b96d9
saved cookie: BIGipServeruser_profile_443=269098924.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="9961788710966667" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKK4/wAV6l4k0yWW5sljXTo1XMhCkgkgdCc9SO1AHYUVj+Fr641Lw5aXd3J5k8m/c20DOHYDgcdA
K1J/M+zyeTjzdh2Z6bscUASUV52PEHii18Q6fYak0cHnzR7kVEOUZ8dRnHQ+9eiUAFFFc34l8XQa
C628cXn3bLu2ZwqDsSf6UAdJRXncnjrXbVBJe6SkUUg/dsY3TnsQTkGq1h4v1641fTYZriJYbmZA
QiLyhfaR3I6H3oA9NooooAKK83tfHPiS93/ZNLguNmN3lW8j7c9M4bjoaW58ceJbIKbvS4IA3CmW
3kXP0y1AHo9FU9KuZb3SbS6nRUlmiV2VQQASM8Zq5QAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAU
UUUAFFFFABXP+N/+RQvv+2f/AKMWugrmPHF5ar4avLVrmEXLCMrCXG8jevIHXsfyoA5Ge9ng8HaK
LPVDbTL52+GKVleTMhxwv0PXFauh6L4rlntL261GeOBZUd4Z7mTcyAgkbeRyOxrNsvDgHhS31+0v
PIvY3aTMjhU4YqACeh479c4rrdA8Y2GpWAa9uILS6TiRZHCBvdc9v5UAc148nltvF1hPAMyxQRug
xnLCRiOPrVj+xfG11H9rfUmikPzCH7QUP0wo21U8X6rajxfp19bTRXUUEcbN5ThgSsjHGR3/AMa7
WLxToktp9oGpQKuMlXbDj/gPWgDn/C/iu9fUzo+sj/SMlEkIwwYfwt2+h/xrM8bWsmmeKINXwkkc
jI4RiPvJjgj0OBz71Xs3bxF8QlvLSNlhWZZScYwiY5P1x+tR6k0TeP5P7dLfZRMQc5wI8HZ+HTP4
0AXfEfjS11rRzYW1pKskrLuaXGFwQeMH268Vg3un3fh7UdOLYN3sS4CD5grbzgcdeg/Oul8X/wDC
Mf2N/oH2P7ZlfK+y46Z53bfbPXvXJw6jLDfaZdTsJltNhRd2TtVydp9O/wCGKAOt/sXxtdR/a31J
opD8wh+0FD9MKNtWvC/iu9fUzo+sj/SMlEkIwwYfwt2+h/xroIvFOiS2n2galAq4yVdsOP8AgPWu
Es3bxF8QlvLSNlhWZZScYwiY5P1x+tAHo2n6TYaX5n2G2SDzMb9uecZx/M1wniNz4i8cW2lRkmGF
hG2Pzc/kMfhXe6pfJpmmXN6+MQoWAPc9h+JwK4r4eWL3F3e6xPlmJMase7Hlj/L8zQB36qEUKoAU
DAA7CloooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigArn9Z8Iafrl8Lu5muUkCBMRM
oGBn1U+tdBRQBj/8I3Z/8I5/YfmT/Zf7+4b/AL+/rjHX2rH/AOFcaP8A8/N9/wB9p/8AE12FFAHJ
wfD3R4LiObzbuTy3DbJGQq2DnBG3kU6b4faJLMZF+0xKTny0kG39QT+tdVRQBS0zSLHSLcw2UCxK
eWPVmPuTyah1bQNO1pFF7BudRhZFO1h+P+NadFAHK2/w/wBEgk3t9om9FkkGB+QFNg+HujwXEc3m
3cnluG2SMhVsHOCNvIrrKKAOVm+H2iSzGRftMSk58tJBt/UE/rW7pmkWOkW5hsoFiU8serMfcnk1
dooAz9Y0iHW7H7HcSzRxFgx8ogE47HIPH+FP0rS7fR9PjsrbeY0JO5yCxJOcnFXaKACiiigAoooo
AKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigA
ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACi
iigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9k=
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
13.4s (13.4s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzOTQ3MzJiMTY6LTJlNmE%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlMmZkMTc1NDhmNWE0Y2IwYmE0YTYyYzdiZTRjYmM5MDE%3D--a3cde0d2b3ceca7cad3d54540bba7c0d5a2b96d9; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 3657
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Fri, 11 Nov 2011 21:34:12 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlMmZkMTc1NDhmNWE0Y2IwYmE0YTYyYzdiZTRjYmM5MDEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--c2b4de665ebf0e0ad370c799fb9de66e3a36630d; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlMmZkMTc1NDhmNWE0Y2IwYmE0YTYyYzdiZTRjYmM5MDEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--c2b4de665ebf0e0ad370c799fb9de66e3a36630d
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
4.1s (17.5s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzOTQ3MzJiMTY6LTJlNmE%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlMmZkMTc1NDhmNWE0Y2IwYmE0YTYyYzdiZTRjYmM5MDEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--c2b4de665ebf0e0ad370c799fb9de66e3a36630d; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzMzk0NTUzODc4OjFlMTg%3D
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 353
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Fri, 11 Nov 2011 21:34:16 GMT
response-header: content-length => 145
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 145 bytes (145 total)
Authorization key: LTE2MjkxNzcxOjEzMzk0NTUzODc4OjFlMTg%3D
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzMzk0NTUzODc4OjFlMTg%3D">redirected</a>.</body></html>
0.5s (18.0s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzMzk0NTUzODc4OjFlMTg%3D ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzMzk0NTUzODc4OjFlMTg%3D
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 99
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Fri, 11 Nov 2011 21:34:17 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "fc4198cd6abdda7b2661a382660f28baa18a16af",
  "access_token": "2bd64cb46f84da3b9513ed3fb212c1d9"
}
ACCESS TOKEN: 2bd64cb46f84da3b9513ed3fb212c1d9
Refresh TOKEN: fc4198cd6abdda7b2661a382660f28baa18a16af
0.6s (18.6s total) OK. Access token: fc4198cd6abdda7b2661a382660f28baa18a16af...

NEXT TEST: device_info_json 22
3.0s (21.7s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=2bd64cb46f84da3b9513ed3fb212c1d9
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=2bd64cb46f84da3b9513ed3fb212c1d9
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=2bd64cb46f84da3b9513ed3fb212c1d9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
5.5s (27.2s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=2bd64cb46f84da3b9513ed3fb212c1d9
Net::HTTP::Get: /1/devices/tel:123/info?access_token=2bd64cb46f84da3b9513ed3fb212c1d9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
2.6s (29.8s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (32.8s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=2bd64cb46f84da3b9513ed3fb212c1d9
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=2bd64cb46f84da3b9513ed3fb212c1d9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
3.1s (35.9s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=2bd64cb46f84da3b9513ed3fb212c1d9
Net::HTTP::Get: /1/devices/tel:123/info?access_token=2bd64cb46f84da3b9513ed3fb212c1d9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
0.1s (36.0s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (39.0s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=2bd64cb46f84da3b9513ed3fb212c1d9&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=2bd64cb46f84da3b9513ed3fb212c1d9&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
5.8s (44.7s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=2bd64cb46f84da3b9513ed3fb212c1d9&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=2bd64cb46f84da3b9513ed3fb212c1d9&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
2.5s (47.2s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (50.2s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x10237a5c0>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=2bd64cb46f84da3b9513ed3fb212c1d9
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=2bd64cb46f84da3b9513ed3fb212c1d9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
6.0s (56.2s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=2bd64cb46f84da3b9513ed3fb212c1d9
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=2bd64cb46f84da3b9513ed3fb212c1d9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=2bd64cb46f84da3b9513ed3fb212c1d9
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=2bd64cb46f84da3b9513ed3fb212c1d9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
9.0s (65.2s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=2bd64cb46f84da3b9513ed3fb212c1d9&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=2bd64cb46f84da3b9513ed3fb212c1d9&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=2bd64cb46f84da3b9513ed3fb212c1d9&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=2bd64cb46f84da3b9513ed3fb212c1d9&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
15.5s (80.8s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (83.8s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=2bd64cb46f84da3b9513ed3fb212c1d9
Request: https://api.att.com/1/messages/outbox/sms?access_token=2bd64cb46f84da3b9513ed3fb212c1d9
Net::HTTP::Post: /1/messages/outbox/sms?access_token=2bd64cb46f84da3b9513ed3fb212c1d9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzMzk0NTUzODc4OjFlMTg%3D
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Fri, 11 Nov 2011 21:35:23 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b1604502ecf377"
  },
  "id": "SMSa9b1604502ecf377"
}
1.0s (84.8s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (87.8s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=2bd64cb46f84da3b9513ed3fb212c1d9
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=2bd64cb46f84da3b9513ed3fb212c1d9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=2bd64cb46f84da3b9513ed3fb212c1d9
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Fri, 11 Nov 2011 21:35:27 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b598c3c57f0909"
  },
  "id": "SMSa9b598c3c57f0909"
}
0.7s (88.5s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.0s (91.5s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=2bd64cb46f84da3b9513ed3fb212c1d9
Request: https://api.att.com/1/messages/outbox/mms?access_token=2bd64cb46f84da3b9513ed3fb212c1d9
Net::HTTP::Post: /1/messages/outbox/mms?access_token=2bd64cb46f84da3b9513ed3fb212c1d9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_12928981.1321047330778"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=2bd64cb46f84da3b9513ed3fb212c1d9
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Fri, 11 Nov 2011 21:35:31 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf677573"
  },
  "id": "MMSa9b50d45cf677573"
}
1.9s (93.5s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf677573?access_token=2bd64cb46f84da3b9513ed3fb212c1d9
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b50d45cf677573?access_token=2bd64cb46f84da3b9513ed3fb212c1d9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Fri, 11 Nov 2011 21:35:35 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b50d45cf677573"
  }
}
3.5s (97.0s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.0s (100.0s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=2bd64cb46f84da3b9513ed3fb212c1d9
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=2bd64cb46f84da3b9513ed3fb212c1d9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_13875050.1321047339301"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf677573?access_token=2bd64cb46f84da3b9513ed3fb212c1d9
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Fri, 11 Nov 2011 21:35:39 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b4a1507be34a49"
}
0.7s (100.7s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.0s (103.7s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=2bd64cb46f84da3b9513ed3fb212c1d9
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321047342970",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=2bd64cb46f84da3b9513ed3fb212c1d9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=2bd64cb46f84da3b9513ed3fb212c1d9
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Fri, 11 Nov 2011 21:35:45 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
12.1s (115.8s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=2bd64cb46f84da3b9513ed3fb212c1d9
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321047355116</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=2bd64cb46f84da3b9513ed3fb212c1d9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=2bd64cb46f84da3b9513ed3fb212c1d9
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Fri, 11 Nov 2011 21:35:57 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
5.9s (121.7s total) OK. New subscription request SEN1321047360983...
Request: : https://api.att.com/1/payments/transactions?access_token=2bd64cb46f84da3b9513ed3fb212c1d9
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321047360983",
  "externalMerchantTransactionID": "SenchaTransId1321047360995",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=2bd64cb46f84da3b9513ed3fb212c1d9
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  applicatio127.0.0.1 - - [11/Nov/2011 15:52:39] "GET /index.html HTTP/1.1" 200 707 0.0009
touch2 - - [11/Nov/2011:15:52:39 CST] "GET /index.html HTTP/1.1" 200 707
- -> /index.html
127.0.0.1 - - [11/Nov/2011 15:52:40] "GET /app/view/Viewport.js?_dc=1321048360893 HTTP/1.1" 200 1718 0.0015
touch2 - - [11/Nov/2011:15:52:40 CST] "GET /app/view/Viewport.js?_dc=1321048360893 HTTP/1.1" 200 1718
Referer -> /app/view/Viewport.js?_dc=1321048360893
127.0.0.1 - - [11/Nov/2011 15:52:40] "GET /app/controller/Status.js?_dc=1321048360895 HTTP/1.1" 200 2810 0.0011
127.0.0.1 - - [11/Nov/2011 15:52:40] "GET /app/controller/History.js?_dc=1321048360895 HTTP/1.1" 200 5829 0.0026
touch2 - - [11/Nov/2011:15:52:40 CST] "GET /app/controller/Status.js?_dc=1321048360895 HTTP/1.1" 200 2810
Referer -> /app/controller/Status.js?_dc=1321048360895
127.0.0.1 - - [11/Nov/2011 15:52:40] "GET /app/controller/Oauth.js?_dc=1321048360896 HTTP/1.1" 200 3446 0.0017
touch2 - - [11/Nov/2011:15:52:40 CST] "GET /app/controller/History.js?_dc=1321048360895 HTTP/1.1" 200 5829
Referer -> /app/controller/History.js?_dc=1321048360895
touch2 - - [11/Nov/2011:15:52:40 CST] "GET /app/controller/Oauth.js?_dc=1321048360896 HTTP/1.1" 200 3446
Referer -> /app/controller/Oauth.js?_dc=1321048360896
127.0.0.1 - - [11/Nov/2011 15:52:40] "GET /app/view/status/Grid.js?_dc=1321048360915 HTTP/1.1" 200 1515 0.0014
127.0.0.1 - - [11/Nov/2011 15:52:40] "GET /app/view/summary/SummaryPanel.js?_dc=1321048360917 HTTP/1.1" 200 2457 0.0019
touch2 - - [11/Nov/2011:15:52:40 CST] "GET /app/view/status/Grid.js?_dc=1321048360915 HTTP/1.1" 200 1515
Referer -> /app/view/status/Grid.js?_dc=1321048360915
127.0.0.1 - - [11/Nov/2011 15:52:40] "GET /app/controller/Base.js?_dc=1321048360922 HTTP/1.1" 200 964 0.0012
touch2 - - [11/Nov/2011:15:52:40 CST] "GET /app/view/summary/SummaryPanel.js?_dc=1321048360917 HTTP/1.1" 200 2457
Referer -> /app/view/summary/SummaryPanel.js?_dc=1321048360917
touch2 - - [11/Nov/2011:15:52:40 CST] "GET /app/controller/Base.js?_dc=1321048360922 HTTP/1.1" 200 964
Referer -> /app/controller/Base.js?_dc=1321048360922
127.0.0.1 - - [11/Nov/2011 15:52:41] "GET /app/model/Summary.js?_dc=1321048361001 HTTP/1.1" 200 1200 0.0049
127.0.0.1 - - [11/Nov/2011 15:52:41] "GET /app/store/Tests.js?_dc=1321048361003 HTTP/1.1" 200 289 0.0030
127.0.0.1 - - [11/Nov/2011 15:52:41] "GET /app/model/Test.js?_dc=1321048361000 HTTP/1.1" 200 142 0.0024
127.0.0.1 - - [11/Nov/2011 15:52:41] "GET /app/model/AllApiResponseTime.js?_dc=1321048361004 HTTP/1.1" 200 314 0.0017
127.0.0.1 - - [11/Nov/2011 15:52:41] "GET /app/model/LogEntry.js?_dc=1321048361005 HTTP/1.1" 200 354 0.0013
touch2 - - [11/Nov/2011:15:52:41 CST] "GET /app/model/Summary.js?_dc=1321048361001 HTTP/1.1" 200 1200
Referer -> /app/model/Summary.js?_dc=1321048361001
touch2 - - [11/Nov/2011:15:52:41 CST] "GET /app/store/Tests.js?_dc=1321048361003 HTTP/1.1" 200 289
Referer -> /app/store/Tests.js?_dc=1321048361003
touch2 - - [11/Nov/2011:15:52:41 CST] "GET /app/model/Test.js?_dc=1321048361000 HTTP/1.1" 200 142
Referer -> /app/model/Test.js?_dc=1321048361000
touch2 - - [11/Nov/2011:15:52:41 CST] "GET /app/model/AllApiResponseTime.js?_dc=1321048361004 HTTP/1.1" 200 314
Referer -> /app/model/AllApiResponseTime.js?_dc=1321048361004
127.0.0.1 - - [11/Nov/2011 15:52:41] "GET /app/view/history/ChartPanel.js?_dc=1321048361006 HTTP/1.1" 200 2352 0.0019
touch2 - - [11/Nov/2011:15:52:41 CST] "GET /app/model/LogEntry.js?_dc=1321048361005 HTTP/1.1" 200 354
Referer -> /app/model/LogEntry.js?_dc=1321048361005
touch2 - - [11/Nov/2011:15:52:41 CST] "GET /app/view/history/ChartPanel.js?_dc=1321048361006 HTTP/1.1" 200 2352
Referer -> /app/view/history/ChartPanel.js?_dc=1321048361006
127.0.0.1 - - [11/Nov/2011 15:52:41] "GET /app/view/history/LineChart.js?_dc=1321048361007 HTTP/1.1" 200 2829 0.0051
127.0.0.1 - - [11/Nov/2011 15:52:41] "GET /app/view/history/Grid.js?_dc=1321048361008 HTTP/1.1" 200 1503 0.0034
127.0.0.1 - - [11/Nov/2011 15:52:41] "GET /app/store/LogEntries.js?_dc=1321048361011 HTTP/1.1" 200 225 0.0015
127.0.0.1 - - [11/Nov/2011 15:52:41] "GET /app/store/AllApiTests.js?_dc=1321048361009 HTTP/1.1" 200 589 0.0041
127.0.0.1 - - [11/Nov/2011 15:52:41] "GET /app/model/OauthApiResponseTime.js?_dc=1321048361012 HTTP/1.1" 200 760 0.0013
touch2 - - [11/Nov/2011:15:52:41 CST] "GET /app/view/history/LineChart.js?_dc=1321048361007 HTTP/1.1" 200 2829
Referer -> /app/view/history/LineChart.js?_dc=1321048361007
touch2 - - [11/Nov/2011:15:52:41 CST] "GET /app/view/history/Grid.js?_dc=1321048361008 HTTP/1.1" 200 1503
Referer -> /app/view/history/Grid.js?_dc=1321048361008
touch2 - - [11/Nov/2011:15:52:41 CST] "GET /app/store/LogEntries.js?_dc=1321048361011 HTTP/1.1" 200 225
Referer -> /app/store/LogEntries.js?_dc=1321048361011
touch2 - - [11/Nov/2011:15:52:41 CST] "GET /app/store/AllApiTests.js?_dc=1321048361009 HTTP/1.1" 200 589
Referer -> /app/store/AllApiTests.js?_dc=1321048361009
127.0.0.1 - - [11/Nov/2011 15:52:41] "GET /app/view/oauth/BarStackedChart.js?_dc=1321048361013 HTTP/1.1" 200 1211 0.0019
touch2 - - [11/Nov/2011:15:52:41 CST] "GET /app/model/OauthApiResponseTime.js?_dc=1321048361012 HTTP/1.1" 200 760
Referer -> /app/model/OauthApiResponseTime.js?_dc=1321048361012
touch2 - - [11/Nov/2011:15:52:41 CST] "GET /app/view/oauth/BarStackedChart.js?_dc=1321048361013 HTTP/1.1" 200 1211
Referer -> /app/view/oauth/BarStackedChart.js?_dc=1321048361013
127.0.0.1 - - [11/Nov/2011 15:52:41] "GET /app/view/oauth/BarUnstackedChart.js?_dc=1321048361014 HTTP/1.1" 200 1287 0.0035
127.0.0.1 - - [11/Nov/2011 15:52:41] "GET /app/view/oauth/ChartPanel.js?_dc=1321048361015 HTTP/1.1" 200 1193 0.0031
127.0.0.1 - - [11/Nov/2011 15:52:41] "GET /app/view/oauth/ColumnStackedChart.js?_dc=1321048361016 HTTP/1.1" 200 1292 0.0022
127.0.0.1 - - [11/Nov/2011 15:52:41] "GET /app/view/oauth/ColumnUnstackedChart.js?_dc=1321048361017 HTTP/1.1" 200 1373 0.0020
touch2 - - [11/Nov/2011:15:52:41 CST] "GET /app/view/oauth/BarUnstackedChart.js?_dc=1321048361014 HTTP/1.1" 200 1287
Referer -> /app/view/oauth/BarUnstackedChart.js?_dc=1321048361014
touch2 - - [11/Nov/2011:15:52:41 CST] "GET /app/view/oauth/ChartPanel.js?_dc=1321048361015 HTTP/1.1" 200 1193
Referer -> /app/view/oauth/ChartPanel.js?_dc=1321048361015
127.0.0.1 - - [11/Nov/2011 15:52:41] "GET /app/view/oauth/LineChart.js?_dc=1321048361018 HTTP/1.1" 200 2582 0.0017
touch2 - - [11/Nov/2011:15:52:41 CST] "GET /app/view/oauth/ColumnStackedChart.js?_dc=1321048361016 HTTP/1.1" 200 1292
Referer -> /app/view/oauth/ColumnStackedChart.js?_dc=1321048361016
touch2 - - [11/Nov/2011:15:52:41 CST] "GET /app/view/oauth/ColumnUnstackedChart.js?_dc=1321048361017 HTTP/1.1" 200 1373
Referer -> /app/view/oauth/ColumnUnstackedChart.js?_dc=1321048361017
127.0.0.1 - - [11/Nov/2011 15:52:41] "GET /app/store/OauthApiTests.js?_dc=1321048361019 HTTP/1.1" 200 333 0.0015
touch2 - - [11/Nov/2011:15:52:41 CST] "GET /app/view/oauth/LineChart.js?_dc=1321048361018 HTTP/1.1" 200 2582
Referer -> /app/view/oauth/LineChart.js?_dc=1321048361018
touch2 - - [11/Nov/2011:15:52:41 CST] "GET /app/store/OauthApiTests.js?_dc=1321048361019 HTTP/1.1" 200 333
Referer -> /app/store/OauthApiTests.js?_dc=1321048361019
127.0.0.1 - - [11/Nov/2011 15:52:41] "GET /app/store/ChartChoices.js?_dc=1321048361021 HTTP/1.1" 200 508 0.0010
touch2 - - [11/Nov/2011:15:52:41 CST] "GET /app/store/ChartChoices.js?_dc=1321048361021 HTTP/1.1" 200 508
Referer -> /app/store/ChartChoices.js?_dc=1321048361021
127.0.0.1 - - [11/Nov/2011 15:52:41] "GET /app/view/history/AbstractChart.js?_dc=1321048361090 HTTP/1.1" 200 593 0.0033
127.0.0.1 - - [11/Nov/2011 15:52:41] "GET /app/view/oauth/AbstractChart.js?_dc=1321048361117 HTTP/1.1" 200 1133 0.0032
127.0.0.1 - - [11/Nov/2011 15:52:41] "GET /app/model/ChartChoice.js?_dc=1321048361157 HTTP/1.1" 200 212 0.0014
touch2 - - [11/Nov/2011:15:52:41 CST] "GET /app/view/history/AbstractChart.js?_dc=1321048361090 HTTP/1.1" 200 593
Referer -> /app/view/history/AbstractChart.js?_dc=1321048361090
touch2 - - [11/Nov/2011:15:52:41 CST] "GET /app/view/oauth/AbstractChart.js?_dc=1321048361117 HTTP/1.1" 200 1133
Referer -> /app/view/oauth/AbstractChart.js?_dc=1321048361117
touch2 - - [11/Nov/2011:15:52:41 CST] "GET /app/model/ChartChoice.js?_dc=1321048361157 HTTP/1.1" 200 212
Referer -> /app/model/ChartChoice.js?_dc=1321048361157
127.0.0.1 - - [11/Nov/2011 15:52:41] "GET /status_data?_dc=1321048361788&page=1&start=0&limit=25 HTTP/1.1" 200 1597 0.0049
NoMethodError - undefined method `public_server' for #<AttApiReporter:0x1023059a0>:
	test.rb:140:in `GET /status_summary'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:1211:in `call'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:1211:in `compile!'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:772:in `[]'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:772:in `route!'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:788:in `route_eval'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:772:in `route!'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:821:in `process_route'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:819:in `catch'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:819:in `process_route'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:771:in `route!'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:770:in `each'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:770:in `route!'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:886:in `dispatch!'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:706:in `call!'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:871:in `invoke'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:871:in `catch'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:871:in `invoke'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:706:in `call!'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:692:in `call'
	/Library/Ruby/Gems/1.8/gems/rack-protection-1.1.4/lib/rack/protection/xss_header.rb:22:in `call'
	/Library/Ruby/Gems/1.8/gems/rack-protection-1.1.4/lib/rack/protection/path_traversal.rb:16:in `call'
	/Library/Ruby/Gems/1.8/gems/rack-protection-1.1.4/lib/rack/protection/json_csrf.rb:17:in `call'
	/Library/Ruby/Gems/1.8/gems/rack-protection-1.1.4/lib/rack/protection/base.rb:47:in `call'
	/Library/Ruby/Gems/1.8/gems/rack-protection-1.1.4/lib/rack/protection/xss_header.rb:22:in `call'
	/Library/Ruby/Gems/1.8/gems/rack-1.3.5/lib/rack/logger.rb:15:in `call'
	/Library/Ruby/Gems/1.8/gems/rack-1.3.5/lib/rack/commonlogger.rb:20:in `call'
	/Library/Ruby/Gems/1.8/gems/rack-1.3.5/lib/rack/head.rb:9:in `call'
	/Library/Ruby/Gems/1.8/gems/rack-1.3.5/lib/rack/methodoverride.rb:24:in `call'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/showexceptions.rb:21:in `call'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:1334:in `call'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:1403:in `synchronize'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:1334:in `call'
	/Library/Ruby/Gems/1.8/gems/rack-1.3.5/lib/rack/handler/webrick.rb:59:in `service'
	/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
	/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
	/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
	/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
	/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
	/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
	/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
	/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
	/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
	/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
	/Library/Ruby/Gems/1.8/gems/rack-1.3.5/lib/rack/handler/webrick.rb:13:in `run'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:1295:in `run!'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/main.rb:25
	test.rb:372
touch2 - - [11/Nov/2011:15:52:41 CST] "GET /status_data?_dc=1321048361788&page=1&start=0&limit=25 HTTP/1.1" 200 1597
Referer -> /status_data?_dc=1321048361788&page=1&start=0&limit=25
touch2 - - [11/Nov/2011:15:52:41 CST] "GET /status_summary?_dc=1321048361798 HTTP/1.1" 500 133930
Referer -> /status_summary?_dc=1321048361798
127.0.0.1 - - [11/Nov/2011 15:52:45] "GET /lib/ext-4.0.6/resources/themes/images/default/tab/tab-default-close.gif HTTP/1.1" 200 896 0.0604
touch2 - - [11/Nov/2011:15:52:44 CST] "GET /lib/ext-4.0.6/resources/themes/images/default/tab/tab-default-close.gif HTTP/1.1" 200 896
Referer -> /lib/ext-4.0.6/resources/themes/images/default/tab/tab-default-close.gif
127.0.0.1 - - [11/Nov/2011 15:52:45] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/page-next-disabled.gif HTTP/1.1" 200 875 0.0387
127.0.0.1 - - [11/Nov/2011 15:52:45] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/page-first-disabled.gif HTTP/1.1" 200 925 0.0247
127.0.0.1 - - [11/Nov/2011 15:52:45] "GET /lib/ext-4.0.6/resources/themes/images/default/form/trigger.gif HTTP/1.1" 200 1816 0.0420
127.0.0.1 - - [11/Nov/2011 15:52:45] "GET /lib/ext-4.0.6/resources/themes/images/default/util/splitter/mini-bottom.gif HTTP/1.1" 200 856 0.0327
127.0.0.1 - - [11/Nov/2011 15:52:45] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/page-prev-disabled.gif HTTP/1.1" 200 879 0.0474
touch2 - - [11/Nov/2011:15:52:45 CST] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/page-next-disabled.gif HTTP/1.1" 200 875
Referer -> /lib/ext-4.0.6/resources/themes/images/default/grid/page-next-disabled.gif
touch2 - - [11/Nov/2011:15:52:45 CST] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/page-first-disabled.gif HTTP/1.1" 200 925
Referer -> /lib/ext-4.0.6/resources/themes/images/default/grid/page-first-disabled.gif
touch2 - - [11/Nov/2011:15:52:45 CST] "GET /lib/ext-4.0.6/resources/themes/images/default/form/trigger.gif HTTP/1.1" 200 1816
Referer -> /lib/ext-4.0.6/resources/themes/images/default/form/trigger.gif
touch2 - - [11/Nov/2011:15:52:45 CST] "GET /lib/ext-4.0.6/resources/themes/images/default/util/splitter/mini-bottom.gif HTTP/1.1" 200 856
Referer -> /lib/ext-4.0.6/resources/themes/images/default/util/splitter/mini-bottom.gif
touch2 - - [11/Nov/2011:15:52:45 CST] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/page-prev-disabled.gif HTTP/1.1" 200 879
Referer -> /lib/ext-4.0.6/resources/themes/images/default/grid/page-prev-disabled.gif
127.0.0.1 - - [11/Nov/2011 15:52:45] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/page-last-disabled.gif HTTP/1.1" 200 923 0.0015
touch2 - - [11/Nov/2011:15:52:45 CST] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/page-last-disabled.gif HTTP/1.1" 200 923
Referer -> /lib/ext-4.0.6/resources/themes/images/default/grid/page-last-disabled.gif
127.0.0.1 - - [11/Nov/2011 15:52:45] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/refresh.gif HTTP/1.1" 200 977 0.0177
127.0.0.1 - - [11/Nov/2011 15:52:45] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/page-next.gif HTTP/1.1" 200 875 0.0173
127.0.0.1 - - [11/Nov/2011 15:52:45] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/page-last.gif HTTP/1.1" 200 923 0.0189
127.0.0.1 - - [11/Nov/2011 15:52:45] "GET /history_data_paged?_dc=1321048364805&start=0&limit=0&testName=oauth_fetch_login&page=1 HTTP/1.1" 200 24 0.0024
127.0.0.1 - - [11/Nov/2011 15:52:45] "GET /history_data_paged?_dc=1321048364910&testName=oauth_fetch_login&page=1&start=0&limit=20 HTTP/1.1" 200 535 0.0188
touch2 - - [11/Nov/2011:15:52:45 CST] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/refresh.gif HTTP/1.1" 200 977
Referer -> /lib/ext-4.0.6/resources/themes/images/default/grid/refresh.gif
touch2 - - [11/Nov/2011:15:52:45 CST] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/page-next.gif HTTP/1.1" 200 875
Referer -> /lib/ext-4.0.6/resources/themes/images/default/grid/page-next.gif
touch2 - - [11/Nov/2011:15:52:45 CST] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/page-last.gif HTTP/1.1" 200 923
Referer -> /lib/ext-4.0.6/resources/themes/images/default/grid/page-last.gif
touch2 - - [11/Nov/2011:15:52:45 CST] "GET /history_data_paged?_dc=1321048364805&start=0&limit=0&testName=oauth_fetch_login&page=1 HTTP/1.1" 200 24
Referer -> /history_data_paged?_dc=1321048364805&start=0&limit=0&testName=oauth_fetch_login&page=1
127.0.0.1 - - [11/Nov/2011 15:52:45] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/sort_desc.gif HTTP/1.1" 200 833 0.0016
touch2 - - [11/Nov/2011:15:52:45 CST] "GET /history_data_paged?_dc=1321048364910&testName=oauth_fetch_login&page=1&start=0&limit=20 HTTP/1.1" 200 535
Referer -> /history_data_paged?_dc=1321048364910&testName=oauth_fetch_login&page=1&start=0&limit=20
touch2 - - [11/Nov/2011:15:52:45 CST] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/sort_desc.gif HTTP/1.1" 200 833
Referer -> /lib/ext-4.0.6/resources/themes/images/default/grid/sort_desc.gif
127.0.0.1 - - [11/Nov/2011 15:52:45] "GET /history_data_paged?_dc=1321048365129&testName=oauth_fetch_login&page=1&start=0&limit=20 HTTP/1.1" 200 535 0.0022
touch2 - - [11/Nov/2011:15:52:45 CST] "GET /history_data_paged?_dc=1321048365129&testName=oauth_fetch_login&page=1&start=0&limit=20 HTTP/1.1" 200 535
Referer -> /history_data_paged?_dc=1321048365129&testName=oauth_fetch_login&page=1&start=0&limit=20
127.0.0.1 - - [11/Nov/2011 15:52:45] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/grid3-hd-btn.gif HTTP/1.1" 200 1229 0.0239
touch2 - - [11/Nov/2011:15:52:45 CST] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/grid3-hd-btn.gif HTTP/1.1" 200 1229
Referer -> /lib/ext-4.0.6/resources/themes/images/default/grid/grid3-hd-btn.gif
		<li>Device Capabilities - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
				
				
				
				
				
				
				
			</ul>
			<p>If ok, enter the wireless phone number and click Allow. A verification message will be sent.	</p>
		</div>
	<br><p></p>
	<br>
	<form action="" id="signup" method="post">
		<div id="firstCol_b">
			<label for="phone"><span>Wireless Number</span></label> 
		</div>
		<div id="firstCol_a">
			<img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50">
		</div>
		<div class="input-c" id="firstCol_b" style="right: 9px; top: 9px">
			<input id="login_wireless" name="login[wireless]" size="30" style="color:silver;" type="text" />
			<input id="login_client_id" name="login[client_id]" type="hidden" value="cddc0328b4c56103f8febb0194df7fd8" />
			<input id="login_scope" name="login[scope]" type="hidden" value="TL,DC,WAP,SMS,MMS,PAYMENT" />
			<input id="login_id" name="login[id]" type="hidden" />
			<!--<input  name="phone" type="text" value="4252221234" style="color: silver;">-->
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="javascript:submit_off_net_wireless();">Allow</a>
			</p>
			<p>
				<a class="button cancel" href="/deny_pin">Cancel</a>
			</p>
			<p style="text-align:center; margin-left:10px;color:red;"></p>
			<br>
			<p><SMALL>Refer to Craftguilds Privacy Policy for details on how this information may be used or shared.</SMALL>
			</p>
		</div>
	</form>
	<form action="" id="signup" method="post">
		<hr style="clear:both">   
		<h3>Existing Users</h3><!--move h3 to css and style center it-->
		<!--begin email address-->
		<p>To allow use with another account click  the <strong> Sign in to another account </strong> button.  To sign in and manage consent settings click <strong> Manage Consent</strong>. 
		</p>
		<!--begin SIGNIN/Manage Profile Buttons -->
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=true">SignIn to another account</a>
			</p>
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="#">Manage Consent</a>
			</p>
		</div>
	</form>

<footer>
</footer>
</body>
</html>
#<NoMethodError: undefined method `value=' for nil:NilClass>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.4s (0.4s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 16
response-header: date => Fri, 11 Nov 2011 22:28:41 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "87e059107dba03c2bd14bad2c8b951f1"
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 2978
response-header: date => Fri, 11 Nov 2011 22:29:03 GMT
response-header: content-length => 1443
response-header: content-encoding => gzip
response-header: set-cookie => sessionId=EUID%3DLTExOWE0NWM2OjEzMzkyOTM1ZjUyOjY4MDU%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com; path=/
response-header: keep-alive => timeout=5, max=100
response-header: vary => Accept-Encoding
response-header: cache-control => private, max-age=0, must-revalidate
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 1425 bytes (1435 total)
Read 8 bytes (1443 total)
gzip body
saved cookie: sessionId=EUID%3DLTExOWE0NWM2OjEzMzkyOTM1ZjUyOjY4MDU%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/effects.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/controls.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/application.js?1320650752" type="text/javascript"></script>
	<script src="/javascripts/application.js?1320650752" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo" id="logo_title">SignIn | SignUp</h1>
<img src="/images/att.png" alt="" id="logo" height="28" width="28" />
</header>
	<form action="/off_net_consent_wireless" id="off_net_consent_wireless" method="post">
	<p><strong>Sencha API Poller</strong>  by Jason Cline, is requesting do the following: 
		<div id="firstCol_b">
			<ul>
				
				
					<li>Location - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
					<li>Device Capabilities - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
				
				
				
				
				
				
				
			</ul>
			<p>If ok, enter the wireless phone number and click Allow. A verification message will be sent.	</p>
		</div>
	<br><p></p>
	<br>
	<form action="" id="signup" method="post">
		<div id="firstCol_b">
			<label for="phone"><span>Wireless Number</span></label> 
		</div>
		<div id="firstCol_a">
			<img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50">
		</div>
		<div class="input-c" id="firstCol_b" style="right: 9px; top: 9px">
			<input id="login_wireless" name="login[wireless]" size="30" style="color:silver;" type="text" />
			<input id="login_client_id" name="login[client_id]" type="hidden" value="cddc0328b4c56103f8febb0194df7fd8" />
			<input id="login_scope" name="login[scope]" type="hidden" value="TL,DC,WAP,SMS,MMS,PAYMENT" />
			<input id="login_id" name="login[id]" type="hidden" />
			<!--<input  name="phone" type="text" value="4252221234" style="color: silver;">-->
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="javascript:submit_off_net_wireless();">Allow</a>
			</p>
			<p>
				<a class="button cancel" href="/deny_pin">Cancel</a>
			</p>
			<p style="text-align:center; margin-left:10px;color:red;"></p>
			<br>
			<p><SMALL>Refer to Craftguilds Privacy Policy for details on how this information may be used or shared.</SMALL>
			</p>
		</div>
	</form>
	<form action="" id="signup" method="post">
		<hr style="clear:both">   
		<h3>Existing Users</h3><!--move h3 to css and style center it-->
		<!--begin email address-->
		<p>To allow use with another account click  the <strong> Sign in to another account </strong> button.  To sign in and manage consent settings click <strong> Manage Consent</strong>. 
		</p>
		<!--begin SIGNIN/Manage Profile Buttons -->
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=true">SignIn to another account</a>
			</p>
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="#">Manage Consent</a>
			</p>
		</div>
	</form>

<footer>
</footer>
</body>
</html>
#<NoMethodError: undefined method `value=' for nil:NilClass>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_sen/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=2bd64cb46f84da3b9513ed3fb212c1d9
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Fri, 11 Nov 2011 21:36:01 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.4s (0.4s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 7
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Fri, 11 Nov 2011 22:34:06 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "235798d9e503f4676fa106e563a48317"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 5499
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Fri, 11 Nov 2011 22:34:07 GMT
response-header: content-length => 8699
response-header: set-cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzOTRjNDE1NWY6LTdmZGI%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlN2I2YTliZDdlNTMyMTRkMzE0MTE1ZTU5MjRhNmI4YzQ%3D--28368cbe150fbed23f8a552af089232ad3b92a9e; path=/; HttpOnly, BIGipServeruser_profile_443=269098924.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 7471 bytes (7471 total)
Read 1228 bytes (8699 total)
saved cookie: sessionId=EUID%3DNWY2NWUwNTg6MTMzOTRjNDE1NWY6LTdmZGI%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlN2I2YTliZDdlNTMyMTRkMzE0MTE1ZTU5MjRhNmI4YzQ%3D--28368cbe150fbed23f8a552af089232ad3b92a9e
saved cookie: BIGipServeruser_profile_443=269098924.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="9965388651633778" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKKyL7xRo+m3jWl3d+VMuMqYnPUZHIGKANeigEEZHIrHHijRm1D7At5m58zytgic/NnGM4x170Ab
FFFFABRTJpkt4JJpSRHGpZiATgDk8Dms7TfEek6tcNb2N2JZVXeV8tl44HcD1FAGpRVe+vrbTbR7
q7lEcCY3NgnGTgcDnvVbTtc03VY5pLK58xIcGRijKF6/3gPQ0AaNFcJeePrq4vGt9E077RjozKzF
h6hV5AqbSPHbS362Or2f2WVmChwCAGPQMp5H1oA7KaaO3heaVwkcalmY9AB1NZ2m+ItK1e4a3sbr
zZVQuV8tl4yBnkD1Fcv8QNbIRdGtiS7DzLjb2Uchf6n8Ky/hx/yMNx/16N/6GlAHqFFFFABRRRQA
UUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFcB8SNN4tdTRf8ApjIf1X+v6V39Z+uacNV0W6s8
DdIh2Z7MOR+oFAGbo+tKfBCai5y1vAVbPdk4H54H51wfhrRb7WpL24tZzDcRKDHMXK4dmGeRz90N
+YqnDq8lv4cvNIIYebOj4PYD7w/NV/WvSvBmm/2d4cg3LiWf98/49P0xQBwVwfEVrri6TcazcxzM
6qJGupNhz0OeuPwrq/iDPe2lpZXFpfyWwDsjJHKyNITjHTrjB6+vvS+P9GN3pyalCv7+1+/jqY//
AKx5/E1zS3F3431vT7WUFYoYgJSPQY3t9ScD8qANrwjp+v3M9pql5qMslgwfMM07sXG0gHaeMZwe
TWJaIfDPj5YTlYRNsGf+eb9D+AI/KvVY40hiSKNQqIoVVHQAdBXBfEjTeLXU4xyP3MhH5qf5/pQB
P8SL/wAuxtLBTzK5kb6LwP1P6Vo+GtE8nwYbVvklvYmZ27jeMD8hiuMaeTxh4psY2B2GONH9goy/
67v0r0TxKbmPw1fGyyJli+Xb1C5G7H/Ac0AefeHNaXwlql7b30BkDYR2hIYqVz05wQc+tVPEGrJ4
g1d76KLyYYY1X5mAYgHr9cnHGa1PBP8Awj3k3H9q/ZvtW/5ftWNmzHbdxnOf0rM8Qwafd+I1t9CV
WSTau2P7pkJ52+3T9aANnRdLlutF1rxDf/NNNbTiIn3U7m/oPxqv8OP+RhuP+vRv/Q0qG78AarZ2
U91JcWZSGNpGCu2SAMnHy+1Y+iaJc69eva2rxI6RmQmUkDAIHYH1oA9uoqrpts9npVnayFS8MCRs
V6EhQDj8qtUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAVTu9V0+wfZd3tvA+3ftkk
AYj1A6noauVha34TsNeu0ubqS4SRIxGPKYAYyT3B9TQB51DbReIfGTJaxkW09wXI9Ezkn2yP516z
e3cWm6fNdSKxigTcVQDOB6VU0fw9p2hq32OIiRxhpHOWI9M/4VoyxRzxNFLGskbDDI4yCPcUAcPq
fxCsJ9NuIbS2ufPkQovnIu0Z4yfmPal+GwtDaXpRX+1hl8xmAxtOdoHPsSenauq/sLSP+gVY/wDg
On+FWLaxs7Ld9ltYIN+N3lRhd2OmcfU0AWK5Dxfr2kS+HZ7eO6guZZsBEikDEHIOTjpjFdfXJp8O
9FSTcz3bjP3GkGP0AP60AZfw30wj7Vqci9f3MRP5sf5frXoFRW1tDZ2yW9vGscMYwqL0FS0Ac3f+
BtFv52m8uW3ZjlvIYAE/QggfhVvSPC+l6K/m2sJabGPNlO5vw7D8BWzRQBDd2yXllPayFgk0bRsV
6gEYOPzrH0TwlYaDevdWs1y7vGYyJWUjBIPYD0reooAKKKKACiiigAooooAKKKKACiiigAooooAK
KKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAoo
ooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiii
gAooooAKKKKACiiigAooooAKKKKAP//Z
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
13.3s (13.7s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzOTRjNDE1NWY6LTdmZGI%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlN2I2YTliZDdlNTMyMTRkMzE0MTE1ZTU5MjRhNmI4YzQ%3D--28368cbe150fbed23f8a552af089232ad3b92a9e; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 3968
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Fri, 11 Nov 2011 22:34:13 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlN2I2YTliZDdlNTMyMTRkMzE0MTE1ZTU5MjRhNmI4YzQiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--0da6ea488e13732fd11251af5da2cc584f8acf5a; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlN2I2YTliZDdlNTMyMTRkMzE0MTE1ZTU5MjRhNmI4YzQiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--0da6ea488e13732fd11251af5da2cc584f8acf5a
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
4.4s (18.1s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzOTRjNDE1NWY6LTdmZGI%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlN2I2YTliZDdlNTMyMTRkMzE0MTE1ZTU5MjRhNmI4YzQiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--0da6ea488e13732fd11251af5da2cc584f8acf5a; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzMzk0YTg4OWI2Oi0zOTA3
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 358
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Fri, 11 Nov 2011 22:34:17 GMT
response-header: content-length => 143
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 143 bytes (143 total)
Authorization key: LTE2MjkxNzcxOjEzMzk0YTg4OWI2Oi0zOTA3
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzMzk0YTg4OWI2Oi0zOTA3">redirected</a>.</body></html>
0.5s (18.6s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzMzk0YTg4OWI2Oi0zOTA3 ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzMzk0YTg4OWI2Oi0zOTA3
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 101
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Fri, 11 Nov 2011 22:34:18 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "46f5e2d8aa44f305d138b17f3b36a6877f814477",
  "access_token": "78fa27a309034720fd7a57b93ba7b3e1"
}
ACCESS TOKEN: 78fa27a309034720fd7a57b93ba7b3e1
Refresh TOKEN: 46f5e2d8aa44f305d138b17f3b36a6877f814477
0.7s (19.3s total) OK. Access token: 46f5e2d8aa44f305d138b17f3b36a6877f814477...

NEXT TEST: device_info_json 22
3.0s (22.4s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=78fa27a309034720fd7a57b93ba7b3e1
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=78fa27a309034720fd7a57b93ba7b3e1
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=78fa27a309034720fd7a57b93ba7b3e1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPInternalServerError 1.1 500 Internal Server Error
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 169
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 169 bytes (169 total)
500 => Net::HTTPInternalServerError
{"requestError": {

    "serviceException": {

        "messageId": "SVC0001",

        "text": "Internal platform error occurred " ,

        "variables" : " "    }

}}

NEXT TEST: device_info_json_error 21
127.1s (149.5s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=78fa27a309034720fd7a57b93ba7b3e1
Net::HTTP::Get: /1/devices/tel:123/info?access_token=78fa27a309034720fd7a57b93ba7b3e1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
0.2s (149.7s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (152.7s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=78fa27a309034720fd7a57b93ba7b3e1
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=78fa27a309034720fd7a57b93ba7b3e1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
5.7s (158.4s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=78fa27a309034720fd7a57b93ba7b3e1
Net::HTTP::Get: /1/devices/tel:123/info?access_token=78fa27a309034720fd7a57b93ba7b3e1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
0.1s (158.5s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (161.5s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=78fa27a309034720fd7a57b93ba7b3e1&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=78fa27a309034720fd7a57b93ba7b3e1&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
5.6s (167.1s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=78fa27a309034720fd7a57b93ba7b3e1&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=78fa27a309034720fd7a57b93ba7b3e1&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
2.5s (169.5s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (172.6s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x1020f4f08>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=78fa27a309034720fd7a57b93ba7b3e1
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=78fa27a309034720fd7a57b93ba7b3e1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
5.6s (178.1s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=78fa27a309034720fd7a57b93ba7b3e1
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=78fa27a309034720fd7a57b93ba7b3e1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=78fa27a309034720fd7a57b93ba7b3e1
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=78fa27a309034720fd7a57b93ba7b3e1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
9.0s (187.2s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=78fa27a309034720fd7a57b93ba7b3e1&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=78fa27a309034720fd7a57b93ba7b3e1&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=78fa27a309034720fd7a57b93ba7b3e1&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=78fa27a309034720fd7a57b93ba7b3e1&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
13.8s (200.9s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (203.9s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=78fa27a309034720fd7a57b93ba7b3e1
Request: https://api.att.com/1/messages/outbox/sms?access_token=78fa27a309034720fd7a57b93ba7b3e1
Net::HTTP::Post: /1/messages/outbox/sms?access_token=78fa27a309034720fd7a57b93ba7b3e1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzMzk0YTg4OWI2Oi0zOTA3
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Fri, 11 Nov 2011 22:37:26 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b1604502ecf37d"
  },
  "id": "SMSa9b1604502ecf37d"
}
4.0s (207.9s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.1s (211.0s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=78fa27a309034720fd7a57b93ba7b3e1
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=78fa27a309034720fd7a57b93ba7b3e1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=78fa27a309034720fd7a57b93ba7b3e1
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Fri, 11 Nov 2011 22:37:30 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b487b5e055d07f"
  },
  "id": "SMSa9b487b5e055d07f"
}
0.7s (211.7s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.1s (214.7s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=78fa27a309034720fd7a57b93ba7b3e1
Request: https://api.att.com/1/messages/outbox/mms?access_token=78fa27a309034720fd7a57b93ba7b3e1
Net::HTTP::Post: /1/messages/outbox/mms?access_token=78fa27a309034720fd7a57b93ba7b3e1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_13596437.1321051053983"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=78fa27a309034720fd7a57b93ba7b3e1
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Fri, 11 Nov 2011 22:37:34 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf677574"
  },
  "id": "MMSa9b50d45cf677574"
}
1.2s (215.9s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf677574?access_token=78fa27a309034720fd7a57b93ba7b3e1
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b50d45cf677574?access_token=78fa27a309034720fd7a57b93ba7b3e1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Fri, 11 Nov 2011 22:37:38 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b50d45cf677574"
  }
}
3.4s (219.4s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.0s (222.4s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=78fa27a309034720fd7a57b93ba7b3e1
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=78fa27a309034720fd7a57b93ba7b3e1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_16274563.1321051061680"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf677574?access_token=78fa27a309034720fd7a57b93ba7b3e1
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Fri, 11 Nov 2011 22:37:42 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b1524324bb02f9"
}
1.0s (223.4s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.0s (226.4s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=78fa27a309034720fd7a57b93ba7b3e1
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321051065661",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=78fa27a309034720fd7a57b93ba7b3e1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=78fa27a309034720fd7a57b93ba7b3e1
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Fri, 11 Nov 2011 22:37:48 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
12.3s (238.7s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=78fa27a309034720fd7a57b93ba7b3e1
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321051078007</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=78fa27a309034720fd7a57b93ba7b3e1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=78fa27a309034720fd7a57b93ba7b3e1
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Fri, 11 Nov 2011 22:38:00 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
6.1s (244.8s total) OK. New subscription request SEN1321051084068...
Request: : https://api.att.com/1/payments/transactions?access_token=78fa27a309034720fd7a57b93ba7b3e1
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0nd_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.1s (0.1s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 15
response-header: date => Fri, 11 Nov 2011 23:28:41 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "87e059107dba03c2bd14bad2c8b951f1"
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 2657
response-header: date => Fri, 11 Nov 2011 23:29:03 GMT
response-header: content-length => 1443
response-header: content-encoding => gzip
response-header: set-cookie => sessionId=EUID%3DNzIwYjQ1YTU6MTMzOTM1Njk5MTQ6NGViNg%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com; path=/
response-header: keep-alive => timeout=5, max=100
response-header: vary => Accept-Encoding
response-header: cache-control => private, max-age=0, must-revalidate
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 1425 bytes (1435 total)
Read 8 bytes (1443 total)
gzip body
saved cookie: sessionId=EUID%3DNzIwYjQ1YTU6MTMzOTM1Njk5MTQ6NGViNg%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/effects.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/controls.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/application.js?1320650752" type="text/javascript"></script>
	<script src="/javascripts/application.js?1320650752" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo" id="logo_title">SignIn | SignUp</h1>
<img src="/images/att.png" alt="" id="logo" height="28" width="28" />
</header>
	<form action="/off_net_consent_wireless" id="off_net_consent_wireless" method="post">
	<p><strong>Sencha API Poller</strong>  by Jason Cline, is requesting do the following: 
		<div id="firstCol_b">
			<ul>
				
				
					<li>Location - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
					<li>Device Capabilities - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
				
				
				
				
				
				
				
			</ul>
			<p>If ok, enter the wireless phone number and click Allow. A verification message will be sent.	</p>
		</div>
	<br><p></p>
	<br>
	<form action="" id="signup" method="post">
		<div id="firstCol_b">
			<label for="phone"><span>Wireless Number</span></label> 
		</div>
		<div id="firstCol_a">
			<img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50">
		</div>
		<div class="input-c" id="firstCol_b" style="right: 9px; top: 9px">
			<input id="login_wireless" name="login[wireless]" size="30" style="color:silver;" type="text" />
			<input id="login_client_id" name="login[client_id]" type="hidden" value="cddc0328b4c56103f8febb0194df7fd8" />
			<input id="login_scope" name="login[scope]" type="hidden" value="TL,DC,WAP,SMS,MMS,PAYMENT" />
			<input id="login_id" name="login[id]" type="hidden" />
			<!--<input  name="phone" type="text" value="4252221234" style="color: silver;">-->
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="javascript:submit_off_net_wireless();">Allow</a>
			</p>
			<p>
				<a class="button cancel" href="/deny_pin">Cancel</a>
			</p>
			<p style="text-align:center; margin-left:10px;color:red;"></p>
			<br>
			<p><SMALL>Refer to Craftguilds Privacy Policy for details on how this information may be used or shared.</SMALL>
			</p>
		</div>
	</form>
	<form action="" id="signup" method="post">
		<hr style="clear:both">   
		<h3>Existing Users</h3><!--move h3 to css and style center it-->
		<!--begin email address-->
		<p>To allow use with another account click  the <strong> Sign in to another account </strong> button.  To sign in and manage consent settings click <strong> Manage Consent</strong>. 
		</p>
		<!--begin SIGNIN/Manage Profile Buttons -->
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&logi.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321051084068",
  "externalMerchantTransactionID": "SenchaTransId1321051084078",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=78fa27a309034720fd7a57b93ba7b3e1
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=78fa27a309034720fd7a57b93ba7b3e1
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Fri, 11 Nov 2011 22:38:03 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.4s (0.4s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 7
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Fri, 11 Nov 2011 23:34:06 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "7bddbc711307070c400c200c1998cf54"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 869
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Fri, 11 Nov 2011 23:34:12 GMT
response-header: content-length => 8867
response-header: set-cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzOTRjNDE1NWY6MmUzZA%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlNTljZDc1ZGY2YzhiNTIwNWMyMmZhN2QwMjA3MjBiYWM%3D--d2d1add6c45236b8acd537c9654d75d5a61dcd3d; path=/; HttpOnly, BIGipServeruser_profile_443=269098924.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4096 bytes (4096 total)
Read 4771 bytes (8867 total)
saved cookie: sessionId=EUID%3DNWY2NWUwNTg6MTMzOTRjNDE1NWY6MmUzZA%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlNTljZDc1ZGY2YzhiNTIwNWMyMmZhN2QwMjA3MjBiYWM%3D--d2d1add6c45236b8acd537c9654d75d5a61dcd3d
saved cookie: BIGipServeruser_profile_443=269098924.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="9968989283688544" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKKqanqVvpNhJeXTERp2HJY9gPegC3RXnp8d61ds8un6Or26H5jseQj6kYArT0v4g6bcwn+0c2cy
+is6t9MDI/GgDr6Kjt54rq3juIXDxSKHRh3B5FZd74p0bT7x7S6vNk6Y3IInbGRkcgEd6ANiiszT
fEOl6vM8NjdebIi7mXYy8ZxnkD1qTU9Z0/R0ja/uPJEhIT5GbOOvQGgC/RTIpUnhSWNt0bqGVh3B
5FZEfinTLxpYNPnNzdrG7LEsT/MVBOMkYoAtahrumaUwW9vI4nIzs5ZsfQZNN0/xBpWqSeXZ3sck
n9w5Vj9AcGvO9L8LalrGuN/a8V1AjhpZZmTBY56AnjPP5CqXiPSf+Ea1xIrWeQjYs0Tk/MvJHUd8
igD2OisLRvFOm6p9mtluQb54wXi8thhgMsMkY45rS1HU7PSrb7TezeVFuC7tpPJ7YAJoAt0VBZ3k
F/aR3VrJ5kMgyrYIz+dUB4l0g6n/AGcLvN35nl+WI3PzemcYoA1qKKKACiiigAooooAKKKKACiii
gAooooAKKKKACiiigArnvGmmyal4dkWJlDwOJsMwAIAIIyfYn8q6GuJ+JDXQ0y0EZYWxkPnY9cDb
n/x6gDK8N+NbXR9FWxuLSVnjLFGixhsnPzZPHX3rAk0681O11DXEiRLdZSzKp6Fm6AegzXY6F/wi
H/CPRfafsXneWPP8/Hmbu+M8/TFYfhOH7X4kvLS03nTJ0lSQN/zzOQpPvkj9aAOr8C6ks/hjZK+D
aMyMT2X7wP6kfhXJeHYG8Q+NWu5VzGsjXLg9gD8o/PH5VStb+fQE1rTHyHmQwHH94Ngn/vkt+ldp
8PdN+y6NJeuuHun4/wBxeB+uf0oA5/TI/wDhHfiJ9l+7C8hiX3R+V/Xb+VTeOWm1TxGthbjd9lt2
dh6HaXP6Bat/ESyaGex1aHhlPlsw7EfMp/nT/BStq2uatrMycP8AIoPONxzj8AAPxoAtaRrfl/Dm
S53fvbWNoAfRuifoy1T+G2nYS71J16nyYz+rf+y/lXK38s+lpqOhDPlm6DfgucfnlT+FepaRax6D
4bgjmIRYIfMmPofvN/WgCzqmqWuj2L3d2+1F4VR1c+g9681tLS98b+InupUKWwYeYw6Ig6KD6/45
qjquuDXtbWfUGmSxVsLFEAWVPbJAye5/wxXXWfjvw/YWqW1rY3kUKDAVY0/+K5NAGLrMC+G/HcF1
Guy3Z1mAHQKeHH/oX51reP5JL6+0vR7fmSVt+Pcnap/9CqTxzbpqvhqz1eBGAQK/zDkRuB1/Hb+t
ZvhOSXXfFiX04yLS2Uc+oUL+pLGgDU8C6mIfDl7HOcfYGZyD2Ugn+YasnwDaPqGv3WqTDPlAtn/b
fP8ATd+dUdfkl0PXNatIhiK+UEfRmDf/ABQ/Gu48Fad/Z/hqAsMSXH75vx6foBQB0NFFFABRRRQA
UUUUAFFFFABRRRQAUUUUAFFFFABRRRQAVFcW8N3A8FxGskTjDIwyDUtFAHKS/D3RJJt6m6jXP3Ek
GP1BP61q20Gi+GbdYVe3s1kycyyAGTHXknnr+ta1ZGueHLPxAIBdvMnk7tpiYDrjOcg+goA828QS
Q694ucaau4TOkasOjtgAt9P8M161aW0dnZw20QxHEgRfoBisvR/Cul6LL51tG7z4wJZW3MB7dh+V
bVAFLVdLt9Y0+Syud4jcg7kIDAg5yM5qPRtGtdCsja2pkZC5ctIQWJOB2A9BWjRQBg3nhLTb7Wl1
WZp/ODKxRWGxiuMZGM9h3rU1Kwj1PT5rKV5EjlGGaMgNjOe4NWqKAOP/AOFcaP8A8/N9/wB9p/8A
E0f8K40f/n5vv++0/wDia7CigCkdLt20YaU29rcQCDJI3bQMA/Wquh+HbLw+ky2jzOZiCzSkE8Zw
OAPU1r0UAYeteFNP167jubp50kRNn7pgARnPOQfU1toqoiooAVRgAdhS0UAFFFFABRRRQAUUUUAF
FFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUU
UUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRR
QAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAf/9k=
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
13.3s (13.7s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzOTRjNDE1NWY6MmUzZA%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlNTljZDc1ZGY2YzhiNTIwNWMyMmZhN2QwMjA3MjBiYWM%3D--d2d1add6c45236b8acd537c9654d75d5a61dcd3d; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 3729
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Fri, 11 Nov 2011 23:34:13 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlNTljZDc1ZGY2YzhiNTIwNWMyMmZhN2QwMjA3MjBiYWMiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--7eaa032eb1347ae8b718e73ce9d5740c3609d898; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlNTljZDc1ZGY2YzhiNTIwNWMyMmZhN2QwMjA3MjBiYWMiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--7eaa032eb1347ae8b718e73ce9d5740c3609d898
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
3.9s (17.7s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzOTRjNDE1NWY6MmUzZA%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlNTljZDc1ZGY2YzhiNTIwNWMyMmZhN2QwMjA3MjBiYWMiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--7eaa032eb1347ae8b718e73ce9d5740c3609d898; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzMzk0YTg4OWI2OjZlZGM%3D
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 529
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Fri, 11 Nov 2011 23:34:17 GMT
response-header: content-length => 145
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 145 bytes (145 total)
Authorization key: LTE2MjkxNzcxOjEzMzk0YTg4OWI2OjZlZGM%3D
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzMzk0YTg4OWI2OjZlZGM%3D">redirected</a>.</body></html>
0.7s (18.3s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzMzk0YTg4OWI2OjZlZGM%3D ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzMzk0YTg4OWI2OjZlZGM%3D
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 97
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Fri, 11 Nov 2011 23:34:18 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "a46aa5ceb404d686a82ab3700f464d43fd75ca02",
  "access_token": "5c1052df4fe130ea1969ac8569a01535"
}
ACCESS TOKEN: 5c1052df4fe130ea1969ac8569a01535
Refresh TOKEN: a46aa5ceb404d686a82ab3700f464d43fd75ca02
0.9s (19.2s total) OK. Access token: a46aa5ceb404d686a82ab3700f464d43fd75ca02...

NEXT TEST: device_info_json 22
3.0s (22.3s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=5c1052df4fe130ea1969ac8569a01535
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=5c1052df4fe130ea1969ac8569a01535
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=5c1052df4fe130ea1969ac8569a01535
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
5.8s (28.1s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=5c1052df4fe130ea1969ac8569a01535
Net::HTTP::Get: /1/devices/tel:123/info?access_token=5c1052df4fe130ea1969ac8569a01535
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
1.4s (29.5s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (32.5s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=5c1052df4fe130ea1969ac8569a01535
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=5c1052df4fe130ea1969ac8569a01535
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
3.1s (35.6s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=5c1052df4fe130ea1969ac8569a01535
Net::HTTP::Get: /1/devices/tel:123/info?access_token=5c1052df4fe130ea1969ac8569a01535
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPInternalServerError 1.1 500 Internal Server Error
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 185
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 185 bytes (185 total)
500 => Net::HTTPInternalServerError
<RequestError>
<ServiceException>
    <MessageId>SVC0001</MessageId>
    <Text>Internal platform error occurred </Text>
    <Variables>  </Variables>
</ServiceException>
</RequestError>
120.4s (156.0s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.1s (159.1s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=5c1052df4fe130ea1969ac8569a01535&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=5c1052df4fe130ea1969ac8569a01535&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
4.5s (163.6s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=5c1052df4fe130ea1969ac8569a01535&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=5c1052df4fe130ea1969ac8569a01535&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
1.2s (164.8s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (167.9s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x1023cc910>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=5c1052df4fe130ea1969ac8569a01535
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=5c1052df4fe130ea1969ac8569a01535
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
5.7s (173.6s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=5c1052df4fe130ea1969ac8569a01535
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=5c1052df4fe130ea1969ac8569a01535
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPInternalServerError 1.1 500 Internal Server Error
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 185
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 185 bytes (185 total)
500 => Net::HTTPInternalServerError
<RequestError>
<ServiceException>
    <MessageId>SVC0001</MessageId>
    <Text>Internal platform error occurred </Text>
    <Variables>  </Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=5c1052df4fe130ea1969ac8569a01535
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=5c1052df4fe130ea1969ac8569a01535
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
135.1s (308.6s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=5c1052df4fe130ea1969ac8569a01535&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=5c1052df4fe130ea1969ac8569a01535&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPInternalServerError 1.1 500 Internal Server Error
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 182
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 182 bytes (182 total)
500 => Net::HTTPInternalServerError
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0001",

        "text": "Internal platform error occurred " ,

        "variables" : " "  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=5c1052df4fe130ea1969ac8569a01535&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=5c1052df4fe130ea1969ac8569a01535&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
135.2s (443.8s total) OK. Got device location...

NEXT TEST: sms_send_json 10
14.3s (458.2s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=5c1052df4fe130ea1969ac8569a01535
Request: https://api.att.com/1/messages/outbox/sms?access_token=5c1052df4fe130ea1969ac8569a01535
Net::HTTP::Post: /1/messages/outbox/sms?access_token=5c1052df4fe130ea1969ac8569a01535
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzMzk0YTg4OWI2OjZlZGM%3D
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Fri, 11 Nov 2011 23:41:47 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b1604502ecf38e"
  },
  "id": "SMSa9b1604502ecf38e"
}
14.6s (472.8s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
14.9s (487.7s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=5c1052df4fe130ea1969ac8569a01535
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=5c1052df4fe130ea1969ac8569a01535
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=5c1052df4fe130ea1969ac8569a01535
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Fri, 11 Nov 2011 23:42:17 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b487b5e055d090"
  },
  "id": "SMSa9b487b5e055d090"
}
11.2s (498.9s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
11.9s (510.8s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=5c1052df4fe130ea1969ac8569a01535
Request: https://api.att.com/1/messages/outbox/mms?access_token=5c1052df4fe130ea1969ac8569a01535
Net::HTTP::Post: /1/messages/outbox/mms?access_token=5c1052df4fe130ea1969ac8569a01535
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_12132597.1321054942389"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=5c1052df4fe130ea1969ac8569a01535
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Fri, 11 Nov 2011 23:42:33 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b6f72"
  },
  "id": "MMSa9b4644d651b6f72"
}
9.0s (519.8s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b6f72?access_token=5c1052df4fe130ea1969ac8569a01535
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b4644d651b6f72?access_token=5c1052df4fe130ea1969ac8569a01535
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Fri, 11 Nov 2011 23:42:54 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b4644d651b6f72"
  }
}
16.3s (536.1s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.1s (539.2s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=5c1052df4fe130ea1969ac8569a01535
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=5c1052df4fe130ea1969ac8569a01535
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_18177697.1321054984610"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b6f72?access_token=5c1052df4fe130ea1969ac8569a01535
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Fri, 11 Nov 2011 23:43:04 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b5c707572daabc"
}
6.6s (545.8s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.5s (549.3s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=5c1052df4fe130ea1969ac8569a01535
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321054989029",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=5c1052df4fe130ea1969ac8569a01535
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=5c1052df4fe130ea1969ac8569a01535
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Fri, 11 Nov 2011 23:43:15 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
28.0s (577.3s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=5c1052df4fe130ea1969ac8569a01535
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321055016993</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=5c1052df4fe130ea1969ac8569a01535
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=5c1052df4fe130ea1969ac8569a01535
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Fri, 11 Nov 2011 23:43:40 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229n=true">SignIn to another account</a>
			</p>
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="#">Manage Consent</a>
			</p>
		</div>
	</form>

<footer>
</footer>
</body>
</html>
#<NoMethodError: undefined method `value=' for nil:NilClass>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.1s (0.1s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 12
response-header: date => Sat, 12 Nov 2011 00:28:42 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "87e059107dba03c2bd14bad2c8b951f1"
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 3112
response-header: date => Sat, 12 Nov 2011 00:29:04 GMT
response-header: content-length => 1443
response-header: content-encoding => gzip
response-header: set-cookie => sessionId=EUID%3DLTExOWE0NWM2OjEzMzk0Zjg5MjNjOi02OGY1%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com; path=/
response-header: keep-alive => timeout=5, max=100
response-header: vary => Accept-Encoding
response-header: cache-control => private, max-age=0, must-revalidate
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 1425 bytes (1435 total)
Read 8 bytes (1443 total)
gzip body
saved cookie: sessionId=EUID%3DLTExOWE0NWM2OjEzMzk0Zjg5MjNjOi02OGY1%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/effects.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/controls.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/application.js?1320650752" type="text/javascript"></script>
	<script src="/javascripts/application.js?1320650752" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo" id="logo_title">SignIn | SignUp</h1>
<img src="/images/att.png" alt="" id="logo" height="28" width="28" />
</header>
	<form action="/off_net_consent_wireless" id="off_net_consent_wireless" method="post">
	<p><strong>Sencha API Poller</strong>  by Jason Cline, is requesting do the following: 
		<div id="firstCol_b">
			<ul>
				
				
					<li>Location - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
					<li>Device Capabilities - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
				
				
				
				
				
				
				
			</ul>
			<p>If ok, enter the wireless phone number and click Allow. A verification message will be sent.	</p>
		</div>
	<br><p></p>
	<br>
	<form action="" id="signup" method="post">
		<div id="firstCol_b">
			<label for="phone"><span>Wireless Number</span></label> 
		</div>
		<div id="firstCol_a">
			<img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50">
		</div>
		<div class="input-c" id="firstCol_b" style="right: 9px; top: 9px">
			<input id="login_wireless" name="login[wireless]" size="30" style="color:silver;" type="text" />
			<input id="login_client_id" name="login[client_id]" type="hidden" value="cddc0328b4c56103f8febb0194df7fd8" />
			<input id="login_scope" name="login[scope]" type="hidden" value="TL,DC,WAP,SMS,MMS,PAYMENT" />
			<input id="login_id" name="login[id]" type="hidden" />
			<!--<input  name="phone" type="text" value="4252221234" style="color: silver;">-->
		</div>
		<div class="full-width button-group">
			<p>
				<a cla total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
8.4s (585.7s total) OK. New subscription request SEN1321055025415...
Request: : https://api.att.com/1/payments/transactions?access_token=5c1052df4fe130ea1969ac8569a01535
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321055025415",
  "externalMerchantTransactionID": "SenchaTransId1321055025676",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=5c1052df4fe130ea1969ac8569a01535
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=5c1052df4fe130ea1969ac8569a01535
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Fri, 11 Nov 2011 23:43:47 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 7
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Sat, 12 Nov 2011 00:34:06 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "1a1b779e4dd9c402c501d932fc2da550"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 5875
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Sat, 12 Nov 2011 00:34:07 GMT
response-header: content-length => 8835
response-header: set-cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzOTUxNGRjOTY6LTIzOTU%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlOWZlOGIwZjBlZjU3YjViNzllYWQ0N2NkZTgxMzNhNmQ%3D--033d38bc85bfce22edf8ed610b45fbd71531c773; path=/; HttpOnly, BIGipServeruser_profile_443=470425516.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4096 bytes (4096 total)
Read 4739 bytes (8835 total)
saved cookie: sessionId=EUID%3DNWY2NWUwNTg6MTMzOTUxNGRjOTY6LTIzOTU%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlOWZlOGIwZjBlZjU3YjViNzllYWQ0N2NkZTgxMzNhNmQ%3D--033d38bc85bfce22edf8ed610b45fbd71531c773
saved cookie: BIGipServeruser_profile_443=470425516.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="9972589450560988" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKKZNNFbxNLNIkcajLO5wAPrQA+isP8A4THQPN8v+0k3ZxnY2PzxirV7r+l6fbw3FzdqIZs+XIis
6t+Kg0AaVFQWd5b6haR3VrJ5kMgyrYIzzjoaqQ69pk+qPpsV0GvEJBj2N1HXnGP1oA0qKqajqdnp
NsLi+m8qIsFDbSeT2wAT2ptlq1jqFi17b3Aa2UkGRlKAY6/eAoAu0ViL4u0F5/JGpRb84yVYL/31
jH61NL4j0mHU106S7AumZUCCNjktjbyBjnI70AatFc34l8XQaC628cXn3bLu2ZwqDsSf6Vg/8J3r
VoyS6ho6pbuflPlvGT9Ccg0AehUVlaR4j0zW28uznLTBN7RshBUfyPXsam1PWdP0dI2v7jyRISE+
Rmzjr0BoAv0UyKVJ4UljbdG6hlYdweRWZZeJdI1G9+yWl35s/PyiNx068kYoA1qKKKACiiigAooo
oAKKKKACiiigAooooAKKKKACiiigArzH4harLPq401XIgt1DMo/icjOT+BH616dXlXxAsZLfxEbo
qfKuUUq3bKgKR+g/OgDVHh3wp/Y/lHVLT7d5efP+1r9/HpnGM/8A665TTXlu7G70zJZShuIl9HQZ
OPqu4flXX21r4Em01bt0hjOzLRNcuHB7jbuyfwqx4bPhK61NG0uzmju0ViBJvOBjBzyV6HHNADPA
WqJH4bvUlPFkzSH2QjP8w1chp1xc2eq2euzcRy3bBm9em/8ARz+tOvjN4e1DWNMTISZfLH+7uDA/
985H411GraJ5Xw3tkCfvbcLcMO+W+9+Qb9KAIviTeF5LHT05PMrKO+eF/wDZqo+LWk0nSdL0CNtq
rD5s4H8TE/yzuP5VDoJl8S+L7SacZS2iRnzz9xQP1bn8av8AxJspBeWd+FJjaPySfQgkj88n8qAL
2h+CNMuvD8M12sjXNxGJBIrkbAeRgdOmOua47ToZLbxfZ28rFnhvo4iT/suB/Su/8P8AinSk8NW3
2i8iiktohG8bHDHaMDA6nIHauBsLn7Z4ytbrbt87UEkx6ZkB/rQBu+NrWTTPFEGr4SSORkcIxH3k
xwR6HA596XxH40tda0c2FtaSrJKy7mlxhcEHjB9uvFUtSaJvH8n9ulvsomIOc4EeDs/Dpn8a1PF/
/CMf2N/oH2P7ZlfK+y46Z53bfbPXvQBk+G1uNA8ZW1vdrsaQCNwDkYcAjn64q/45abVPEa2FuN32
W3Z2Hodpc/oFrFubW9Tw/pmrvuBSVoY2PXaOU/Xf+QrqPBStq2uatrMycP8AIoPONxzj8AAPxoAt
aRrfl/DmS53fvbWNoAfRuifoy1T+G2nYS71J16nyYz+rf+y/lXK38s+lpqOhDPlm6DfgucfnlT+F
eraBp/8AZeh2loRh0QF/948n9TQBpUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABVa+0
+01O2NveQLLEecN2PqD2NWaKAOSb4d6K0m4SXij+4JFx/wCg5re0vRbDRoTHZQCPd95ics31Jq/R
QBg6v4S07WtQS8uWnWRVCkRsAGAPfINbNzbx3VrLbSjMcqFGA9CMVLRQBjaH4ZsfD7TNavM7SgBm
lYEgDsMAetN8SanpdjbR2+rQvJb3OV4TcBjHXnIPPGPStuq1/p9rqdq1teQrLEecHsfUHsaAOGtt
E8EzAXQ1Q+X18mWcJ+GCA1YGkQx3vjiH7EmLf7YZYwBgCNW3D6cCu0f4daMzkiW8Qf3VkXH6rWzp
Hh7TdE3GzgxIww0jncxHpnt+FAC6toGna0ii9g3Oowsinaw/H/Gsm18AaJbzCRxcT45CyyDH6AV1
NFAFHUtItdU0xtPmUpAcY8rAK4PGOMCmaNo1roVkbW1MjIXLlpCCxJwOwHoK0aKAMG88Jabfa0uq
zNP5wZWKKw2MVxjIxnsO9b1FFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABR
RRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFF
FABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUU
AFFFFAH/2Q==
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
13.8s (13.8s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzOTUxNGRjOTY6LTIzOTU%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlOWZlOGIwZjBlZjU3YjViNzllYWQ0N2NkZTgxMzNhNmQ%3D--033d38bc85bfce22edf8ed610b45fbd71531c773; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 3549
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Sat, 12 Nov 2011 00:34:13 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlOWZlOGIwZjBlZjU3YjViNzllYWQ0N2NkZTgxMzNhNmQiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--236777e95c6ac57c6302bfa097afba9d8d0bbd54; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlOWZlOGIwZjBlZjU3YjViNzllYWQ0N2NkZTgxMzNhNmQiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--236777e95c6ac57c6302bfa097afba9d8d0bbd54
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
3.9s (17.7s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzOTUxNGRjOTY6LTIzOTU%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlOWZlOGIwZjBlZjU3YjViNzllYWQ0N2NkZTgxMzNhNmQiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--236777e95c6ac57c6302bfa097afba9d8d0bbd54; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzMzk0ZmMyODdhOjE3ODY%3D
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 349
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Sat, 12 Nov 2011 00:34:17 GMT
response-header: content-length => 145
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 145 bytes (145 total)
Authorization key: LTE2MjkxNzcxOjEzMzk0ZmMyODdhOjE3ODY%3D
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzMzk0ZmMyODdhOjE3ODY%3D">redirected</a>.</body></html>
0.8s (18.5s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzMzk0ZmMyODdhOjE3ODY%3D ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzMzk0ZmMyODdhOjE3ODY%3D
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 99
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Sat, 12 Nov 2011 00:34:19 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "a5527abd44611b60a7d8c2f4a9d20e87756a2c72",
  "access_token": "a3a0c3a5f46feaaf0a8358719479edff"
}
ACCESS TOKEN: a3a0c3a5f46feaaf0a8358719479edff
Refresh TOKEN: a5527abd44611b60a7d8c2f4a9d20e87756a2c72
0.9s (19.4s total) OK. Access token: a5527abd44611b60a7d8c2f4a9d20e87756a2c72...

NEXT TEST: device_info_json 22
3.0s (22.4s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=a3a0c3a5f46feaaf0a8358719479edff
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=a3a0c3a5f46feaaf0a8358719479edff
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=a3a0c3a5f46feaaf0a8358719479edff
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
4.6s (27.0s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=a3a0c3a5f46feaaf0a8358719479edff
Net::HTTP::Get: /1/devices/tel:123/info?access_token=a3a0c3a5f46feaaf0a8358719479edff
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
2.8s (29.8s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (32.8s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=a3a0c3a5f46feaaf0a8358719479edff
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=a3a0c3a5f46feaaf0a8358719479edff
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
3.4s (36.2s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=a3a0c3a5f46feaaf0a8358719479edff
Net::HTTP::Get: /1/devices/tel:123/info?access_token=a3a0c3a5f46feaaf0a8358719479edff
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
0.2s (36.4s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (39.4s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=a3a0c3a5f46feaaf0a8358719479edff&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=a3a0c3a5f46feaaf0a8358719479edff&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
5.7s (45.1s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=a3a0c3a5f46feaaf0a8358719479edff&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=a3a0c3a5f46feaaf0a8358719479edff&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
2.8s (48.0s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (51.0s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x102364338>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=a3a0c3a5f46feaaf0a8358719479edff
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=a3a0c3a5f46feaaf0a8358719479edff
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
4.4s (55.3s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=a3a0c3a5f46feaaf0a8358719479edff
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=a3a0c3a5f46feaaf0a8358719479edff
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=a3a0c3a5f46feaaf0a8358719479edff
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=a3a0c3a5f46feaaf0a8358719479edff
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
9.1s (64.4s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=a3a0c3a5f46feaaf0a8358719479edff&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=a3a0c3a5f46feaaf0a8358719479edff&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=a3a0c3a5f46feaaf0a8358719479edff&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=a3a0c3a5f46feaaf0a8358719479edff&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
15.5s (79.9s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (82.9s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=a3a0c3a5f46feaaf0a8358719479edff
Request: https://api.att.com/1/messages/outbox/sms?access_token=a3a0c3a5f46feaaf0a8358719479edff
Net::HTTP::Post: /1/messages/outbox/sms?access_token=a3a0c3a5f46feaaf0a8358719479edff
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzMzk0ZmMyODdhOjE3ODY%3D
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Sat, 12 Nov 2011 00:35:23 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b1604502ecf391"
  },
  "id": "SMSa9b1604502ecf391"
}
0.8s (83.7s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (86.7s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=a3a0c3a5f46feaaf0a8358719479edff
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=a3a0c3a5f46feaaf0a8358719479edff
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=a3a0c3a5f46feaaf0a8358719479edff
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Sat, 12 Nov 2011 00:35:26 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b487b5e055d093"
  },
  "id": "SMSa9b487b5e055d093"
}
0.5s (87.3s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.1s (90.3s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=a3a0c3a5f46feaaf0a8358719479edff
Request: https://api.att.com/1/messages/outbox/mms?access_token=a3a0c3a5f46feaaf0a8358719479edff
Net::HTTP::Post: /1/messages/outbox/mms?access_token=a3a0c3a5f46feaaf0a8358719479edff
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_12869206.1321058130347"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=a3a0c3a5f46feaaf0a8358719479edff
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Sat, 12 Nov 2011 00:35:56 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b6f73"
  },
  "id": "MMSa9b4644d651b6f73"
}
27.3s (117.7s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b6f73?access_token=a3a0c3a5f46feaaf0a8358719479edff
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b4644d651b6f73?access_token=a3a0c3a5f46feaaf0a8358719479edff
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Sat, 12 Nov 2011 00:36:00 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b4644d651b6f73"
  }
}
3.5s (121.2s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.0s (124.2s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=a3a0c3a5f46feaaf0a8358719479edff
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=a3a0c3a5f46feaaf0a8358719479edff
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_11441775.1321058164298"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b6f73?access_token=a3a0c3a5f46feaaf0a8358719479edff
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Sat, 12 Nov 2011 00:36:04 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b1524324bb02fa"
}
0.7s (124.8s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.0s (127.9s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=a3a0c3a5f46feaaf0a8358719479edff
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321058167943",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=a3a0c3a5f46feaaf0a8358719479edff
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=a3a0c3a5f46feaaf0a8358719479edff
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Sat, 12 Nov 2011 00:36:10 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
12.2s (140.0s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=a3a0c3a5f46feaaf0a8358719479edff
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321058180111</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=a3a0c3a5f46feaaf0a8358719479edff
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=a3a0c3a5f46feaaf0a8358719479edff
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Sat, 12 Nov 2011 00:36:23 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
6.2s (146.2s total) OK. New subscription request SEN1321058186311...
Request: : https://api.att.com/1/payments/transactions?access_token=a3a0c3a5f46feaaf0a8358719479edff
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321058186311",
  "externalMerchantTransactionID": "SenchaTransId1321058186323",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=a3a0c3a5f46feaaf0a8358719479edff
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=a3a0c3a5f46feaaf0a8358719479edff
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Sat, 12 Nov 2011 00:36:26 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_errss="button ok" href="javascript:submit_off_net_wireless();">Allow</a>
			</p>
			<p>
				<a class="button cancel" href="/deny_pin">Cancel</a>
			</p>
			<p style="text-align:center; margin-left:10px;color:red;"></p>
			<br>
			<p><SMALL>Refer to Craftguilds Privacy Policy for details on how this information may be used or shared.</SMALL>
			</p>
		</div>
	</form>
	<form action="" id="signup" method="post">
		<hr style="clear:both">   
		<h3>Existing Users</h3><!--move h3 to css and style center it-->
		<!--begin email address-->
		<p>To allow use with another account click  the <strong> Sign in to another account </strong> button.  To sign in and manage consent settings click <strong> Manage Consent</strong>. 
		</p>
		<!--begin SIGNIN/Manage Profile Buttons -->
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=true">SignIn to another account</a>
			</p>
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="#">Manage Consent</a>
			</p>
		</div>
	</form>

<footer>
</footer>
</body>
</html>
#<NoMethodError: undefined method `value=' for nil:NilClass>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.1s (0.1s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_or
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.1s (0.1s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: device_info_json 22

NEXT TEST: device_info_json_error 21

NEXT TEST: device_info_xml 20

NEXT TEST: device_info_xml_error 19

NEXT TEST: device_info_jsonp 18

NEXT TEST: device_info_jsonp_error 17

NEXT TEST: device_location_json 16

NEXT TEST: device_location_json_error 15

NEXT TEST: device_location_xml 14

NEXT TEST: device_location_xml_error 13

NEXT TEST: device_location_jsonp 12

NEXT TEST: device_location_jsonp_error 11

NEXT TEST: sms_send_json 10

NEXT TEST: sms_send_form 9

NEXT TEST: mms_send_json 8

NEXT TEST: mms_status 7

NEXT TEST: wap_push 6

NEXT TEST: payment_new_json 5

NEXT TEST: payment_status_json 4

NEXT TEST: payment_refund_json 3

NEXT TEST: payment_new_xml 2

NEXT TEST: payment_new_subscription 1

NEXT TEST: payment_subscription_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.4s (0.4s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.8s (0.8s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.1s (0.1s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 13
response-header: date => Sat, 12 Nov 2011 15:06:17 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "87e059107dba03c2bd14bad2c8b951f1"
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 3325
response-header: date => Sat, 12 Nov 2011 15:06:41 GMT
response-header: content-length => 1443
response-header: content-encoding => gzip
response-header: set-cookie => sessionId=EUID%3DNzIwYjQ1YTU6MTMzOTc1ZDFmYTU6LTVmZA%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com; path=/
response-header: keep-alive => timeout=5, max=100
response-header: vary => Accept-Encoding
response-header: cache-control => private, max-age=0, must-revalidate
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 1425 bytes (1435 total)
Read 8 bytes (1443 total)
gzip body
saved cookie: sessionId=EUID%3DNzIwYjQ1YTU6MTMzOTc1ZDFmYTU6LTVmZA%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1320650752" type=header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: device_info_json 22

NEXT TEST: device_info_json_error 21

NEXT TEST: device_info_xml 20

NEXT TEST: device_info_xml_error 19

NEXT TEST: device_info_jsonp 18

NEXT TEST: device_info_jsonp_error 17

NEXT TEST: device_location_json 16

NEXT TEST: device_location_json_error 15

NEXT TEST: device_location_xml 14

NEXT TEST: device_location_xml_error 13

NEXT TEST: device_location_jsonp 12

NEXT TEST: device_location_jsonp_error 11

NEXT TEST: sms_send_json 10

NEXT TEST: sms_send_form 9

NEXT TEST: mms_send_json 8

NEXT TEST: mms_status 7

NEXT TEST: wap_push 6

NEXT TEST: payment_new_json 5

NEXT TEST: payment_status_json 4

NEXT TEST: payment_refund_json 3

NEXT TEST: payment_new_xml 2

NEXT TEST: payment_new_subscription 1

NEXT TEST: payment_subscription_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 8
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Sat, 12 Nov 2011 15:06:39 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "703d5f9b66a5f3bedf97393396043eef"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 925
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Sat, 12 Nov 2011 15:06:40 GMT
response-header: content-length => 8494
response-header: set-cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzMzk4NDBmNmI2Oi01Yzcx%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlNWY4MDE0ODAyZTBjYzcxNzE2MWM2YWMwNzU4OTQ5MmM%3D--c1d3b1ea46b58266a848e1b7e01ca11aa28c225a; path=/; HttpOnly, BIGipServeruser_profile_443=470425516.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 7474 bytes (7474 total)
Read 1020 bytes (8494 total)
saved cookie: sessionId=EUID%3DLTE2MjkxNzcxOjEzMzk4NDBmNmI2Oi01Yzcx%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlNWY4MDE0ODAyZTBjYzcxNzE2MWM2YWMwNzU4OTQ5MmM%3D--c1d3b1ea46b58266a848e1b7e01ca11aa28c225a
saved cookie: BIGipServeruser_profile_443=470425516.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="19675175490384863" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKKy9S8RaVpFwtvfXXlSsgcL5bNxkjPAPoaANSisu/8AEekaZN5V3fRpIOqAFiPqFBxVmw1Oy1SI
y2VzHMo67TyPqOooAt0UUUAFFQ3V3b2UBmupo4Yh1Z2wKyF8ZeH2k2DUUz0yY3A/PGKAN2iqN5qt
vaaTJqS5uIEXdmDDZHtXGHxxrt3um0/RQ1sD97y3k/UYFAHezzx21vLcTNtiiQu7YzgAZJ4rP03x
FpWr3DW9jdebKqFyvlsvGQM8geornYPGEOu6HqlpND9nuxZzMFByrgIc49D7Vi/Dj/kYbj/r0b/0
NKAPUKKytQ8SaRpVz9nvLwRzYDbAjMQPfAOK04pFmiSRM7XAYblKnH0PIoAdRRRQAUUUUAFFFFAB
RRRQAUUUUAFFFFABRRRQAUUUUAFFFFABXl/xH/5GG3/69F/9DevUK8v+I/8AyMNv/wBei/8Aob0A
bOkeCtPvfD0dxdiSS9uovNExkPyFhkcdD1HXNcVoEeoXOprZ6bdG2nuFK7xIyDAG7qOf4a9c0H/k
XtM/69Iv/QBXlfg+eG28U2U1xLHFEu/c8jBVHyMOSaALUmra54b8QNBdX013JAMGNp3aNiyccHrj
cD+FabWHje+t/t5upo2JBWATeWxBP90YAH1prXli/wAUvtTXNu1pkHzi6lMiHjnp1/Wu+t9V067l
EVtf2s0hGQkcysfyBoA8n1W71PW9bt9Pv5R50ci22F+6HztJ9M5rtbz4f6U+mNFaI0d2F+SZ5GOW
/wBodMfQVyGvwyaJ41e5dCV+0i6T/aBbdx+OR+Fd5qXjDS7bR3u7W8gmnK/uot2WLHpuXqB69KAI
/C/hu70KKeG5vI54Jh/qQhwD3OT6j2qPxL4qPhuaG0hsUk3xblO/aF5xjAHt6iodE8aPe2d3d6ha
pb2tsF3TIxOWJwFA/wDr1tR+JNDuIS41O02EciSQKfyPNAHm+iRJqEus6jcXEa3C2txIIRwXLI2S
O2Bk1X8M6ymhXd3dsu+Q2zRxL2Lllxn24J/Ck1Qw3PiO+fRlxb7XYbBgbQh3keg+9+dP8J6LBrur
vbXDssaQtJ8vUnIA/wDQs/hQBv8AgvRxrF5NruoSid1lO1Dz8/XcfpkYH+FeiV5Z4YvpfDXieXTr
w7YpH8mTPQN/C305/I16nQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAVg634
SsNevUurqa5R0jEYETKBgEnuD61vUUAQ2lslnZQWsZYpDGsalupAGBn8q5X/AIVxo/8Az833/faf
/E12FFAHH/8ACuNH/wCfm+/77T/4mr2keDdO0XUFvbaa6aRVKgSMpHP0UV0VFAFHU9HsdYgEN7AJ
AOVboy/Q1gJ8O9FWTcXu2GfuGQY/QZ/WutooAzzoemHTRpxsovsgORHjv65659+tYcvw80WSTcrX
cY/uJIMfqCf1rrKKAMe08MaXY2FzaW0JQXETRSS5y5BGDyen8qh0TwlYaDevdWs1y7vGYyJWUjBI
PYD0reooAwNZ8H6brd6Lu4e4jl2hT5LKA2OhOQea24IvIt44vMeTYoXe5BZsdzjvUlFABRRRQAUU
UUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRR
QAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFA
BRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQB//2Q==
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
8.5s (8.5s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzMzk4NDBmNmI2Oi01Yzcx%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlNWY4MDE0ODAyZTBjYzcxNzE2MWM2YWMwNzU4OTQ5MmM%3D--c1d3b1ea46b58266a848e1b7e01ca11aa28c225a; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1467
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Sat, 12 Nov 2011 15:06:41 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlNWY4MDE0ODAyZTBjYzcxNzE2MWM2YWMwNzU4OTQ5MmMiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--8f5283b35a95895ddbf37c235f4b69afe5b9aed7; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlNWY4MDE0ODAyZTBjYzcxNzE2MWM2YWMwNzU4OTQ5MmMiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--8f5283b35a95895ddbf37c235f4b69afe5b9aed7
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
1.9s (10.4s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzMzk4NDBmNmI2Oi01Yzcx%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlNWY4MDE0ODAyZTBjYzcxNzE2MWM2YWMwNzU4OTQ5MmMiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--8f5283b35a95895ddbf37c235f4b69afe5b9aed7; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=NWY2NWUwNTg6MTMzOTgzZGI1NDM6LTQzMGE%3D
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 356
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Sat, 12 Nov 2011 15:06:43 GMT
response-header: content-length => 145
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 145 bytes (145 total)
Authorization key: NWY2NWUwNTg6MTMzOTgzZGI1NDM6LTQzMGE%3D
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=NWY2NWUwNTg6MTMzOTgzZGI1NDM6LTQzMGE%3D">redirected</a>.</body></html>
0.5s (10.9s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzOTgzZGI1NDM6LTQzMGE%3D ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzOTgzZGI1NDM6LTQzMGE%3D
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 103
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Sat, 12 Nov 2011 15:06:44 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "bb5773ade7f59e12e35b63da77b6b5eb815a9b4a",
  "access_token": "99687c76dbf13ee1f07b5323d12d2e85"
}
ACCESS TOKEN: 99687c76dbf13ee1f07b5323d12d2e85
Refresh TOKEN: bb5773ade7f59e12e35b63da77b6b5eb815a9b4a
1.2s (12.1s total) OK. Access token: bb5773ade7f59e12e35b63da77b6b5eb815a9b4a...

NEXT TEST: device_info_json 22
3.0s (15.1s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=99687c76dbf13ee1f07b5323d12d2e85
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=99687c76dbf13ee1f07b5323d12d2e85
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=99687c76dbf13ee1f07b5323d12d2e85
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
5.9s (21.0s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=99687c76dbf13ee1f07b5323d12d2e85
Net::HTTP::Get: /1/devices/tel:123/info?access_token=99687c76dbf13ee1f07b5323d12d2e85
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
2.7s (23.8s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (26.8s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=99687c76dbf13ee1f07b5323d12d2e85
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=99687c76dbf13ee1f07b5323d12d2e85
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
3.1s (29.9s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=99687c76dbf13ee1f07b5323d12d2e85
Net::HTTP::Get: /1/devices/tel:123/info?access_token=99687c76dbf13ee1f07b5323d12d2e85
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
0.1s (29.9s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (32.9s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=99687c76dbf13ee1f07b5323d12d2e85&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=99687c76dbf13ee1f07b5323d12d2e85&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
5.6s (38.5s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=99687c76dbf13ee1f07b5323d12d2e85&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=99687c76dbf13ee1f07b5323d12d2e85&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
4.3s (42.8s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (45.8s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x102343e08>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=99687c76dbf13ee1f07b5323d12d2e85
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=99687c76dbf13ee1f07b5323d12d2e85
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
6.2s (52.0s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=99687c76dbf13ee1f07b5323d12d2e85
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=99687c76dbf13ee1f07b5323d12d2e85
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=99687c76dbf13ee1f07b5323d12d2e85
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=99687c76dbf13ee1f07b5323d12d2e85
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
8.7s (60.7s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/dev"text/javascript"></script>
<script src="/javascripts/effects.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/controls.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/application.js?1320650752" type="text/javascript"></script>
	<script src="/javascripts/application.js?1320650752" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo" id="logo_title">SignIn | SignUp</h1>
<img src="/images/att.png" alt="" id="logo" height="28" width="28" />
</header>
	<form action="/off_net_consent_wireless" id="off_net_consent_wireless" method="post">
	<p><strong>Sencha API Poller</strong>  by Jason Cline, is requesting do the following: 
		<div id="firstCol_b">
			<ul>
				
				
					<li>Location - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
					<li>Device Capabilities - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
				
				
				
				
				
				
				
			</ul>
			<p>If ok, enter the wireless phone number and click Allow. A verification message will be sent.	</p>
		</div>
	<br><p></p>
	<br>
	<form action="" id="signup" method="post">
		<div id="firstCol_b">
			<label for="phone"><span>Wireless Number</span></label> 
		</div>
		<div id="firstCol_a">
			<img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50">
		</div>
		<div class="input-c" id="firstCol_b" style="right: 9px; top: 9px">
			<input id="login_wireless" name="login[wireless]" size="30" style="color:silver;" type="text" />
			<input id="login_client_id" name="login[client_id]" type="hidden" value="cddc0328b4c56103f8febb0194df7fd8" />
			<input id="login_scope" name="login[scope]" type="hidden" value="TL,DC,WAP,SMS,MMS,PAYMENT" />
			<input id="login_id" name="login[id]" type="hidden" />
			<!--<input  name="phone" type="text" value="4252221234" style="color: silver;">-->
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="javascript:submit_off_net_wireless();">Allow</a>
			</p>
			<p>
				<a class="button cancel" href="/deny_pin">Cancel</a>
			</p>
			<p style="text-align:center; margin-left:10px;color:red;"></p>
			<br>
			<p><SMALL>Refer to Craftguilds Privacy Policy for details on how this information may be used or shared.</SMALL>
			</p>
		</div>
	</form>
	<form action="" id="signup" method="post">
		<hr style="clear:both">   
		<h3>Existing Users</h3><!--move h3 to css and style center it-->
		<!--begin email address-->
		<p>To allow use with another account click  the <strong> Sign in to another account </strong> button.  To sign in and manage consent settings click <strong> Manage Consent</strong>. 
		</p>
		<!--begin SIGNIN/Manage Profile Buttons -->
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=true">SignIn to another account</a>
			</p>
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="#">Manage Consent</a>
			</p>
		</div>
	</form>

<footer>
</footer>
</body>
</html>
#<NoMethodError: undefined method `value=' for nil:NilClass>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2
ices/tel:4259193428/location?requestedAccuracy=1000&access_token=99687c76dbf13ee1f07b5323d12d2e85&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=99687c76dbf13ee1f07b5323d12d2e85&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=99687c76dbf13ee1f07b5323d12d2e85&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=99687c76dbf13ee1f07b5323d12d2e85&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
8.6s (69.3s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (72.3s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=99687c76dbf13ee1f07b5323d12d2e85
Request: https://api.att.com/1/messages/outbox/sms?access_token=99687c76dbf13ee1f07b5323d12d2e85
Net::HTTP::Post: /1/messages/outbox/sms?access_token=99687c76dbf13ee1f07b5323d12d2e85
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzOTgzZGI1NDM6LTQzMGE%3D
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Sat, 12 Nov 2011 15:07:44 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b1604502ecf3ab"
  },
  "id": "SMSa9b1604502ecf3ab"
}
0.9s (73.2s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (76.2s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=99687c76dbf13ee1f07b5323d12d2e85
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=99687c76dbf13ee1f07b5323d12d2e85
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=99687c76dbf13ee1f07b5323d12d2e85
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Sat, 12 Nov 2011 15:07:49 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b598c3c57f093c"
  },
  "id": "SMSa9b598c3c57f093c"
}
0.7s (76.9s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.0s (79.9s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=99687c76dbf13ee1f07b5323d12d2e85
Request: https://api.att.com/1/messages/outbox/mms?access_token=99687c76dbf13ee1f07b5323d12d2e85
Net::HTTP::Post: /1/messages/outbox/mms?access_token=99687c76dbf13ee1f07b5323d12d2e85
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_17670929.1321110472547"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=99687c76dbf13ee1f07b5323d12d2e85
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Sat, 12 Nov 2011 15:07:53 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b6f7e"
  },
  "id": "MMSa9b4644d651b6f7e"
}
1.3s (81.2s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b6f7e?access_token=99687c76dbf13ee1f07b5323d12d2e85
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b4644d651b6f7e?access_token=99687c76dbf13ee1f07b5323d12d2e85
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Sat, 12 Nov 2011 15:07:56 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b4644d651b6f7e"
  }
}
4.6s (85.8s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.0s (88.8s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=99687c76dbf13ee1f07b5323d12d2e85
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=99687c76dbf13ee1f07b5323d12d2e85
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_13673710.1321110481492"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b6f7e?access_token=99687c76dbf13ee1f07b5323d12d2e85
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Sat, 12 Nov 2011 15:08:01 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b5c707572daac1"
}
0.7s (89.5s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.0s (92.5s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=99687c76dbf13ee1f07b5323d12d2e85
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321110485144",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=99687c76dbf13ee1f07b5323d12d2e85
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=99687c76dbf13ee1f07b5323d12d2e85
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Sat, 12 Nov 2011 15:08:07 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
12.0s (104.5s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=99687c76dbf13ee1f07b5323d12d2e85
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321110497103</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=99687c76dbf13ee1f07b5323d12d2e85
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=99687c76dbf13ee1f07b5323d12d2e85
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Sat, 12 Nov 2011 15:08:19 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
5.9s (110.4s total) OK. New subscription request SEN1321110503015...
Request: : https://api.att.com/1/payments/transactions?access_token=99687c76dbf13ee1f07b5323d12d2e85
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321110503015",
  "externalMerchantTransactionID": "SenchaTransId1321110503027",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=99687c76dbf13ee1f07b5323d12d2e85
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=99687c76dbf13ee1f07b5323d12d2e85
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Sat, 12 Nov 2011 15:08:23 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: device_info_json 22

NEXT TEST: device_info_json_error 21

NEXT TEST: device_info_xml 20

NEXT TEST: device_info_xml_error 19

NEXT TEST: device_info_jsonp 18

NEXT TEST: device_info_jsonp_error 17

NEXT TEST: device_location_json 16

NEXT TEST: device_location_json_error 15

NEXT TEST: device_location_xml 14

NEXT TEST: device_location_xml_error 13

NEXT TEST: device_location_jsonp 12

NEXT TEST: device_location_jsonp_error 11

NEXT TEST: sms_send_json 10

NEXT TEST: sms_send_form 9

NEXT TEST: mms_send_
NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddjson 8

NEXT TEST: mms_status 7

NEXT TEST: wap_push 6

NEXT TEST: payment_new_json 5

NEXT TEST: payment_status_json 4

NEXT TEST: payment_refund_json 3

NEXT TEST: payment_new_xml 2

NEXT TEST: payment_new_subscription 1

NEXT TEST: payment_subscription_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: device_info_json 22

NEXT TEST: device_info_json_error 21

NEXT TEST: device_info_xml 20

NEXT TEST: device_info_xml_error 19

NEXT TEST: device_info_jsonp 18

NEXT TEST: device_info_jsonp_error 17

NEXT TEST: device_location_json 16

NEXT TEST: device_location_json_error 15

NEXT TEST: device_location_xml 14

NEXT TEST: device_location_xml_error 13

NEXT TEST: device_location_jsonp 12

NEXT TEST: device_location_jsonp_error 11

NEXT TEST: sms_send_json 10

NEXT TEST: sms_send_form 9

NEXT TEST: mms_send_json 8

NEXT TEST: mms_status 7

NEXT TEST: wap_push 6

NEXT TEST: payment_new_json 5

NEXT TEST: payment_status_json 4

NEXT TEST: payment_refund_json 3

NEXT TEST: payment_new_xml 2

NEXT TEST: payment_new_subscription 1

NEXT TEST: payment_subscription_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
c0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 16
response-header: date => Sun, 13 Nov 2011 03:34:39 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "87e059107dba03c2bd14bad2c8b951f1"
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 3146
response-header: date => Sun, 13 Nov 2011 03:35:03 GMT
response-header: content-length => 1443
response-header: content-encoding => gzip
response-header: set-cookie => sessionId=EUID%3DNzIwYjQ1YTU6MTMzOTk1ZmE2OTk6NGVlOQ%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com; path=/
response-header: keep-alive => timeout=5, max=100
response-header: vary => Accept-Encoding
response-header: cache-control => private, max-age=0, must-revalidate
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 1425 bytes (1435 total)
Read 8 bytes (1443 total)
gzip body
saved cookie: sessionId=EUID%3DNzIwYjQ1YTU6MTMzOTk1ZmE2OTk6NGVlOQ%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/effects.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/controls.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/application.js?1320650752" type="text/javascript"></script>
	<script src="/javascripts/application.js?1320650752" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo" id="logo_title">SignIn | SignUp</h1>
<img src="/images/att.png" alt="" id="logo" height="28" width="28" />
</header>
	<form action="/off_net_consent_wireless" id="off_net_consent_wireless" method="post">
	<p><strong>Sencha API Poller</strong>  by Jason Cline, is requesting do the following: 
		<div id="firstCol_b">
			<ul>
				
				
					<li>Location - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
					<li>Device Capabilities - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
				
				
				
				
				
				
				
			</ul>
			<p>If ok, enter the wireless phone number and click Allow. A verification message will be sent.	</p>
		</div>
	<br><p></p>
	<br>
	<form action="" id="signup" method="post">
		<div id="firstCol_b">
			<label for="phone"><span>Wireless Number</span></label> 
		</div>
		<div id="firstCol_a">
			<img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50">
		</div>
		<div class="input-c" id="firstCol_b" style="right: 9px; top: 9px">
			<input id="login_wireless" name="login[wireless]" size="30" style="color:silver;" type="text" />
			<input id="login_client_id" name="login[client_id]" type="hidden" value="cddc0328b4c56103f8febb0194df7fd8" />
			<input id="login_scope" name="login[scope]" type="hidden" vadding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 8
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Sun, 13 Nov 2011 03:34:58 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "133b13aadb992f143360cf822af13886"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1589
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Sun, 13 Nov 2011 03:34:59 GMT
response-header: content-length => 8564
response-header: set-cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzOWFjNTRlZTg6MzJmYg%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlMzM4ZjVmNzUwMDQzOTQzMjFhNjdjY2UyNWQ0MjNmNGI%3D--56a2afb36d5d9b61c2d794e63fd354206528dffb; path=/; HttpOnly, BIGipServeruser_profile_443=269098924.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 7469 bytes (7469 total)
Read 1095 bytes (8564 total)
saved cookie: sessionId=EUID%3DNWY2NWUwNTg6MTMzOWFjNTRlZTg6MzJmYg%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlMzM4ZjVmNzUwMDQzOTQzMjFhNjdjY2UyNWQ0MjNmNGI%3D--56a2afb36d5d9b61c2d794e63fd354206528dffb
saved cookie: BIGipServeruser_profile_443=269098924.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="10069836471896119" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKKjnnitoHnmdUijUszN0AoAkpskiRRtJI6oijLMxwAPc1w114/ubi5aHRdMafHRnVmLf8BXp+dY
XiPXtfv7FLfUrE2cBfPELx7yOx3Hn1oA7xvGPh9ZfLOpJuzjIRiPzAxWvb3MN3As1vKksTdHRsg1
5xp3hvTbjwJPqcuftYSSQPvPylScLjpzj9ah8D63HpM12LyZo7IoGJ2MwV8gDoDjIz+QoA9Soqnp
uq2OrwNNYziaNW2scEEH6EA1UuvFGjWV61nPeYuFIBRY3bk9uAeaANeiqepalbaVp8l7csRGg6Ac
sT0AHrXEnx3rV2zy6fo6vbofmOx5CPqRgCgD0Kiua8OeMLbWy8M0YtrlFLkFsqyjqQf6VZk8YaBF
L5TalGWzjKqzD8wMUAblFQ2t3b3sAntZo5oj0ZGyKmoAKKKKACiiigAooooAKKKKACiiigAooooA
KKKKACiiigAooooAK4r4j3rw6Xa2iEgXEhZsdwuOPzIP4V2tcX8RrCS40u2vEUsLZyHx2Vsc/mB+
dAHP6H4i1PTNLEel6OkkKEtPMY3fcfUkYA4rQ1Txppuq+HDFc2HmXTNjySx2qR/GG6/h+HStnwz4
j0ePw5bxy3UFtJbx7ZI3YKSR3A7568eteaX5We9urm3iZbZp22ccKCSQPy/lQBs2vhvXbjw893BI
RZuDJ9n80guB329D0781ueC7nStS0250OWzWKWVMuwOfOHrk9COuPxrV0fxTpUHhS3aW5iWW3gEb
QFvnZlGOB3zj9a4vwey2usnUpiVtrKJ5JW+oKgfUk8CgBVudS8F6zd28ZGWUr8w+VwfuuPcf4itv
wJoLXdy2t3oLAMfJ38737v8Ah/P6VkR2mpeONYu7lSECISN33UHO1B9f8TWr4I157C8bQ78lFLkR
b/4Hzyv4/wA/rQB0vjTTZNS8OyLEyh4HE2GYAEAEEZPsT+Vcr4b8a2uj6KtjcWkrPGWKNFjDZOfm
yeOvvWr8SGuhploIywtjIfOx64G3P/j1M0L/AIRD/hHovtP2LzvLHn+fjzN3fGefpigDgLudri8m
utoj892fap4GSTj6V2ejaF4Wk0SJtQ1C2+1zJuYm7CmLPQAZ6j3B5ri7pYjdXDWof7MJD5ZYchcn
bn3xXa6Ha+DLzSIZLxYYrpEAmWW4dCWHUgbuc9eKAMvwpfvpHisWaTiS2mlMDFTlX5wrD8cc+hr1
iuD0hvBdxq0EdlZzpdLKDCSZCCwOQfvHjjPP413lABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRR
RQAUUUUAFFFFABTZI0ljaORVdGGGVhkEehp1FAHLT/D/AESacyKLiEE52RyDb+oJ/WteHQdMh0s6
atpGbVuWRudx9SeufetKigDk3+HmitLvD3arn7gkGP1Gf1q5deDtLuNPjsYzPbW6NvKwsBvb1YkE
mugooAoaRpFrotiLS0DbASxZyCzE9yaztW8HaZq9/wDbZXuIZiAGMDBdxHc5B5roKKAK7WcU1j9k
uR9ojKBG80Al/c+9c5L8PdEkm3qbqNc/cSQY/UE/rXV0UAZtr4f0uz0+Sxis4/Ik/wBYGG4v9Sf8
isWb4eaLJIWRrqIf3EkGP1BNdZRQBlaT4d03RctZwYkYYMrncxH17fhWrRRQAUUUUAFFFFABRRRQ
AUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAB
RRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFF
FFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAf/2Q==
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
9.0s (9.0s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzOWFjNTRlZTg6MzJmYg%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlMzM4ZjVmNzUwMDQzOTQzMjFhNjdjY2UyNWQ0MjNmNGI%3D--56a2afb36d5d9b61c2d794e63fd354206528dffb; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 3396
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Sun, 13 Nov 2011 03:35:01 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlMzM4ZjVmNzUwMDQzOTQzMjFhNjdjY2UyNWQ0MjNmNGIiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--284ac75901619f38da85de567d81b79ab0076f9b; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlMzM4ZjVmNzUwMDQzOTQzMjFhNjdjY2UyNWQ0MjNmNGIiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--284ac75901619f38da85de567d81b79ab0076f9b
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
3.6s (12.6s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzOWFjNTRlZTg6MzJmYg%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlMzM4ZjVmNzUwMDQzOTQzMjFhNjdjY2UyNWQ0MjNmNGIiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--284ac75901619f38da85de567d81b79ab0076f9b; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzMzlhZGY4NzRjOi0zMWRi
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 351
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Sun, 13 Nov 2011 03:35:05 GMT
response-header: content-length => 143
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 143 bytes (143 total)
Authorization key: LTE2MjkxNzcxOjEzMzlhZGY4NzRjOi0zMWRi
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzMzlhZGY4NzRjOi0zMWRi">redirected</a>.</body></html>
0.6s (13.3s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzMzlhZGY4NzRjOi0zMWRi ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzMzlhZGY4NzRjOi0zMWRi
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 126
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Sun, 13 Nov 2011 03:35:06 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "fafc62c83db6f73b1ba449314b572b1db86888ca",
  "access_token": "b3d8eaf3fbd49d774feb8b9d497bf9d1"
}
ACCESS TOKEN: b3d8eaf3fbd49d774feb8b9d497bf9d1
Refresh TOKEN: fafc62c83db6f73b1ba449314b572b1db86888ca
0.9s (14.2s total) OK. Access token: fafc62c83db6f73b1ba449314b572b1db86888ca...

NEXT TEST: device_info_json 22
3.0s (17.3s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
7.0s (24.3s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
Net::HTTP::Get: /1/devices/tel:123/info?access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
2.5s (26.8s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (29.8s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
3.1s (32.9s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
Net::HTTP::Get: /1/devices/tel:123/info?access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
0.1s (33.0s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (36.0s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPInternalServerError 1.1 500 Internal Server Error
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 182
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 182 bytes (182 total)
500 => Net::HTTPInternalServerError
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0001",

        "text": "Internal platform error occurred " ,

        "variables" : " "  }

}})

NEXT TEST: device_info_jsonp_error 17
125.8s (161.7s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
0.2s (161.9s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (164.9s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x102318cd0>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
5.4s (170.3s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
8.6s (178.9s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
9.9s (188.8s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (191.8s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
Request: https://api.att.com/1/messages/outbox/sms?access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
Net::HTTP::Post: /1/messages/outbox/sms?access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzMzlhZGY4NzRjOi0zMWRi
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Sun, 13 Nov 2011 03:38:04 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b1604502ecf3e6"
  },
  "id": "SMSa9b1604502ecf3e6"
}
0.9s (192.7s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (195.7s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Sun, 13 Nov 2011 03:38:11 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b598c3c57f0976"
  },
  "id": "SMSa9b598c3c57f0976"
}
4.2s (199.8s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.0s (202.9s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
Request: https://api.att.com/1/messages/outbox/mms?access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
Net::HTTP::Post: /1/messages/outbox/mms?access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_18424005.1321155495368"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Sun, 13 Nov 2011 03:38:16 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b6fa7"
  },
  "id": "MMSa9b4644d651b6fa7"
}
1.1s (204.0s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b6fa7?access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b4644d651b6fa7?access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Sun, 13 Nov 2011 03:38:19 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b4644d651b6fa7"
  }
}
3.7s (207.7s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.1s (210.8s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_16784006.1321155503306"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b6fa7?access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Sun, 13 Nov 2011 03:38:23 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b4a1507be34a53"
}
0.5s (211.3s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.0s (214.3s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321155506806",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Sun, 13 Nov 2011 03:38:28 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
11.8s (226.1s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321155518603</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Sun, 13 Nov 2011 03:38:41 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
5.9s (232.0s total) OK. New subscription request SEN1321155524528...
Request: : https://api.att.com/1/payments/transactions?access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321155524528",
  "externalMerchantTransactionID": "SenchaTransId1321155524537",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=b3d8eaf3fbd49d774feb8b9d497bf9d1
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Sun, 13 Nov 2011 03:38:44 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = devalue="TL,DC,WAP,SMS,MMS,PAYMENT" />
			<input id="login_id" name="login[id]" type="hidden" />
			<!--<input  name="phone" type="text" value="4252221234" style="color: silver;">-->
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="javascript:submit_off_net_wireless();">Allow</a>
			</p>
			<p>
				<a class="button cancel" href="/deny_pin">Cancel</a>
			</p>
			<p style="text-align:center; margin-left:10px;color:red;"></p>
			<br>
			<p><SMALL>Refer to Craftguilds Privacy Policy for details on how this information may be used or shared.</SMALL>
			</p>
		</div>
	</form>
	<form action="" id="signup" method="post">
		<hr style="clear:both">   
		<h3>Existing Users</h3><!--move h3 to css and style center it-->
		<!--begin email address-->
		<p>To allow use with another account click  the <strong> Sign in to another account </strong> button.  To sign in and manage consent settings click <strong> Manage Consent</strong>. 
		</p>
		<!--begin SIGNIN/Manage Profile Buttons -->
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=true">SignIn to another account</a>
			</p>
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="#">Manage Consent</a>
			</p>
		</div>
	</form>

<footer>
</footer>
</body>
</html>
#<NoMethodError: undefined method `value=' for nil:NilClass>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.3s (0.3s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 11
response-header: date => Sun, 13 Nov 2011 04:34:37 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "87e059107dba03c2bd14bad2c8b951f1"
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1074
response-header: date => Sun, 13 Nov 2011 04:34:59 GMT
response-header: content-length => 1443
response-header: content-encoding => gzip
response-header: set-cookie => sessionId=EUID%3DLTExOWE0NWM2OjEzMzk5YWQwNzIzOjI3N2I%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com; path=/
response-header: keep-alive => timeout=5, max=100
response-header: vary => Accept-Encoding
response-header: cache-control => private, max-age=0, must-revalidate
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 1425 bytes (1435 total)
Read 8 bytes (1443 total)
gzip body
saved cookie: sessionId=EUID%3DLTExOWE0NWM2OjEzMzk5YWQwNzIzOjI3N2I%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/effects.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/controls.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/application.js?1320650752" type="text/javascript"></script>
	<script src="/javascripts/application.js?1320650752" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo" id="logo_title">SignIn | SignUp</h1>
<img src="/images/att.png" alt="" id="logo" height="28" width="28" />
</header>
	<form action="/off_net_consent_wireless" id="off_net_consent_wireless" method="post">
	<p><strong>Sencha API Poller</strong>  by Jason Cline, is requesting do the following: 
		<div id="firstCol_b">
			<ul>
				
				
					<li>Location - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALice_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.4s (0.4s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 9
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Sun, 13 Nov 2011 04:34:57 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "fc0ac9a1d8c4700f00456d10e02ae364"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1321
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Sun, 13 Nov 2011 04:34:58 GMT
response-header: content-length => 8662
response-header: set-cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzMzlhZGY4NzRjOjc1YmQ%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlOTQ4MjdiYTk4NzYxOWYzNzM1OGVjOTBlMmQwZDI4ZTY%3D--e5cf65ab8b67faf316530c35f7e8697525e19f6f; path=/; HttpOnly, BIGipServeruser_profile_443=470425516.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 8000 bytes (8000 total)
Read 662 bytes (8662 total)
saved cookie: sessionId=EUID%3DLTE2MjkxNzcxOjEzMzlhZGY4NzRjOjc1YmQ%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlOTQ4MjdiYTk4NzYxOWYzNzM1OGVjOTBlMmQwZDI4ZTY%3D--e5cf65ab8b67faf316530c35f7e8697525e19f6f
saved cookie: BIGipServeruser_profile_443=470425516.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="10073434781114303" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKK4PxPrPijSLiaZfKisDL5cMgVGJyCRxyex7dqAO8oqnpM8l1o1jcTNullt43dsYySoJNXKAMvU
vEWlaRcLb3115UrIHC+WzcZIzwD6GtCCeO5t4riFt0UqB0bGMgjIPNeZ/Ef/AJGG3/69F/8AQ3rr
rLxBpWlaFpcd7epFIbSI7ACzD5B1ABIoA6Kiq1jqNnqUHnWdwk0fQlT0PuO1cnq/jtor9rHSLP7V
KrFS5BILDqFUcn60AdrWPY+KdG1K8jtLS88yeTO1fKcZwCTyRjoDXOWfj66t7xbfW9O+z56sqspU
epVuSK5rwR/yN9j/ANtP/RbUAewUVnanrumaO0a390ImkBKrtZiR9ADVu0u4b61jubdmaKQZVihX
I9cEA0ATUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFcf8R/+Ret/+vtf
/QHrsK4j4i3lrJo8VqlzC1wl0peJXBdRsbkjqOo/OgDL0yz8W61p0DW979ktI41jh/eGPcFGP4Rk
9Opp8HiHXPC+qJZ62zXFu2CSx3Hb/eVup+h/St/w14o0qXRbWCa7htpoIljZJmCZwMZBPBzXMeNd
Vt9e1OztNN/fmLKh0H32YjgevT9aAE+IrrJr1s6EMrWaEEdxuetrRPBOm3egQT3qySXNxEHEgkI2
Aj5QB06Y65rnfG9u1pf6bbOdzQ6dFGT6kFhXXeHfFOljw3bi5vIoZbaIRvG7YY7RgYHfIA6UAcd4
auJ9E8YJabztac2soHRudo/XBp9lcf8ACF+LJhcxi4QKyZRgW2kghh6HjofU1TsEutZ8TzXNkh84
ySXS8fdIJYZ/HA/Grvg9tHbU7ltcMZlIBjNz9zOTu3Z4z06+9AEmu6ofGer2Vrp1sU2BlUykKzZx
nPPQY9+9ZHhzUYtK12C+mBKRLIcDqSUYAfiSK0/F7aOup2zaGYxKMmQ233A2Rt244z16e1Zfh3To
tW161spmZYpCSxXrgKWx+OMUAb/h6xbxfr9xqOpSK8cRDGHPX+6uP7ox/nNU9bt/Evh4Q/adWuGj
kyFaG5kIGO3OKWF5fBfjFkYsbbdtb/bibofqP5ivQ9d0uPXdEltgVLMu+F+wYdD9D0+hoAyWS+X4
dbjqf+leV5v2vzn+7v3fexuzt4/SuS0O38Ta+JmtdXuUSLAZ5bqQAk9hjNUzq99JocfhwRvvFxjH
c88Jj/eyfyr1LQtJTRdIgs1wXA3SMP4nPU/0+gFAGlRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRR
RQAUUUUAFFFFABXM6l4H0zVNQmvZ57tZJSCwR1AHGOMqfSumooA5i48BaJcRxKFmiZEVC8bgF8DG
TxjPrgCr+keF9L0V/MtoS02MebKdzfh2H4CtiigDB1vwlYa9epdXU1yjpGIwImUDAJPcH1qDUPA2
jX9y0+2a3dzlhAwAJ+hBx+FdLRQBnaTolhosLR2UO0t992OWb6mqWq+D9I1adp5YnhmY5Z4W2lvq
CCP0reooAwdK8H6RpM6zxRPNMpyrzNuK/QAAfpUOleCdN0jUor63nu2liztEjqV5BHOFHrXSUUAY
2ueGLDX3he6aZHiBAaIgEg9jkH/JrCtfGmj6LbjTVTUphbExhpFQng9Mgjj8K7aqLaLpTuXfTLJm
Y5JMCkk/lQB574VvLfUvG7Xd3EfPnZ3hVFG1WwTk/QA9upzXqFU4NJ062mWaDT7WKVfuvHCqsO3U
CrlABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUU
UUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRR
QAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQB//2Q==
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
7.1s (7.4s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzMzlhZGY4NzRjOjc1YmQ%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlOTQ4MjdiYTk4NzYxOWYzNzM1OGVjOTBlMmQwZDI4ZTY%3D--e5cf65ab8b67faf316530c35f7e8697525e19f6f; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 3517
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Sun, 13 Nov 2011 04:34:59 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlOTQ4MjdiYTk4NzYxOWYzNzM1OGVjOTBlMmQwZDI4ZTYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--44b22d88143cadbff67ef46616d4ee614d7bed3e; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlOTQ4MjdiYTk4NzYxOWYzNzM1OGVjOTBlMmQwZDI4ZTYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--44b22d88143cadbff67ef46616d4ee614d7bed3e
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
4.1s (11.5s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzMzlhZGY4NzRjOjc1YmQ%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlOTQ4MjdiYTk4NzYxOWYzNzM1OGVjOTBlMmQwZDI4ZTYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--44b22d88143cadbff67ef46616d4ee614d7bed3e; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=NWY2NWUwNTg6MTMzOWIxNjJkZGQ6LTFmNjU%3D
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 5361
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Sun, 13 Nov 2011 04:35:04 GMT
response-header: content-length => 145
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 145 bytes (145 total)
Authorization key: NWY2NWUwNTg6MTMzOWIxNjJkZGQ6LTFmNjU%3D
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=NWY2NWUwNTg6MTMzOWIxNjJkZGQ6LTFmNjU%3D">redirected</a>.</body></html>
7.9s (19.4s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzOWIxNjJkZGQ6LTFmNjU%3D ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzOWIxNjJkZGQ6LTFmNjU%3D
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 103
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Sun, 13 Nov 2011 04:35:12 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "14118d95a214af92012707942e0c555baa62f49f",
  "access_token": "4b43d866b7cd4d91c242ef36b2c5e372"
}
ACCESS TOKEN: 4b43d866b7cd4d91c242ef36b2c5e372
Refresh TOKEN: 14118d95a214af92012707942e0c555baa62f49f
0.9s (20.3s total) OK. Access token: 14118d95a214af92012707942e0c555baa62f49f...

NEXT TEST: device_info_json 22
3.0s (23.3s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=4b43d866b7cd4d91c242ef36b2c5e372
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=4b43d866b7cd4d91c242ef36b2c5e372
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=4b43d866b7cd4d91c242ef36b2c5e372
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
5.4s (28.7s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=4b43d866b7cd4d91c242ef36b2c5e372
Net::HTTP::Get: /1/devices/tel:123/info?access_token=4b43d866b7cd4d91c242ef36b2c5e372
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPInternalServerError 1.1 500 Internal Server Error
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 169
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 169 bytes (169 total)
500 => Net::HTTPInternalServerError
{"requestError": {

    "serviceException": {

        "messageId": "SVC0001",

        "text": "Internal platform error occurred " ,

        "variables" : " "    }

}}
122.3s (151.0s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (154.0s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=4b43d866b7cd4d91c242ef36b2c5e372
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=4b43d866b7cd4d91c242ef36b2c5e372
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
3.2s (157.3s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=4b43d866b7cd4d91c242ef36b2c5e372
Net::HTTP::Get: /1/devices/tel:123/info?access_token=4b43d866b7cd4d91c242ef36b2c5e372
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
0.2s (157.4s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (160.5s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=4b43d866b7cd4d91c242ef36b2c5e372&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=4b43d866b7cd4d91c242ef36b2c5e372&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
5.7s (166.1s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=4b43d866b7cd4d91c242ef36b2c5e372&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=4b43d866b7cd4d91c242ef36b2c5e372&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
1.3s (167.4s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (170.4s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x1022c0378>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=4b43d866b7cd4d91c242ef36b2c5e372
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=4b43d866b7cd4d91c242ef36b2c5e372
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
5.7s (176.1s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=4b43d866b7cd4d91c242ef36b2c5e372
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=4b43d866b7cd4d91c242ef36b2c5e372
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=4b43d866b7cd4d91c242ef36b2c5e372
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=4b43d866b7cd4d91c242ef36b2c5e372
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
6.6s (182.7s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=4b43d866b7cd4d91c242ef36b2c5e372&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=4b43d866b7cd4d91c242ef36b2c5e372&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=4b43d866b7cd4d91c242ef36b2c5e372&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=4b43d866b7cd4d91c242ef36b2c5e372&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
11.2s (193.9s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (196.9s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=4b43d866b7cd4d91c242ef36b2c5e372
Request: https://api.att.com/1/messages/outbox/sms?access_token=4b43d866b7cd4d91c242ef36b2c5e372
Net::HTTP::Post: /1/messages/outbox/sms?access_token=4b43d866b7cd4d91c242ef36b2c5e372
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzOWIxNjJkZGQ6LTFmNjU%3D
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Sun, 13 Nov 2011 04:38:11 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b1604502ecf3e7"
  },
  "id": "SMSa9b1604502ecf3e7"
}
3.1s (200.0s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.1s (203.0s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=4b43d866b7cd4d91c242ef36b2c5e372
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=4b43d866b7cd4d91c242ef36b2c5e372
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=4b43d866b7cd4d91c242ef36b2c5e372
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Sun, 13 Nov 2011 04:38:15 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b487b5e055d0e8"
  },
  "id": "SMSa9b487b5e055d0e8"
}
0.6s (203.7s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.1s (206.7s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=4b43d866b7cd4d91c242ef36b2c5e372
Request: https://api.att.com/1/messages/outbox/mms?access_token=4b43d866b7cd4d91c242ef36b2c5e372
Net::HTTP::Post: /1/messages/outbox/mms?access_token=4b43d866b7cd4d91c242ef36b2c5e372
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_13356692.1321159099204"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=4b43d866b7cd4d91c242ef36b2c5e372
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Sun, 13 Nov 2011 04:38:20 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36ce78"
  },
  "id": "MMSa9b11c1e5b36ce78"
}
1.2s (208.0s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36ce78?access_token=4b43d866b7cd4d91c242ef36b2c5e372
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b11c1e5b36ce78?access_token=4b43d866b7cd4d91c242ef36b2c5e372
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Sun, 13 Nov 2011 04:38:23 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b11c1e5b36ce78"
  }
}
3.7s (211.7s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.0s (214.7s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=4b43d866b7cd4d91c242ef36b2c5e372
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=4b43d866b7cd4d91c242ef36b2c5e372
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_16379423.1321159107238"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36ce78?access_token=4b43d866b7cd4d91c242ef36b2c5e372
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Sun, 13 Nov 2011 04:38:27 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b1524324bb0303"
}
0.6s (215.4s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.0s (218.4s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=4b43d866b7cd4d91c242ef36b2c5e372
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321159110908",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=4b43d866b7cd4d91c242ef36b2c5e372
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=4b43d866b7cd4d91c242ef36b2c5e372
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Sun, 13 Nov 2011 04:38:33 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
12.0s (230.4s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=4b43d866b7cd4d91c242ef36b2c5e372
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321159122899</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=4b43d866b7cd4d91c242ef36b2c5e372
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=4b43d866b7cd4d91c242ef36b2c5e372
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Sun, 13 Nov 2011 04:38:45 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
5.7s (236.0s total) OK. New subscription request SEN1321159128560...
Request: : https://api.att.com/1/payments/transactions?access_token=4b43d866b7cd4d91c242ef36b2c5e372
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321159128560",
  "externalMerchantTransactionID": "SenchaTransId1321159128568",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=4b43d866b7cd4d91c242ef36b2c5e372
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=4b43d866b7cd4d91c242ef36b2c5e372
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Sun, 13 Nov 2011 04:38:48 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST:L> </li><br>
					
				
				
					<li>Device Capabilities - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
				
				
				
				
				
				
				
			</ul>
			<p>If ok, enter the wireless phone number and click Allow. A verification message will be sent.	</p>
		</div>
	<br><p></p>
	<br>
	<form action="" id="signup" method="post">
		<div id="firstCol_b">
			<label for="phone"><span>Wireless Number</span></label> 
		</div>
		<div id="firstCol_a">
			<img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50">
		</div>
		<div class="input-c" id="firstCol_b" style="right: 9px; top: 9px">
			<input id="login_wireless" name="login[wireless]" size="30" style="color:silver;" type="text" />
			<input id="login_client_id" name="login[client_id]" type="hidden" value="cddc0328b4c56103f8febb0194df7fd8" />
			<input id="login_scope" name="login[scope]" type="hidden" value="TL,DC,WAP,SMS,MMS,PAYMENT" />
			<input id="login_id" name="login[id]" type="hidden" />
			<!--<input  name="phone" type="text" value="4252221234" style="color: silver;">-->
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="javascript:submit_off_net_wireless();">Allow</a>
			</p>
			<p>
				<a class="button cancel" href="/deny_pin">Cancel</a>
			</p>
			<p style="text-align:center; margin-left:10px;color:red;"></p>
			<br>
			<p><SMALL>Refer to Craftguilds Privacy Policy for details on how this information may be used or shared.</SMALL>
			</p>
		</div>
	</form>
	<form action="" id="signup" method="post">
		<hr style="clear:both">   
		<h3>Existing Users</h3><!--move h3 to css and style center it-->
		<!--begin email address-->
		<p>To allow use with another account click  the <strong> Sign in to another account </strong> button.  To sign in and manage consent settings click <strong> Manage Consent</strong>. 
		</p>
		<!--begin SIGNIN/Manage Profile Buttons -->
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=true">SignIn to another account</a>
			</p>
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="#">Manage Consent</a>
			</p>
		</div>
	</form>

<footer>
</footer>
</body>
</html>
#<NoMethodError: undefined method `value=' for nil:NilClass>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.1s (0.1s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 17
response-header: date => Sun, 13 Nov 2011 05:34:37 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "87e059107dba03c2bd14bad2c8b951f1"
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 3481
response-header: date => Sun, 13 Nov 2011 05:35:02 GMT
response-header: content-length => 1443
response-header: content-encoding => gzip
response-header: set-cookie => sessionId=EUID%3DNzIwYjQ1YTU6MTMzOWI2MWRkMmU6LTdhMzM%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com; path=/
response-header: keep-alive => timeout=5, max=100
response-header: vary => Accept-Encoding
response-header: cache-control => private, max-age=0, must-revalidate
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 1425 bytes (1435 total)
Read 8 bytes (1443 total)
gzip body
saved cookie: sessionId=EUID%3DNzIwYjQ1YTU6MTMzOWI2MWRkMmU6LTdhMzM%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.1s (0.1s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 8
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Sun, 13 Nov 2011 05:34:59 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "9130d594b25c29172c72a68ee8564441"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1359
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Sun, 13 Nov 2011 05:35:00 GMT
response-header: content-length => 8584
response-header: set-cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzMzliMzM2ZDRkOjFlODQ%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlZWMzOTcxZDI3MmI0ZjJmZGEyOGNiM2JhNDc5NTllZGI%3D--8cb6cfabc88636f0f439c085f5d8781d28901aa7; path=/; HttpOnly, BIGipServeruser_profile_443=470425516.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 8000 bytes (8000 total)
Read 584 bytes (8584 total)
saved cookie: sessionId=EUID%3DLTE2MjkxNzcxOjEzMzliMzM2ZDRkOjFlODQ%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlZWMzOTcxZDI3MmI0ZjJmZGEyOGNiM2JhNDc5NTllZGI%3D--8cb6cfabc88636f0f439c085f5d8781d28901aa7
saved cookie: BIGipServeruser_profile_443=470425516.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="19727275128789212" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKK8/wDEniDxLpd9cFFENl5myKUwgg8ZHJ6ng/lQB6BRVPSZ5LrRrG4mbdLLbxu7YxklQSauUAFF
eb674g8WaRMBctFbxys3klURtwBH19R1r0igAooJwM1kWnijRr69Wzt7zdcMSAjRuvI7cgc0Aa9F
UtS1ax0iBZr64EKM21Tgkk/QAmnadqdpqtsbiylMkW7buKMuT+IGaALdFFFABRTJZooImlmkSONR
lnc4A+prFbxl4fWTYdRTOcZEbkfnjFAG7RUNrd299AJrWeOaI/xI2RU1ABRRRQAUUUUAFFFFABRR
RQAUUUUAFFFFABRRRQAUUUUAFcf8R/8AkXrf/r7X/wBAeuwrifiLeWsmjxWqXMLXCXSl4lcF1Gxu
SOo6j86AMvTrDxfq+nW7Q3ps7WOJVhBkMW5QMA/KMn6mtXwXrOoz6leaRqUrSyW4JDMcspVgrAnv
ya29D1KxXw3ZOb23CwW0SysZVxGdoGG54OeOa5Hw1f2cHjvV7ia7gjgk87ZI8gCtmUEYJ4PHNAFj
4m/8wv8A7a/+yUyPTvGmtRC9OoG1VxuSPzWjyO3Cj+dM+I17a3MmnLb3MMzxGUSLG4Yofk4OOnQ/
lXVaf4s0e9slma9gt32/PFK4VlPpz1/CgDmtG8UappesjSdeywLBBI2NyE9DkdQah8daI9hfJrdl
lFdwZCvGyTs34/z+tUNeuV8VeLoY9NBZcLCrgYzgklvoM/pWh421yTUb1NC0/LqHCy7P45M8L+H8
/pQBkCXUfG+u28MpACoA20fLGo+82PUn+gr0u401otAk07TGFu4i2QtuK7T65HP415tJbaj4H1u2
nJDqygkr92Qcbl/D/A16hb6nZ3GmpqCzotq67vMdgoX6k9OeKAPMtRudf8M6xbR3uqT3BGycotzI
Vddx+U59dp7VoCLxnrtu9+lxJbRY3RxJIYt49FA5P4/nSeJ7yxu/HGkypc281sohEjh1ZAPMYnJ6
dK7yLWNLnlWKHUrOSRjhUSdSSfYA0AeVeIdR1lvJ0vVZPntgCyhgSSRkFiOCQCK7WDwBpI0tYZUk
N2U+afeeGx2HTGfauX+IFhJb+ITdlT5VyikN2yoCkfoPzrtYvGGkto4vWvIhII8mAt8+7H3dvXr3
6UAUvC3hW/0G8aaW/iaN1w8KKSGPY5OOn0rra5Dwv4uvtevzbS2MSoqFnljYgL6cHPU+/wDKuvoA
KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigArmtS8D6ZqmoTXs892skpBYI6gDjHGVPpX
S0UAc5b+DNOttKvNOSa6MN0ULsXXcNpyMfLVL/hXGj/8/N9/32n/AMTXYUUAcncfD7Sbm5lne4vQ
0rlyA6YyTn+7Ut54C0S7nMqrNbknJWFwF/Ig4/CunooAydP8O6fpVtLFYxtDJIpVpwcyfgT0/LFV
dI8Habo9/wDbYXuJpgCFMzA7c9SMAc/410FFAFDV9HtNbsTa3attyGVkIDKfUGs+28JWdrpF1piX
V41tcYLBnUlT6r8vGcCt+igDj/8AhXGj/wDPzff99p/8TViw8CaXp9/DeQz3jSQsHUO6kE++FrqK
KAK19p9rqdq1teQLLEecN2PqD2Nc2fh3opk3CS7A/uCQY/8AQc/rXW0UAU9N0qy0m38iygWJCct3
LH1JPJq5RRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQA
UUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABR
RRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQB/9k=
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
8.7s (8.8s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzMzliMzM2ZDRkOjFlODQ%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlZWMzOTcxZDI3MmI0ZjJmZGEyOGNiM2JhNDc5NTllZGI%3D--8cb6cfabc88636f0f439c085f5d8781d28901aa7; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 9518
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Sun, 13 Nov 2011 05:35:01 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlZWMzOTcxZDI3MmI0ZjJmZGEyOGNiM2JhNDc5NTllZGIiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--363372ba0eb1f9e9aa1c0b696958d50ec3fd6261; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4096 bytes (4096 total)
Read 338 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlZWMzOTcxZDI3MmI0ZjJmZGEyOGNiM2JhNDc5NTllZGIiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--363372ba0eb1f9e9aa1c0b696958d50ec3fd6261
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
9.8s (18.6s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzMzliMzM2ZDRkOjFlODQ%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlZWMzOTcxZDI3MmI0ZjJmZGEyOGNiM2JhNDc5NTllZGIiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--363372ba0eb1f9e9aa1c0b696958d50ec3fd6261; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=NWY2NWUwNTg6MTMzOWI2NzE3MTg6LTcwZDA%3D
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 383
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Sun, 13 Nov 2011 05:35:11 GMT
response-header: content-length => 145
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 145 bytes (145 total)
Authorization key: NWY2NWUwNTg6MTMzOWI2NzE3MTg6LTcwZDA%3D
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=NWY2NWUwNTg6MTMzOWI2NzE3MTg6LTcwZDA%3D">redirected</a>.</body></html>
3.6s (22.2s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzOWI2NzE3MTg6LTcwZDA%3D ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzOWI2NzE3MTg6LTcwZDA%3D
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 100
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Sun, 13 Nov 2011 05:35:15 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "ee0f242a3777943aae21ad2d22555ec1dc1cc460",
  "access_token": "af1e5c85e85da4ddd8139f59da0125aa"
}
ACCESS TOKEN: af1e5c85e85da4ddd8139f59da0125aa
Refresh TOKEN: ee0f242a3777943aae21ad2d22555ec1dc1cc460
0.6s (22.8s total) OK. Access token: ee0f242a3777943aae21ad2d22555ec1dc1cc460...

NEXT TEST: device_info_json 22
3.0s (25.8s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=af1e5c85e85da4ddd8139f59da0125aa
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=af1e5c85e85da4ddd8139f59da0125aa
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=af1e5c85e85da4ddd8139f59da0125aa
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-?1320650752" type="text/javascript"></script>
<script src="/javascripts/effects.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/controls.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/application.js?1320650752" type="text/javascript"></script>
	<script src="/javascripts/application.js?1320650752" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo" id="logo_title">SignIn | SignUp</h1>
<img src="/images/att.png" alt="" id="logo" height="28" width="28" />
</header>
	<form action="/off_net_consent_wireless" id="off_net_consent_wireless" method="post">
	<p><strong>Sencha API Poller</strong>  by Jason Cline, is requesting do the following: 
		<div id="firstCol_b">
			<ul>
				
				
					<li>Location - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
					<li>Device Capabilities - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
				
				
				
				
				
				
				
			</ul>
			<p>If ok, enter the wireless phone number and click Allow. A verification message will be sent.	</p>
		</div>
	<br><p></p>
	<br>
	<form action="" id="signup" method="post">
		<div id="firstCol_b">
			<label for="phone"><span>Wireless Number</span></label> 
		</div>
		<div id="firstCol_a">
			<img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50">
		</div>
		<div class="input-c" id="firstCol_b" style="right: 9px; top: 9px">
			<input id="login_wireless" name="login[wireless]" size="30" style="color:silver;" type="text" />
			<input id="login_client_id" name="login[client_id]" type="hidden" value="cddc0328b4c56103f8febb0194df7fd8" />
			<input id="login_scope" name="login[scope]" type="hidden" value="TL,DC,WAP,SMS,MMS,PAYMENT" />
			<input id="login_id" name="login[id]" type="hidden" />
			<!--<input  name="phone" type="text" value="4252221234" style="color: silver;">-->
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="javascript:submit_off_net_wireless();">Allow</a>
			</p>
			<p>
				<a class="button cancel" href="/deny_pin">Cancel</a>
			</p>
			<p style="text-align:center; margin-left:10px;color:red;"></p>
			<br>
			<p><SMALL>Refer to Craftguilds Privacy Policy for details on how this information may be used or shared.</SMALL>
			</p>
		</div>
	</form>
	<form action="" id="signup" method="post">
		<hr style="clear:both">   
		<h3>Existing Users</h3><!--move h3 to css and style center it-->
		<!--begin email address-->
		<p>To allow use with another account click  the <strong> Sign in to another account </strong> button.  To sign in and manage consent settings click <strong> Manage Consent</strong>. 
		</p>
		<!--begin SIGNIN/Manage Profile Buttons -->
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=true">SignIn to another account</a>
			</p>
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="#">Manage Consent</a>
			</p>
		</div>
	</form>

<footer>
</footer>
</body>
</html>
#<NoMethodError: undefined method `value=' for nil:NilClass>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT Tmax-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
5.6s (31.4s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=af1e5c85e85da4ddd8139f59da0125aa
Net::HTTP::Get: /1/devices/tel:123/info?access_token=af1e5c85e85da4ddd8139f59da0125aa
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
0.1s (31.5s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (34.5s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=af1e5c85e85da4ddd8139f59da0125aa
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=af1e5c85e85da4ddd8139f59da0125aa
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
3.1s (37.6s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=af1e5c85e85da4ddd8139f59da0125aa
Net::HTTP::Get: /1/devices/tel:123/info?access_token=af1e5c85e85da4ddd8139f59da0125aa
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPInternalServerError 1.1 500 Internal Server Error
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 185
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 185 bytes (185 total)
500 => Net::HTTPInternalServerError
<RequestError>
<ServiceException>
    <MessageId>SVC0001</MessageId>
    <Text>Internal platform error occurred </Text>
    <Variables>  </Variables>
</ServiceException>
</RequestError>
122.9s (160.5s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (163.5s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=af1e5c85e85da4ddd8139f59da0125aa&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=af1e5c85e85da4ddd8139f59da0125aa&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
5.4s (168.9s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=af1e5c85e85da4ddd8139f59da0125aa&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=af1e5c85e85da4ddd8139f59da0125aa&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
0.1s (169.0s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (172.0s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x1022fbab8>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=af1e5c85e85da4ddd8139f59da0125aa
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=af1e5c85e85da4ddd8139f59da0125aa
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
5.4s (177.3s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=af1e5c85e85da4ddd8139f59da0125aa
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=af1e5c85e85da4ddd8139f59da0125aa
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=af1e5c85e85da4ddd8139f59da0125aa
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=af1e5c85e85da4ddd8139f59da0125aa
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
8.5s (185.8s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=af1e5c85e85da4ddd8139f59da0125aa&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=af1e5c85e85da4ddd8139f59da0125aa&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=af1e5c85e85da4ddd8139f59da0125aa&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=af1e5c85e85da4ddd8139f59da0125aa&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPInternalServerError 1.1 500 Internal Server Error
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 182
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 182 bytes (182 total)
500 => Net::HTTPInternalServerError
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0001",

        "text": "Internal platform error occurred " ,

        "variables" : " "  }

}})
136.7s (322.6s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.1s (325.7s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=af1e5c85e85da4ddd8139f59da0125aa
Request: https://api.att.com/1/messages/outbox/sms?access_token=af1e5c85e85da4ddd8139f59da0125aa
Net::HTTP::Post: /1/messages/outbox/sms?access_token=af1e5c85e85da4ddd8139f59da0125aa
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzOWI2NzE3MTg6LTcwZDA%3D
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Sun, 13 Nov 2011 05:40:18 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b487b5e055d0ea"
  },
  "id": "SMSa9b487b5e055d0ea"
}
0.5s (326.2s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (329.2s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=af1e5c85e85da4ddd8139f59da0125aa
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=af1e5c85e85da4ddd8139f59da0125aa
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=af1e5c85e85da4ddd8139f59da0125aa
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Sun, 13 Nov 2011 05:40:22 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b1604502ecf3e9"
  },
  "id": "SMSa9b1604502ecf3e9"
}
1.1s (330.3s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.1s (333.3s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=af1e5c85e85da4ddd8139f59da0125aa
Request: https://api.att.com/1/messages/outbox/mms?access_token=af1e5c85e85da4ddd8139f59da0125aa
Net::HTTP::Post: /1/messages/outbox/mms?access_token=af1e5c85e85da4ddd8139f59da0125aa
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_16805867.1321162826182"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=af1e5c85e85da4ddd8139f59da0125aa
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Sun, 13 Nov 2011 05:40:26 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b6fa9"
  },
  "id": "MMSa9b4644d651b6fa9"
}
1.2s (334.5s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b6fa9?access_token=af1e5c85e85da4ddd8139f59da0125aa
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b4644d651b6fa9?access_token=af1e5c85e85da4ddd8139f59da0125aa
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Sun, 13 Nov 2011 05:40:30 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b4644d651b6fa9"
  }
}
3.5s (338.0s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.0s (341.0s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=af1e5c85e85da4ddd8139f59da0125aa
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=af1e5c85e85da4ddd8139f59da0125aa
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_10885532.1321162833944"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b6fa9?access_token=af1e5c85e85da4ddd8139f59da0125aa
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Sun, 13 Nov 2011 05:40:34 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b1524324bb0304"
}
0.7s (341.7s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.0s (344.7s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=af1e5c85e85da4ddd8139f59da0125aa
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321162837627",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=af1e5c85e85da4ddd8139f59da0125aa
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=af1e5c85e85da4ddd8139f59da0125aa
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Sun, 13 Nov 2011 05:40:43 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
15.2s (360.0s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=af1e5c85e85da4ddd8139f59da0125aa
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321162852873</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=af1e5c85e85da4ddd8139f59da0125aa
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=af1e5c85e85da4ddd8139f59da0125aa
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Sun, 13 Nov 2011 05:40:58 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
8.6s (368.6s total) OK. New subscription request SEN1321162861522...
Request: : https://api.att.com/1/payments/transactions?access_token=af1e5c85e85da4ddd8139f59da0125aa
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321162861522",
  "externalMerchantTransactionID": "SenchaTransId1321162861532",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=af1e5c85e85da4ddd8139f59da0125aa
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=af1e5c85e85da4ddd8139f59da0125aa
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Sun, 13 Nov 2011 05:41:01 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.4s (0.4s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 7
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Sun, 13 Nov 2011 06:34:56 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.3s (0.3s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 12
response-header: date => Sun, 13 Nov 2011 06:34:37 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "87e059107dba03c2bd14bad2c8b951f1"
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 4095
response-header: date => Sun, 13 Nov 2011 06:35:03 GMT
response-header: content-length => 1443
response-header: content-encoding => gzip
response-header: set-cookie => sessionId=EUID%3DLTExOWE0NWM2OjEzMzk5YWQwNzIzOjU2NDA%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com; path=/
response-header: keep-alive => timeout=5, max=100
response-header: vary => Accept-Encoding
response-header: cache-control => private, max-age=0, must-revalidate
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 1425 bytes (1435 total)
Read 8 bytes (1443 total)
gzip body
saved cookie: sessionId=EUID%3DLTExOWE0NWM2OjEzMzk5YWQwNzIzOjU2NDA%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/effects.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/controls.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/application.js?1320650752" type="text/javascript"></script>
	<script src="/javascripts/application.js?1320650752" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo" id="logo_title">SignIn | SignUp</h1>
<img src="/images/att.png" alt="" id="logo" height="28" width="28" />
</header>
	<form action="/off_net_consent_wireless" id="off_net_consent_wireless" method="post">
	<p><strong>Sencha API Poller</strong>  by Jason Cline, is requesting do the following: 
		<div id="firstCol_b">
			<ul>
				
				
					<li>Location - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
					<li>Device Capabilities - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
				
				
				
				
				
				
				
			</ul>
			<p>If ok, enter the wireless phone number and click Allow. A verification message will be sent.	</p>
		</div>
	<br><p></p>
	<br>
	<form action="" id="signup" method="post">
		<div id="firstCol_b">
			<label for="phone"><span>Wireless Number</span></label> 
		</div>
		<div id="firstCol_a">
			<img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50">
		</div>
		<div class="input-c" id="firstCol_b" style="right: 9px; top: 9px">
			<input id="login_wireless" name="login[wireless]" size="30" style="color:silver;" type="text" />
			<input id="login_client_id" name="login[client_id]" type="hidden" value="cddc0328b4c56103f8febb0194df7fd8" />
			<input id="login_scope" name="login[scope]" type="hidden" value="TL,DC,WAP,SMS,MMS,PAYMENT" />
			<input id="login_id" name="login[id]" type="hidden" />
			<!--<input  name="phone" type="text" value="4252221234" style="color: silver;">-->
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="javascript:submit_off_net_wireless();">Allow</a>
			</p>
			<p>
				<a class="button cancel" href="/deny_pin">Cancel</a>
			</p>
			<p style="text-align:center; margin-left:10px;color:red;"></p>
			<br>
			<p><SMALL>Refer to Craftguilds Privacy Policy for details on how this information may be used or shared.</SMALL>
			</p>
		</div>
	</form>
	<form action="" id="signup" method="post">
		<hr style="clear:both">   
		<h3>Existing Users</h3><!--move h3 to css and style center it-->
		<!--begin email address-->
		<p>To allow use with another account click  the <strong> Sign in to another account </strong> button.  To sign in and manage consent settings click <strong> Manage Consent</strong>. 
		</p>
		<!--begin SIGNIN/Manage Profile Buttons -->
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TLf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "181dd6bca3851729b5e846422ce6f67d"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1831
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Sun, 13 Nov 2011 06:34:57 GMT
response-header: content-length => 8552
response-header: set-cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzMzliODY4ZTUzOi0zOGI3%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlMGQ5ZTNjYmI4NmVjMTljMzBkZWE1MmVjNTMzMWIyNzM%3D--d4482ae7b6eb1d666c4de26f47fb39dfc8ffaed1; path=/; HttpOnly, BIGipServeruser_profile_443=269098924.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 7473 bytes (7473 total)
Read 1079 bytes (8552 total)
saved cookie: sessionId=EUID%3DLTE2MjkxNzcxOjEzMzliODY4ZTUzOi0zOGI3%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlMGQ5ZTNjYmI4NmVjMTljMzBkZWE1MmVjNTMzMWIyNzM%3D--d4482ae7b6eb1d666c4de26f47fb39dfc8ffaed1
saved cookie: BIGipServeruser_profile_443=269098924.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="19730873044729857" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKKjnnitoHnmdUijUszN0AoAkorhLrx/c3Fy0Oi6Y0+OjOrMW/4CvT86oXninxdHE88ti1pCgG5j
asFHOOrZ7mgD0qisfwtfXGpeHLS7u5PMnk37m2gZw7AcDjoBWxQAUVknxLpA1P8As43eLvzPL8sx
uPm9M4xV+8vILC0kurqTy4YxlmwTjt2oAnoqpp2pWeq232mym82LcV3bSOR7EA1UvPEukWF8bK5u
9lyMfII3Y89OgNAGtRRRQAUUVjWvivRLwy+TfqfKjMjlkZQFyBnJA7kUAbNFZdh4j0jU7n7PZ3qS
TckJtZScemQM1qUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAVxXxHvXh0u1tEJAuJ
CzY7hccfmQfwrta4v4jWElxpdteIpYWzkPjsrY5/MD86AOf0PxFqemaWI9L0dJIUJaeYxu+4+pIw
BxWxqXiSHxD4G1FhH5VxF5QkjzkcyLgj2rR8M+I9Hj8OW8ct1BbSW8e2SN2CkkdwO+evHrXCCeCR
PEE0TpFDMo8mIsASDMrAAd8AH6UAamhWvinVNKig0+5NrYxbgj7zGGJYk8gbjyT7Vq+GtV1ex8Ut
oWqXDXGQRlm3FSF3Ahjzgj1rV8FX1ovhS2ia6gEkKyPKhkGUXexyw7DHc1z/ANvs/wDhaf2z7XB9
l/57eYNn+ox97p14oAZ4+s30/X7XVIRjzQGz/tpj+m38q1vHWpibw5ZRwZP29lcAd1AB/mVrS8Y2
Sar4WllhKyGIC4jZTkMAOcH02k1xPh+SXXNc0W0lGYrFCTn0Vi3/AMSPwoA3vAEkljfapo0/EkTb
wPcHax/9BrI0eJvEXjqe76xo7zA+gHCfrt/KrPiySXQvFj30AwLu2YcepUr+hCmtf4eaeLbRpr9x
hrl+Cf7i8fzz+VAHL6o/iTQdUgtZdWuZrh1WRFjndwcsQBg9eR0xWhPpvjKLT5NSn1KWMRIZGi+0
ENtHJ4Hy07xLf2c/jvSLiG7gkgj8nfIkgKriUk5I4HHNddr2pWP/AAjl4fttvi4tZRCfNX94dpGF
555PagCLwfq8+s6EJ7khp45DE7AY3YAOfyIryvSbF9T1S3sUfZ57BS3oOp+vSu9+HV3bJpEtq1xE
tw9yzLEXAdhsXkDqeh/KuV8Ef8jfY/8AbT/0W1AHoOieEdP0K7N1byTySlNmZWBAzjOMAelb9FFA
BRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFNkjSWNo5FV0YYZWGQR6GnUUActP8P9Em
nMii4hBOdkcg2/qCf1oufh/otwyFTcwBEC7YnGD15OQSTzXU0UAc5p/gzTtNS7SGa6YXUDQPvdTh
T1IwvWqX/CuNH/5+b7/vtP8A4muwooAgtrSK2sIrJcvFFEIhv5JUDHNZWi+FNP0G7kubV53kdNn7
1gQBnPGAPQVuUUAZGueHbLxAsIu3mQwklWiIB5xkcg+gq/a2UNnp8VlCCIo4xGM9cYxn61YooA4/
/hXGj/8APzff99p/8TV278GadeafZWUk10I7MOIyrrk7iCc/L7V0dFAHN6X4J03SNSivree7aWLO
0SOpXkEc4UetGleCdN0jUor63nu2liztEjqV5BHOFHrXSUUAFFFFABRRRQAUUUUAFFFFABRRRQAU
UUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRR
RQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFF
ABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAH//2Q==
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
6.4s (6.8s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzMzliODY4ZTUzOi0zOGI3%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlMGQ5ZTNjYmI4NmVjMTljMzBkZWE1MmVjNTMzMWIyNzM%3D--d4482ae7b6eb1d666c4de26f47fb39dfc8ffaed1; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 5008
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Sun, 13 Nov 2011 06:34:59 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlMGQ5ZTNjYmI4NmVjMTljMzBkZWE1MmVjNTMzMWIyNzMiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--0317e31d7f206377f2850863bac468212d32b09e; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlMGQ5ZTNjYmI4NmVjMTljMzBkZWE1MmVjNTMzMWIyNzMiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--0317e31d7f206377f2850863bac468212d32b09e
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
5.2s (12.0s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzMzliODY4ZTUzOi0zOGI3%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlMGQ5ZTNjYmI4NmVjMTljMzBkZWE1MmVjNTMzMWIyNzMiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--0317e31d7f206377f2850863bac468212d32b09e; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=NWY2NWUwNTg6MTMzOWI2NzE3MTg6M2Q2Ng%3D%3D
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 2142
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Sun, 13 Nov 2011 06:35:04 GMT
response-header: content-length => 147
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 147 bytes (147 total)
Authorization key: NWY2NWUwNTg6MTMzOWI2NzE3MTg6M2Q2Ng%3D%3D
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=NWY2NWUwNTg6MTMzOWI2NzE3MTg6M2Q2Ng%3D%3D">redirected</a>.</body></html>
2.4s (14.4s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzOWI2NzE3MTg6M2Q2Ng%3D%3D ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzOWI2NzE3MTg6M2Q2Ng%3D%3D
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 386
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Sun, 13 Nov 2011 06:35:12 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "6e387794eaa29d88a91329d1d4a9b2d06f604d71",
  "access_token": "1f823e2cd1c9607b083e8c1c61bc0803"
}
ACCESS TOKEN: 1f823e2cd1c9607b083e8c1c61bc0803
Refresh TOKEN: 6e387794eaa29d88a91329d1d4a9b2d06f604d71
5.5s (19.9s total) OK. Access token: 6e387794eaa29d88a91329d1d4a9b2d06f604d71...

NEXT TEST: device_info_json 22
3.1s (23.0s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=1f823e2cd1c9607b083e8c1c61bc0803
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=1f823e2cd1c9607b083e8c1c61bc0803
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=1f823e2cd1c9607b083e8c1c61bc0803
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
5.7s (28.6s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=1f823e2cd1c9607b083e8c1c61bc0803
Net::HTTP::Get: /1/devices/tel:123/info?access_token=1f823e2cd1c9607b083e8c1c61bc0803
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
0.1s (28.7s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (31.7s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=1f823e2cd1c9607b083e8c1c61bc0803
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=1f823e2cd1c9607b083e8c1c61bc0803
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
5.6s (37.3s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=1f823e2cd1c9607b083e8c1c61bc0803
Net::HTTP::Get: /1/devices/tel:123/info?access_token=1f823e2cd1c9607b083e8c1c61bc0803
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
1.6s (38.9s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (42.0s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=1f823e2cd1c9607b083e8c1c61bc0803&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=1f823e2cd1c9607b083e8c1c61bc0803&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
5.5s (47.5s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=1f823e2cd1c9607b083e8c1c61bc0803&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=1f823e2cd1c9607b083e8c1c61bc0803&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
2.8s (50.3s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (53.3s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x1023e9420>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=1f823e2cd1c9607b083e8c1c61bc0803
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=1f823e2cd1c9607b083e8c1c61bc0803
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
6.8s (60.2s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=1f823e2cd1c9607b083e8c1c61bc0803
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=1f823e2cd1c9607b083e8c1c61bc0803
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=1f823e2cd1c9607b083e8c1c61bc0803
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=1f823e2cd1c9607b083e8c1c61bc0803
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
10.1s (70.3s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=1f823e2cd1c9607b083e8c1c61bc0803&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=1f823e2cd1c9607b083e8c1c61bc0803&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=1f823e2cd1c9607b083e8c1c61bc0803&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=1f823e2cd1c9607b083e8c1c61bc0803&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
19.1s (89.4s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (92.4s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=1f823e2cd1c9607b083e8c1c61bc0803
Request: https://api.att.com/1/messages/outbox/sms?access_token=1f823e2cd1c9607b083e8c1c61bc0803
Net::HTTP::Post: /1/messages/outbox/sms?access_token=1f823e2cd1c9607b083e8c1c61bc0803
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzOWI2NzE3MTg6M2Q2Ng%3D%3D
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Sun, 13 Nov 2011 06:36:25 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b1604502ecf3eb"
  },
  "id": "SMSa9b1604502ecf3eb"
}
0.9s (93.3s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (96.3s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=1f823e2cd1c9607b083e8c1c61bc0803
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=1f823e2cd1c9607b083e8c1c61bc0803
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=1f823e2cd1c9607b083e8c1c61bc0803
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Sun, 13 Nov 2011 06:36:29 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b487b5e055d0ed"
  },
  "id": "SMSa9b487b5e055d0ed"
}
0.7s (97.0s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.1s (100.1s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=1f823e2cd1c9607b083e8c1c61bc0803
Request: https://api.att.com/1/messages/outbox/mms?access_token=1f823e2cd1c9607b083e8c1c61bc0803
Net::HTTP::Post: /1/messages/outbox/mms?access_token=1f823e2cd1c9607b083e8c1c61bc0803
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_11259778.1321166192976"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=1f823e2cd1c9607b083e8c1c61bc0803
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Sun, 13 Nov 2011 06:36:54 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b6faa"
  },
  "id": "MMSa9b4644d651b6faa"
}
23.7s (123.7s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b6faa?access_token=1f823e2cd1c9607b083e8c1c61bc0803
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b4644d651b6faa?access_token=1f823e2cd1c9607b083e8c1c61bc0803
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Sun, 13 Nov 2011 06:36:59 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b4644d651b6faa"
  }
}
3.5s (127.2s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.0s (130.2s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=1f823e2cd1c9607b083e8c1c61bc0803
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=1f823e2cd1c9607b083e8c1c61bc0803
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_10446246.1321166223187"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b6faa?access_token=1f823e2cd1c9607b083e8c1c61bc0803
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Sun, 13 Nov 2011 06:37:02 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b4a1507be34a55"
}
0.6s (130.8s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.1s (133.9s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=1f823e2cd1c9607b083e8c1c61bc0803
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321166226833",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=1f823e2cd1c9607b083e8c1c61bc0803
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=1f823e2cd1c9607b083e8c1c61bc0803
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Sun, 13 Nov 2011 06:37:09 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
24.2s (158.1s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=1f823e2cd1c9607b083e8c1c61bc0803
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321166251080</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=1f823e2cd1c9607b083e8c1c61bc0803
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=1f823e2cd1c9607b083e8c1c61bc0803
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Sun, 13 Nov 2011 06:37:33 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
6.2s (164.4s total) OK. New subscription request SEN1321166257329...
Request: : https://api.att.com/1/payments/transactions?access_token=1f823e2cd1c9607b083e8c1c61bc0803
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321166257329",
  "externalMerchantTransactionID": "SenchaTransId1321166257342",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=1f823e2cd1c9607b083e8c1c61bc0803
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=1f823e2cd1c9607b083e8c1c61bc0803
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Sun, 13 Nov 2011 06:37:37 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.2s (0.2s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: device_info_json 22

NEXT TEST: device_info_json_error 21

NEXT TEST: device_info_xml 20

NEXT TEST: device_info_xml_error 19

NEXT TEST: device_info_jsonp 18

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test =,DC,WAP,SMS,MMS,PAYMENT&id=&login=true">SignIn to another account</a>
			</p>
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="#">Manage Consent</a>
			</p>
		</div>
	</form>

<footer>
</footer>
</body>
</html>
#<NoMethodError: undefined method `value=' for nil:NilClass>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.2s (0.2s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue,  mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.9s (0.9s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: device_info_jsonp_error 17

NEXT TEST: device_info_json 22

NEXT TEST: device_location_json 16

NEXT TEST: device_info_json_error 21

NEXT TEST: device_location_json_error 15

NEXT TEST: device_info_xml 20

NEXT TEST: device_location_xml 14

NEXT TEST: device_info_xml_error 19

NEXT TEST: device_location_xml_error 13

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...

NEXT TEST: device_info_jsonp 18
0.4s (0.4s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: device_info_jsonp_error 17

NEXT TEST: device_location_jsonp 12

NEXT TEST: device_info_json 22

NEXT TEST: device_location_json 16

NEXT TEST: device_location_jsonp_error 11

NEXT TEST: device_info_json_error 21

NEXT TEST: device_location_json_error 15

NEXT TEST: sms_send_json 10

NEXT TEST: device_info_xml 20

NEXT TEST: device_location_xml 14

NEXT TEST: sms_send_form 9

NEXT TEST: device_info_xml_error 19

NEXT TEST: device_location_xml_error 13

NEXT TEST: mms_send_json 8

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = devitest = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.8s (0.8s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_info_json 21

NEXT TEST: device_location_json 15

NEXT TEST: device_info_json_error 20

NEXT TEST: device_location_json_error 14

NEXT TEST: device_info_xml 19

NEXT TEST: device_location_xml 13

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_location_xml_error 12

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback

NEXT TEST: device_info_jsonp 17
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_info_json 21

NEXT TEST: device_location_json 15

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: device_info_json_error 20

NEXT TEST: device_location_json_error 14

NEXT TEST: v2mms_send_json 9

NEXT TEST: device_info_xml 19

NEXT TEST: device_location_xml 13

NEXT TEST: v2mms_status 8

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_location_xml_error 12

NEXT TEST: v2sms_send_json 7

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test ce_info_json_error

NEXT TEST: device_info_jsonp 18
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.6s (0.6s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: mms_status 7

NEXT TEST: device_location_jsonp 12

NEXT TEST: device_info_jsonp_error 17

NEXT TEST: device_info_json 22

NEXT TEST: device_location_jsonp_error 11

NEXT TEST: wap_push 6

NEXT TEST: device_location_json 16

NEXT TEST: device_info_json_error 21

NEXT TEST: sms_send_json 10

NEXT TEST: device_location_json_error 15

NEXT TEST: payment_new_json 5

NEXT TEST: device_info_xml 20

NEXT TEST: sms_send_form 9

NEXT TEST: device_location_xml 14

NEXT TEST: payment_status_json 4

NEXT TEST: device_info_xml_error 19

NEXT TEST: mms_send_json 8

NEXT TEST: payment_refund_json 3

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback

NEXT TEST: device_info_jsonp 18

NEXT TEST: dev= device_location_json

NEXT TEST: device_info_jsonp 17
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.6s (0.6s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: v2sms_send_form 6

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_info_json 21

NEXT TEST: device_location_json 15

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2sms_status 5

NEXT TEST: device_info_json_error 20

NEXT TEST: device_location_json_error 14

NEXT TEST: v2mms_send_json 9

NEXT TEST: sms_send_json 4

NEXT TEST: device_info_xml 19

NEXT TEST: device_location_xml 13

NEXT TEST: v2mms_status 8

NEXT TEST: sms_send_form 3

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_location_xml_error 12

NEXT TEST: v2sms_send_json 7

NEXT TEST: sms_status 2

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...

NEXT TEST: device_info_jsonp 17
0.3s (0.3s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accepice_location_xml_error 13
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: device_info_jsonp_error 17

NEXT TEST: device_location_jsonp 12

NEXT TEST: mms_status 7

NEXT TEST: payment_new_xml 2

NEXT TEST: device_info_json 22

NEXT TEST: device_location_json 16

NEXT TEST: device_location_jsonp_error 11

NEXT TEST: wap_push 6

NEXT TEST: payment_new_subscription 1

NEXT TEST: device_info_json_error 21

NEXT TEST: device_location_json_error 15

NEXT TEST: sms_send_json 10

NEXT TEST: payment_new_json 5

NEXT TEST: payment_subscription_status 0

NEXT TEST: device_info_xml 20

NEXT TEST: device_location_xml 14

NEXT TEST: sms_send_form 9

NEXT TEST: payment_status_json 4

NEXT TEST: device_info_xml_error 19

NEXT TEST: device_location_xml_error 13

NEXT TEST: mms_send_json 8

NEXT TEST: payment_refund_json 3

NEXT TEST: device_info_jsonp 18

NEXT TEST: device_location_jsonp 12

NEXT TEST: mms_status 7

NEXT TEST: payment_new_xml 2

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.7s (0.7s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: payment_new_subscription 1

NEXT TEST: wap_push 6

NEXT TEST: device_info_jsonp_error 17

NEXT TEST: device_location_jsonp_error 11

NEXT TEST: device_info_json 22

NEXT TEST: payment_subscription_status 0

NEXT TEST: payment_new_json 5

NEXT TEST: device_location_json 16

NEXT TEST: sms_send_json 10

NEXT TEST: device_info_json_error 21

NEXT TEST: payment_status_json 4

NEXT TEST: device_location_json_error 15

NEXT TEST: sms_send_form 9

NEXT TEST: device_info_xml 20

NEXT TEST: device_location_xml 14

NEXT TEST: payment_refund_json 3

NEXT TEST: mms_send_json 8

NEXT TEST: device_info_xml_error 19

NEXT TEST: device_location_xml_error 13

NEXT TEST: mms_status 7

NEXT TEST: payment_new_xml 2

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = det-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: device_location_jsonp 11

NEXT TEST: v2sms_send_form 6

NEXT TEST: mms_send_json 1

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_info_json 21

NEXT TEST: v2sms_status 5

NEXT TEST: mms_status 0

NEXT TEST: device_location_json 15

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: device_info_json_error 20

NEXT TEST: sms_send_json 4

NEXT TEST: device_location_json_error 14

NEXT TEST: v2mms_send_json 9

NEXT TEST: device_info_xml 19

NEXT TEST: sms_send_form 3

NEXT TEST: device_location_xml 13

NEXT TEST: v2mms_status 8

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_location_xml_error 12

NEXT TEST: v2sms_send_json 7

NEXT TEST: sms_status 2

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...

NEXT TEST: device_info_jsonp 17
0.2s (0.2s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_jsonp 11

NEXT TEST: v2sms_send_form 6

NEXT TEST: mms_send_json 1

NEXT TEST: device_info_json 21

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2sms_status 5

NEXT TEST: mms_status 0

NEXT TEST: device_location_json 15

NEXT TEST: device_info_json_error 20

NEXT TEST: sms_send_json 4

NEXT TEST: device_location_json_error 14

NEXT TEST: v2mms_send_json 9

NEXT TEST: device_info_xml 19

NEXT TEST: sms_send_form 3

NEXT TEST: device_location_xml 13

NEXT TEST: v2mms_status 8

NEXT TEST: device_info_xml_error 18

NEXT TEST: sms_status 2

NEXT TEST: device_location_xml_error 12

NEXT TEST: v2sms_send_json 7

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_location_jsonp 11

NEXT TEST: v2sms_send_form 6

NEXT TEST: mms_send_json 1

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_vice_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback

NEXT TEST: device_info_jsonp 18
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: device_location_jsonp 12

NEXT TEST: payment_new_subscription 1

NEXT TEST: device_info_jsonp_error 17

NEXT TEST: wap_push 6

NEXT TEST: device_info_json 22

NEXT TEST: device_location_jsonp_error 11

NEXT TEST: payment_subscription_status 0

NEXT TEST: device_location_json 16

NEXT TEST: payment_new_json 5

NEXT TEST: device_info_json_error 21

NEXT TEST: sms_send_json 10

NEXT TEST: payment_status_json 4

NEXT TEST: device_location_json_error 15

NEXT TEST: device_info_xml 20

NEXT TEST: payment_refund_json 3

NEXT TEST: device_location_xml 14

NEXT TEST: sms_send_form 9

NEXT TEST: device_info_xml_error 19

NEXT TEST: payment_new_xml 2

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...

NEXT TEST: device_info_jsonp 18

NEXT TEST: device_location_xml_error 13

NEXT TEST: mms_send_json 8
0.2s (0.2s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAxml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.5s (0.5s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: mms_status 0

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2sms_status 5

NEXT TEST: device_info_json 21

NEXT TEST: device_location_json 15

NEXT TEST: v2mms_send_json 9

NEXT TEST: sms_send_json 4

NEXT TEST: device_info_json_error 20

NEXT TEST: device_location_json_error 14

NEXT TEST: v2mms_status 8

NEXT TEST: sms_send_form 3

NEXT TEST: device_info_xml 19

NEXT TEST: device_location_xml 13

NEXT TEST: sms_status 2

NEXT TEST: v2sms_send_json 7

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_location_xml_error 12

NEXT TEST: v2sms_send_form 6

NEXT TEST: mms_send_json 1

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback

NEXT TEST: device_info_jsonp 17
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: device_location_jsonp 11

NEXT TEST: mms_status 0

NEXT TESTYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: device_info_jsonp_error 17

NEXT TEST: mms_status 7

NEXT TEST: payment_new_subscription 1

NEXT TEST: device_location_jsonp 12

NEXT TEST: device_info_json 22

NEXT TEST: device_location_json 16

NEXT TEST: wap_push 6

NEXT TEST: device_location_jsonp_error 11

NEXT TEST: payment_subscription_status 0

NEXT TEST: device_info_json_error 21

NEXT TEST: device_location_json_error 15

NEXT TEST: payment_new_json 5

NEXT TEST: sms_send_json 10

NEXT TEST: device_info_xml 20

NEXT TEST: device_location_xml 14

NEXT TEST: payment_status_json 4

NEXT TEST: sms_send_form 9

NEXT TEST: device_info_xml_error 19

NEXT TEST: device_location_xml_error 13

NEXT TEST: mms_send_json 8

NEXT TEST: payment_refund_json 3

NEXT TEST: device_info_jsonp 18

NEXT TEST: device_location_jsonp 12

NEXT TEST: mms_status 7

NEXT TEST: payment_new_xml 2

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...

NEXT TEST: device_info_jsonp_error 17
0.5s (0.5s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: payment_new_subscription 1

NEXT TEST: device_location_json 16

NEXT TEST: wap_push 6

NEXT TEST: device_location_jsonp_error 11

NEXT TEST: device_info_json 22

NEXT TEST: device_location_json_error 15

NEXT TEST: payment_new_json 5

NEXT TEST: payment_subscription_status 0

NEXT TEST: sms_send_json 10

NEXT TEST: device_info_json_error 21

NEXT TEST: device_location_xml 14

NEXT TEST: payment_status_json 4

NEXT TEST: sms_send_form 9

NEXT TEST: device_info_xml 20

NEXT TEST: device_location_xml_error 13

NEXT TEST: mms_send_json 8

NEXT TEST: payment_refund_json 3

NEXT TEST: device_info_xml_error 19

NEXT TEST: device_location_jsonp 12

NEXT TEST: mms_status 7

NEXT TEST: payment_new_xml 2

: device_info_jsonp_error 16

NEXT TEST: v2sms_status 5

NEXT TEST: device_info_json 21

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: device_location_json 15

NEXT TEST: sms_send_json 4

NEXT TEST: device_info_json_error 20

NEXT TEST: v2mms_send_json 9

NEXT TEST: device_location_json_error 14

NEXT TEST: sms_send_form 3

NEXT TEST: device_info_xml 19

NEXT TEST: v2mms_status 8

NEXT TEST: sms_status 2

NEXT TEST: device_location_xml 13

NEXT TEST: device_info_xml_error 18

NEXT TEST: v2sms_send_json 7

NEXT TEST: device_location_xml_error 12

NEXT TEST: mms_send_json 1

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_location_jsonp 11

NEXT TEST: v2sms_send_form 6

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback

NEXT TEST: device_info_jsonp_error 16
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: device_location_json 15

NEXT TEST: v2sms_status 5

NEXT TEST: device_info_json 21

NEXT TEST: v2mms_send_json 9

NEXT TEST: device_location_json_error 14

NEXT TEST: sms_send_json 4

NEXT TEST: device_info_json_error 20

NEXT TEST: device_location_xml 13

NEXT TEST: v2mms_status 8

NEXT TEST: sms_send_form 3

NEXT TEST: device_info_xml 19

NEXT TEST: device_location_xml_error 12

NEXT TEST: v2sms_send_json 7

NEXT TEST: sms_status 2

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_location_jsonp 11

NEXT TEST: v2sms_send_form 6

NEXT TEST: mms_send_json 1

NEXT TEST: device_info_jsonp 17

NEXT TEST: v2sms_status 5

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: mms_status 0

NEXT TEST: sms_send_json 4

NEXT TEST: v2mms_send_json 9

NEXT TEST: device_location_json 15

NEXT TEST: sms_send_form 3

NEXT TEST: v2mms_status 8

NEXT TEST: device_location_json_error 14

NEXT TEST: sms_status 2

NEXT TEST: v2sms_send_json 7

NEXT TEST: device_location_xml 13

NEXT TEST: mms_send_json 1

NEXT TEST: v2sms_send_form 6

NEXT TEST: device_location_xml_error 12

NEXT TEST: mms_status 0

NEXT TEST: v2sms_status 5

NEXT TEST: device_location_jsonp 11

NEXT TEST: sms_send_json 4

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: sms_send_form 3

NEXT TEST: v2mms_send_json 9

NEXT TEST: sms_status 2

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: mms_send_json 1

NEXT TEST: v2sms_send_form 6

NEXT TEST: mms_status 0

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.4s (0.4s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 16
response-header: date => Mon, 14 Nov 2011 02:16:46 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "87e059107dba03c2bd14bad2c8b951f1"
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 3976
response-header: date => Mon, 14 Nov 2011 02:17:13 GMT
response-header: content-length => 1443
response-header: content-encoding => gzip
response-header: set-cookie => sessionId=EUID%3DNzIwYjQ1YTU6MTMzOWY2NzBmZmM6LTQ0NDY%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com; path=/
response-header: keep-alive => timeout=5, max=100
response-header: vary => Accept-Encoding
response-header: cache-control => private, max-age=0, must-revalidate
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 1425 bytes (1435 total)
Read 8 bytes (1443 total)
gzip body
saved cookie: sessionId=EUID%3DNzIwYjQ1YTU6MTMzOWY2NzBmZmM6LTQ0NDY%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/effects.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/controls.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/application.js?1320650752" type="text/javascript"></script>
	<script src="/javascripts/application.js?1320650752" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo" id="logo_title">SignIn | SignUp</h1>
<img src="/images/att.png" alt="" id="logo" height="28" width="28" />
</header>
	<form action="/off_net_consent_wireless" id="off_net_consent_wireless" method="post">
	<p><strong>Sencha API Poller</strong>  by Jason Cline, is requesting do the following: 
		<div id="firstCol_b">
			<ul>
				
				
					<li>Location - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
					<li>Device Capabilities - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
				
				
				
				
				
				
				
			</ul>
			<p>If ok, enter the wireless phone number and click Allow. A verification message will be sent.	</p>
		</div>
	<br><p></p>
	<br>
	<form action="" id="signup" method="post">
		<div id="firstCol_b">
			<label for="phone"><span>Wireless Number</span></label> 
		</div>
		<div id="firstCol_a">
			<img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50">
		</div>
		<div class="input-c" id="firstCol_b" style="right: 9px; top: 9px">
			<input id="login_wireless" name="login[wireless]" size="30" style="color:silver;" type="text" />
			<input id="login_client_id" name="login[client_id]" type="hidden" value="cddc0328b4c56103f8febb0194df7fd8" />
			<input id="login_scope" name="login[scope]" type="hidden" value="TL,DC,WAP,SMS,MMS,PAYMENT" />
			<input id="login_id" name="login[id]" type="hidden" />
			<!--<input  name="phone" type="text" value="4252221234" style="color: silver;">-->
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="javascript:submit_off_net_wireless();">Allow</a>
			</p>
			<p>
				<a class="button cancel" href="/deny_pin">Cancel</a>
			</p>
			<p style="text-align:center; margin-left:10px;color:red;"></p>
			<br>
			<p><SMALL>Refer to Craftguilds Privacy Policy for details on how this information may be used or shared.</SMALL>
			</p>
		</div>
	</form>
	<form action="" id="signup" method="post">
		<hr style="clear:both">   
		<h3>Existing Users</h3><!--move h3 to css and style center it-->
		<!--begin email address-->
		<p>To allow use with another account click  the <strong> Sign in to another account </strong> button.  To sign in and manage consent settings click <strong>NEXT TEST: device_info_jsonp 18

NEXT TEST: wap_push 6

NEXT TEST: device_info_jsonp_error 17

NEXT TEST: device_location_jsonp_error 11

NEXT TEST: payment_new_subscription 1

NEXT TEST: payment_new_json 5

NEXT TEST: device_location_json 16

NEXT TEST: sms_send_json 10

NEXT TEST: payment_subscription_status 0

NEXT TEST: payment_status_json 4

NEXT TEST: device_location_json_error 15

NEXT TEST: sms_send_form 9

NEXT TEST: payment_refund_json 3

NEXT TEST: device_location_xml 14

NEXT TEST: mms_send_json 8

NEXT TEST: payment_new_xml 2

NEXT TEST: device_location_xml_error 13

NEXT TEST: mms_status 7

NEXT TEST: payment_new_subscription 1

NEXT TEST: wap_push 6

NEXT TEST: device_location_jsonp 12

NEXT TEST: payment_subscription_status 0

NEXT TEST: payment_new_json 5

NEXT TEST: device_location_jsonp_error 11

NEXT TEST: payment_status_json 4

NEXT TEST: sms_send_json 10

NEXT TEST: payment_refund_json 3

NEXT TEST: sms_send_form 9

NEXT TEST: payment_new_xml 2

NEXT TEST: mms_send_json 8

NEXT TEST: payment_new_subscription 1

NEXT TEST: mms_status 7

NEXT TEST: wap_push 6

NEXT TEST: payment_subscription_status 0

NEXT TEST: payment_new_json 5

NEXT TEST: payment_status_json 4

NEXT TEST: payment_refund_json 3

NEXT TEST: payment_new_xml 2

NEXT TEST: payment_new_subscription 1

NEXT TEST: payment_subscription_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 7
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 02:17:15 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "8bdaae257926a52c431c81d955e2aa39"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1664
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 02:17:15 GMT
response-header: content-length => 8786
response-header: set-cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzOWZkMzdkNDM6LTYxOWE%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlZDg4YWJjZDM1YmJlMWM1YWRmYTMxMTg4ZjExZTJlNmQ%3D--771e46f87808347413e52b74870589a9adef69ad; path=/; HttpOnly, BIGipServeruser_profile_443=269098924.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 7471 bytes (7471 total)
Read 1315 bytes (8786 total)
saved cookie: sessionId=EUID%3DNWY2NWUwNTg6MTMzOWZkMzdkNDM6LTYxOWE%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlZDg4YWJjZDM1YmJlMWM1YWRmYTMxMTg4ZjExZTJlNmQ%3D--771e46f87808347413e52b74870589a9adef69ad
saved cookie: BIGipServeruser_profile_443=269098924.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="10151571942809752" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKKKACiuT8U6p4hstQii0i1eWFogzMkBkIbJzz06Yqn4R8QavqfiC5s9Sl4ihYmLy1Xa4ZR2Ge5o
A7iiiigAqG5ureygae5mSGJerOcCpq898dWOtalqSCCynlsoUGzyxuDMeScDn2/CgDqLfxZoVzOI
Y9Rj3k4G9WUH8SAK2q8q8S+EotB0i0uluHeZ3EcqtjG4gnK+3B9amsde8SR+HYXsozJBb71eUx7s
KoB5J7AH9KAPT6K5zwXqt5rGjzXF9KJJFuGQEKFwu1Tjj6mujoAKKyb7xLpGm3n2S7u/Kn4O0xue
vTkDFacsqQQvLI22NFLMx7Ack0APoqhpms6frCSNYXHnCMgP8jLjPTqBUepeIdL0iZIb668qR13K
uxm4zjPANAGnRTIpFmiSVCSjqGUkEcH2NPoAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACuR
8YeKZtJdNP08A3kg3M+M7AemB3J/z1rrq8x8YRy6Z40h1KWMvAzRSp6HZgFf0/WgC2uj+N44RejU
XMuN3kGclvptI2/hWR4ej1HVtX1YW832a/ngZ9+5k2t5qFuRyO4r0H/hK9D+xfav7Rh24zs3fP8A
Tb1ri/COqWv/AAl+o31xNFaxTxyMvmuFALSKcZPegBnhka9qOuiJtWnxZyq08Uty/wAyhvmAHIPT
HPrXUReJBrd7qmjWi+ROkUiwXHmn5mHy54GRgnPGa53VLs+GfGd/cx8Ld2zPGR/eYZB/77FU7axm
8ORaHr7FsTSHzh6Ken5rk0ANt4fElzr0ujxazOZ4s7n+1SbBjrz19ulesVw3gGE3d7qusOOZpSin
6nc381qpr/irXNH8RSW7OgtlkDoojHzx5zjJ/LNAFLxlFrL37T6jHMdLScrDtK4C59uhIHBNdRaX
Wm3PgK9GlqUhjtJVZG+8rbCTn1JznNZPivxdpepeH3s7N3klnK7gyFfLAIPOe/GOM1Q8NGOy8J63
JdXEUIu4HS3SRwpkKowO0HrywHFAFPw3F4jvrKSz0iUwWvmF5Jc7BuIAxu69AOBWrYX+u+H/ABTa
6Zqd41zHcMqkNIXBDHAIJ5GDV/4c3VuujzWzTxC4a5ZliLjeRsXkDrjg/lWb4lv7Ofx3pFxDdwSQ
R+TvkSQFVxKSckcDjmgC18SdOylpqSLyD5Mh9uq/+zfnVvV9a8z4cx3Ib97dRrAT6t0b9Fat3V7a
HXvDtzDbyRzLKhMTxsGBZTxgj3GK8tsJZ9UXTtCIPli6LH2DYz+WGP40Ab3gZptL8RvYXA2/ardX
A9TtDj9C1Q6mn/CRfET7L96FJBE3sqct+u7861PGqtpOuaTrMKcJ8jAcZ2nOPxBI/CmfDuyaae+1
ablmPlqx7k/Mx/lQB3/SiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKrX2n2upWzW95A
ssR7N2PqD2NWaKAOVj+H2iR3HmH7TIuc+W0g2/oAf1ps/wAPNHnuJJfNu497ltkbIFXJzgDb0rrK
KAMPWPCthrb273Lzq0CbAY2A3D3yD/k1d1PSLXVdMOnzhlh+Xb5eAVx0xkH6VfooAoaRpNvounrZ
2pdowxbdIQWJPrgCk1XRbDWoRHewB9v3XBwy/Q1oUUAcrB8PtEhmEj/aZgDnZJINv6AGr2seFNP1
lbZZmmhS3UrGsBVQAcdiD6VuUUAc5pPgzTtH1BL23mumkQEASOpHIx2UVS/4Vxo//Pzff99p/wDE
12FFAFPStNh0jTYrG3aRoos7TIQW5JPYD1rNs/CWnWOttqsLT+cWZgjMNils5wMZ7nvW9RQBnazo
trrtkLW6MioHDhoyAwIyO4Pqak0rS7fR9PjsrbeY0JO5yCxJOcnAFXaKACiiigAooooAKKKKACii
igAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKK
ACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA
KKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/Z
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
16.0s (16.0s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzOWZkMzdkNDM6LTYxOWE%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlZDg4YWJjZDM1YmJlMWM1YWRmYTMxMTg4ZjExZTJlNmQ%3D--771e46f87808347413e52b74870589a9adef69ad; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 3633
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 02:17:17 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlZDg4YWJjZDM1YmJlMWM1YWRmYTMxMTg4ZjExZTJlNmQiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--15274626e1e9c2eefd2300c84d66fe3a1e51e37f; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlZDg4YWJjZDM1YmJlMWM1YWRmYTMxMTg4ZjExZTJlNmQiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--15274626e1e9c2eefd2300c84d66fe3a1e51e37f
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
4.0s (20.0s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzOWZkMzdkNDM6LTYxOWE%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlZDg4YWJjZDM1YmJlMWM1YWRmYTMxMTg4ZjExZTJlNmQiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--15274626e1e9c2eefd2300c84d66fe3a1e51e37f; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzMzlmYzdmYzhmOi00Yzhl
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 346
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 02:17:21 GMT
response-header: content-length => 143
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 143 bytes (143 total)
Authorization key: LTE2MjkxNzcxOjEzMzlmYzdmYzhmOi00Yzhl
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzMzlmYzdmYzhmOi00Yzhl">redirected</a>.</body></html>
0.5s (20.5s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzMzlmYzdmYzhmOi00Yzhl ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzMzlmYzdmYzhmOi00Yzhl
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 99
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 02:17:22 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "b6589fc6ab0dc82cf12099d1c2d40ab994e8410c",
  "access_token": "5931a3b24d746d9c4ef280ea9448f2f4"
}
ACCESS TOKEN: 5931a3b24d746d9c4ef280ea9448f2f4
Refresh TOKEN: b6589fc6ab0dc82cf12099d1c2d40ab994e8410c
16.4s (36.9s total) OK. Access token: b6589fc6ab0dc82cf12099d1c2d40ab994e8410c...

NEXT TEST: device_info_json 22
3.1s (40.0s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=5931a3b24d746d9c4ef280ea9448f2f4
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=5931a3b24d746d9c4ef280ea9448f2f4
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=5931a3b24d746d9c4ef280ea9448f2f4
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
5.5s (45.4s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=5931a3b24d746d9c4ef280ea9448f2f4
Net::HTTP::Get: /1/devices/tel:123/info?access_token=5931a3b24d746d9c4ef280ea9448f2f4
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
2.5s (47.9s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (50.9s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=5931a3b24d746d9c4ef280ea9448f2f4
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=5931a3b24d746d9c4ef280ea9448f2f4
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
3.1s (54.0s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=5931a3b24d746d9c4ef280ea9448f2f4
Net::HTTP::Get: /1/devices/tel:123/info?access_token=5931a3b24d746d9c4ef280ea9448f2f4
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
0.1s (54.1s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (57.1s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=5931a3b24d746d9c4ef280ea9448f2f4&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=5931a3b24d746d9c4ef280ea9448f2f4&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
5.5s (62.5s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=5931a3b24d746d9c4ef280ea9448f2f4&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=5931a3b24d746d9c4ef280ea9448f2f4&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
2.4s (65.0s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (68.0s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x1023ad150>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=5931a3b24d746d9c4ef280ea9448f2f4
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=5931a3b24d746d9c4ef280ea9448f2f4
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
6.7s (74.7s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=5931a3b24d746d9c4ef280ea9448f2f4
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=5931a3b24d746d9c4ef280ea9448f2f4
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=5931a3b24d746d9c4ef280ea9448f2f4
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=5931a3b24d746d9c4ef280ea9448f2f4
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
8.6s (83.3s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=5931a3b24d746d9c4ef280ea9448f2f4&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=5931a3b24d746d9c4ef280ea9448f2f4&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=5931a3b24d746d9c4ef280ea9448f2f4&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=5931a3b24d746d9c4ef280ea9448f2f4&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
18.6s (101.9s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (104.9s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=5931a3b24d746d9c4ef280ea9448f2f4
Request: https://api.att.com/1/messages/outbox/sms?access_token=5931a3b24d746d9c4ef280ea9448f2f4
Net::HTTP::Post: /1/messages/outbox/sms?access_token=5931a3b24d746d9c4ef280ea9448f2f4
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzMzlmYzdmYzhmOi00Yzhl
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 02:18:46 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b598c3c57f098f"
  },
  "id": "SMSa9b598c3c57f098f"
}
0.5s (105.5s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (108.5s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=5931a3b24d746d9c4ef280ea9448f2f4
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=5931a3b24d746d9c4ef280ea9448f2f4
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=5931a3b24d746d9c4ef280ea9448f2f4
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 02:18:50 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b1604502ecf404"
  },
  "id": "SMSa9b1604502ecf404"
}
0.8s (109.3s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.1s (112.4s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=5931a3b24d746d9c4ef280ea9448f2f4
Request: https://api.att.com/1/messages/outbox/mms?access_token=5931a3b24d746d9c4ef280ea9448f2f4
Net::HTTP::Post: /1/messages/outbox/mms?access_token=5931a3b24d746d9c4ef280ea9448f2f4
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_13337755.1321237134301"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=5931a3b24d746d9c4ef280ea9448f2f4
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 02:19:34 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36ce82"
  },
  "id": "MMSa9b11c1e5b36ce82"
}
48.3s (160.6s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36ce82?access_token=5931a3b24d746d9c4ef280ea9448f2f4
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b11c1e5b36ce82?access_token=5931a3b24d746d9c4ef280ea9448f2f4
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 02:19:45 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b11c1e5b36ce82"
  }
}
3.4s (164.0s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.0s (167.0s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=5931a3b24d746d9c4ef280ea9448f2f4
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=5931a3b24d746d9c4ef280ea9448f2f4
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_11269062.1321237189010"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36ce82?access_token=5931a3b24d746d9c4ef280ea9448f2f4
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 02:19:49 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b5c707572daacb"
}
1.0s (168.0s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.0s (171.0s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=5931a3b24d746d9c4ef280ea9448f2f4
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321237193035",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=5931a3b24d746d9c4ef280ea9448f2f4
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=5931a3b24d746d9c4ef280ea9448f2f4
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Mon, 14 Nov 2011 02:19:58 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
15.0s (186.1s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=5931a3b24d746d9c4ef280ea9448f2f4
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321237208070</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=5931a3b24d746d9c4ef280ea9448f2f4
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=5931a3b24d746d9c4ef280ea9448f2f4
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Mon, 14 Nov 2011 02:20:10 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
6.1s (192.2s total) OK. New subscription request SEN1321237214208...
Request: : https://api.att.com/1/payments/transactions?access_token=5931a3b24d746d9c4ef280ea9448f2f4
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321237214208",
  "externalMerchantTransactionID": "SenchaTransId13212372 Manage Consent</strong>. 
		</p>
		<!--begin SIGNIN/Manage Profile Buttons -->
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=true">SignIn to another account</a>
			</p>
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="#">Manage Consent</a>
			</p>
		</div>
	</form>

<footer>
</footer>
</body>
</html>
#<NoMethodError: undefined method `value=' for nil:NilClass>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.1s (0.1s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 14
response-header: date => Mon, 14 Nov 2011 03:16:47 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "87e059107dba03c2bd14bad2c8b951f1"
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 3060
response-header: date => Mon, 14 Nov 2011 03:17:12 GMT
response-header: content-length => 1443
response-header: content-encoding => gzip
response-header: set-cookie => sessionId=EUID%3DLTExOWE0NWM2OjEzMzllNjBlNzkwOjM5YjQ%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com; path=/
response-header: keep-alive => timeout=5, max=100
response-header: vary => Accept-Encoding
response-header: cache-control => private, max-age=0, must-revalidate
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 1425 bytes (1435 total)
Read 8 bytes (1443 total)
gzip body
saved cookie: sessionId=EUID%3DLTExOWE0NWM2OjEzMzllNjBlNzkwOjM5YjQ%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/effects.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/controls.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/application.js?1320650752" type="text/javascript"></script>
	<script src="/javascripts/application.js?1320650752" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo" id="logo_title">SignIn | SignUp</h1>
<img src="/images/att.png" alt="" id="logo" height="28" width="28" />
</header>
	<form action="/off_net_consent_wireless" id="off_net_consent_wireless" method="post">
	<p><strong>Sencha API Poller</strong>  by Jason Cline, is requesting do the following: 
		<div id="firstCol_b">
			<ul>
				
				
					<li>Location - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
					<li>Device Capabilities - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
				
				
				
				
				
				
				
			</ul>
			<p>If ok, enter the wireless phone number and click Allow. A verification message will be sent.	</p>
		</div>
	<br><p></p>
	<br>
	<form action="" id="signup" method="post">
		<div id="firstCol_b">
			<label for="phone"><span>Wireless Number</span></label> 
		</div>
		<div id="firstCol_a">
			<img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50">
		</div>
		<div class="input-c" id="firstCol_b" style="right: 9px; top: 9px">
			<input id="login_wireless" name="login[wireless]" size="30" style="color:silver;" type="text" />
			<input id="login_client_id" name="login[client_id]" type="hidden" value="cddc0328b4c56103f8febb0194df7fd8" />
			<input id="login_scope" name="login[scope]" type=14257",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=5931a3b24d746d9c4ef280ea9448f2f4
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=5931a3b24d746d9c4ef280ea9448f2f4
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Mon, 14 Nov 2011 02:20:14 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 33
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 03:17:07 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "51688a2760fa58be0fd8982c9f37698f"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1701
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 03:17:08 GMT
response-header: content-length => 8516
response-header: set-cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzOWZkMzdkNDM6NGQxZg%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlOTE4YmRkZGU5YmE0NTRjNDMxMDM5ODEwNTMwMzc2Y2Y%3D--265bcb0ce9806d7a75c6f351465ddf656e772cee; path=/; HttpOnly, BIGipServeruser_profile_443=470425516.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 8000 bytes (8000 total)
Read 516 bytes (8516 total)
saved cookie: sessionId=EUID%3DNWY2NWUwNTg6MTMzOWZkMzdkNDM6NGQxZg%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlOTE4YmRkZGU5YmE0NTRjNDMxMDM5ODEwNTMwMzc2Y2Y%3D--265bcb0ce9806d7a75c6f351465ddf656e772cee
saved cookie: BIGipServeruser_profile_443=470425516.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="10155164085064273" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKKKACiiigCte6hZ6bD515cRwp0Bc9foO9UrLxNo2oziG2v42lPAVgUJPtuAzXFeJ9I1zWPErE2c
32YyCKFwNyqucbuOg71n+LfDkPh2WzNtPJIsytnfjIZcc8duf0oA9borgbrxhqWneHNFuUjhkluU
kEhmViTsIAPBHXrTf+Eq8Yf9AH/yTm/xoA9AorjPC3izUtc1d7S6t7dI0iZ2MaMCCCB3Y+tdnQAU
UUUAFFZV94l0fTpTFdX8aSDgooLkfUKDipNP17StUfZZ3scj9dnKt+RwaANGiiigAooooAKKKKAC
iiigAooooAKKKKACiiigAooooAKKKKACvO/GcOuabcy6lHqksdnNKsccUVw4Knb6dB90969Erifi
LeWsmjxWqXMLXCXSl4lcF1GxuSOo6j86AMrTrLxlrVokyahNBDtHltJMyFwBwflGT9T1rW8F6zqM
+pXmkalK0sluCQzHLKVYKwJ78mtvQ9SsV8N2Tm9twsFtEsrGVcRnaBhueDnjmuR8NX9nB471e4mu
4I4JPO2SPIArZlBGCeDxzQB6RXkWuR6oNVgufEkNwbdyQoRlHy+gxwD+tajeMtZ03xD9n1N1NvDK
VljSIAlexHf0I5pPG3ibT9Xsbe0sHaXbJ5rOUKgYBGOfr+lAHYW9joev6VZypbRzWsaFYVORsHAI
69eB+VP8Tan/AGVoF1cK2JSvlxf7zcD8uT+FZ/gK0mtfDSmYEedK0qA/3SAB/LP41hePryS/1ey0
W3+ZlILD1duFH4D/ANCoA5hLfVNL0uDVILiW3humaMGKRlY7fXHbrj6Gu4h1O88KeGVuNTm/tGe4
n3Q/v2PyFQerDIxg9u9XPE2jxjwS1pCufsaK6cf3ep/LdXJWe/xddaTphZlhs7QiVvQjjP6IKANX
xbcalNZWuu2GoyW9i8CL5Uc7qxcknoOOhH5VWhvNZ0jwfc6hdX0krX/lpbF5Wdo/vbjz0yOmKxpb
u4uNJtPDbg/aIb1lx6dgP++mau48ZaUZfCIgtkJFmUdVH91QV/QHP4UAc54K8M2eswXF7qCtKiye
WqbioJwCSSOe4rQu/h9IuqifTLxbWBcMm4lnRvb26d6g8Aa5ZWVpc2N5cRwEyeajSMFU5ABGTx2F
WtU8ftb6ubbToIryAAKGBOWfvgjqOg6UAdvGHWJBIwdwoDMBgE9zjtTqZEzvCjSIEkKgsgOdp7jP
en0AFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAVzWpeB9M1TUJr2ee7WSUgsEdQBxjj
Kn0rpaKAOct/BmnW2lXmnJNdGG6KF2LruG05GPlql/wrjR/+fm+/77T/AOJrsKKAMnV/Dmm63tN3
CfNUYEqHawHpnv8AjWdZeA9Es5hKyTXBU5CzuCv5ADP4109FACAAAADAHQCsOPwpYx6+dZaW5kuS
5fa7KUBIx0xnjtz2rdooAZLGk0LxOMo6lWHqDWTofhmx8PvM9q0ztKAC0rAkAdhgCtmigDDbwppz
eIBrOZhcB9+wMNm7GM4xn369a3KKKAOavvAui30zSiOW3ZjkiBgAfwIIH4VY0rwjpGkTCeGF5Z1+
7JM24r9BwP0rdooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAo
oooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACii
igAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKK
AP/Z
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
6.9s (6.9s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzOWZkMzdkNDM6NGQxZg%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlOTE4YmRkZGU5YmE0NTRjNDMxMDM5ODEwNTMwMzc2Y2Y%3D--265bcb0ce9806d7a75c6f351465ddf656e772cee; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1336
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 03:17:09 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlOTE4YmRkZGU5YmE0NTRjNDMxMDM5ODEwNTMwMzc2Y2YiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--472e1ce27a9ed11ac046ca22eb814e7cb684bc1a; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlOTE4YmRkZGU5YmE0NTRjNDMxMDM5ODEwNTMwMzc2Y2YiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--472e1ce27a9ed11ac046ca22eb814e7cb684bc1a
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
1.6s (8.4s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzOWZkMzdkNDM6NGQxZg%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlOTE4YmRkZGU5YmE0NTRjNDMxMDM5ODEwNTMwMzc2Y2YiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--472e1ce27a9ed11ac046ca22eb814e7cb684bc1a; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzMzlmYzdmYzhmOjVjMTk%3D
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 348
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 03:17:11 GMT
response-header: content-length => 145
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 145 bytes (145 total)
Authorization key: LTE2MjkxNzcxOjEzMzlmYzdmYzhmOjVjMTk%3D
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzMzlmYzdmYzhmOjVjMTk%3D">redirected</a>.</body></html>
0.5s (9.0s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzMzlmYzdmYzhmOjVjMTk%3D ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzMzlmYzdmYzhmOjVjMTk%3D
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 104
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 03:17:12 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "05ee29749e6b3e820ca4414b037965ead119fd53",
  "access_token": "5ce64b83e1c121e1a61b287162ba0486"
}
ACCESS TOKEN: 5ce64b83e1c121e1a61b287162ba0486
Refresh TOKEN: 05ee29749e6b3e820ca4414b037965ead119fd53
0.6s (9.6s total) OK. Access token: 05ee29749e6b3e820ca4414b037965ead119fd53...

NEXT TEST: device_info_json 22
3.0s (12.6s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=5ce64b83e1c121e1a61b287162ba0486
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=5ce64b83e1c121e1a61b287162ba0486
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=5ce64b83e1c121e1a61b287162ba0486
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPInternalServerError 1.1 500 Internal Server Error
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 169
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 169 bytes (169 total)
500 => Net::HTTPInternalServerError
{"requestError": {

    "serviceException": {

        "messageId": "SVC0001",

        "text": "Internal platform error occurred " ,

        "variables" : " "    }

}}

NEXT TEST: device_info_json_error 21
126.7s (139.3s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=5ce64b83e1c121e1a61b287162ba0486
Net::HTTP::Get: /1/devices/tel:123/info?access_token=5ce64b83e1c121e1a61b287162ba0486
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
0.2s (139.5s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (142.5s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=5ce64b83e1c121e1a61b287162ba0486
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=5ce64b83e1c121e1a61b287162ba0486
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
5.7s (148.2s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=5ce64b83e1c121e1a61b287162ba0486
Net::HTTP::Get: /1/devices/tel:123/info?access_token=5ce64b83e1c121e1a61b287162ba0486
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
0.1s (148.2s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (151.3s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=5ce64b83e1c121e1a61b287162ba0486&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=5ce64b83e1c121e1a61b287162ba0486&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
5.8s (157.1s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=5ce64b83e1c121e1a61b287162ba0486&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=5ce64b83e1c121e1a61b287162ba0486&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
2.6s (159.7s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (162.7s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x10235ce80>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=5ce64b83e1c121e1a61b287162ba0486
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=5ce64b83e1c121e1a61b287162ba0486
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
5.8s (168.5s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=5ce64b83e1c121e1a61b287162ba0486
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=5ce64b83e1c121e1a61b287162ba0486
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPInternalServerError 1.1 500 Internal Server Error
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 185
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 185 bytes (185 total)
500 => Net::HTTPInternalServerError
<RequestError>
<ServiceException>
    <MessageId>SVC0001</MessageId>
    <Text>Internal platform error occurred </Text>
    <Variables>  </Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=5ce64b83e1c121e1a61b287162ba0486
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=5ce64b83e1c121e1a61b287162ba0486
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
131.2s (299.7s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=5ce64b83e1c121e1a61b287162ba0486&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=5ce64b83e1c121e1a61b287162ba0486&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=5ce64b83e1c121e1a61b287162ba0486&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=5ce64b83e1c121e1a61b287162ba0486&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
11.8s (311.5s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (314.5s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=5ce64b83e1c121e1a61b287162ba0486
Request: https://api.att.com/1/messages/outbox/sms?access_token=5ce64b83e1c121e1a61b287162ba0486
Net::HTTP::Post: /1/messages/outbox/sms?access_token=5ce64b83e1c121e1a61b287162ba0486
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzMzlmYzdmYzhmOjVjMTk%3D
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 03:22:16 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b1604502ecf408"
  },
  "id": "SMSa9b1604502ecf408"
}
0.8s (315.3s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (318.3s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=5ce64b83e1c121e1a61b287162ba0486
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=5ce64b83e1c121e1a61b287162ba0486
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=5ce64b83e1c121e1a61b287162ba0486
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 03:22:20 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b598c3c57f0993"
  },
  "id": "SMSa9b598c3c57f0993"
}
0.5s (318.8s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.1s (321.9s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=5ce64b83e1c121e1a61b287162ba0486
Request: https://api.att.com/1/messages/outbox/mms?access_token=5ce64b83e1c121e1a61b287162ba0486
Net::HTTP::Post: /1/messages/outbox/mms?access_token=5ce64b83e1c121e1a61b287162ba0486
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_14322635.1321240943825"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=5ce64b83e1c121e1a61b287162ba0486
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 03:22:23 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36ce83"
  },
  "id": "MMSa9b11c1e5b36ce83"
}
1.1s (323.0s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36ce83?access_token=5ce64b83e1c121e1a61b287162ba0486
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b11c1e5b36ce83?access_token=5ce64b83e1c121e1a61b287162ba0486
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 03:22:27 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b11c1e5b36ce83"
  }
}
3.5s (326.5s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.0s (329.5s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=5ce64b83e1c121e1a61b287162ba0486
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=5ce64b83e1c121e1a61b287162ba0486
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_18770585.1321240951583"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36ce83?access_token=5ce64b83e1c121e1a61b287162ba0486
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 03:22:31 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b5c707572daacc"
}
0.7s (330.3s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.0s (333.3s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=5ce64b83e1c121e1a61b287162ba0486
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321240955309",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=5ce64b83e1c121e1a61b287162ba0486
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=5ce64b83e1c121e1a61b287162ba0486
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Mon, 14 Nov 2011 03:22:38 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
12.2s (345.6s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=5ce64b83e1c121e1a61b287162ba0486
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321240967549</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=5ce64b83e1c121e1a61b287162ba0486
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=5ce64b83e1c121e1a61b287162ba0486
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Mon, 14 Nov 2011 03:22:50 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
5.9s (351.4s total) OK. New subscription request SEN1321240973435...
Request: : https://api.att.com/1/payments/transactions?access_token=5ce64b83e1c121e1a61b287162ba0486
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321240973435",
  "externalMerchantTransactionID": "SenchaTransId1321240973444",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=5ce64b83e1c121e1a61b287162ba0486
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=5ce64b83e1c121e1a61b287162ba0486
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Mon, 14 Nov 2011 03:22:53 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=htt"hidden" value="TL,DC,WAP,SMS,MMS,PAYMENT" />
			<input id="login_id" name="login[id]" type="hidden" />
			<!--<input  name="phone" type="text" value="4252221234" style="color: silver;">-->
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="javascript:submit_off_net_wireless();">Allow</a>
			</p>
			<p>
				<a class="button cancel" href="/deny_pin">Cancel</a>
			</p>
			<p style="text-align:center; margin-left:10px;color:red;"></p>
			<br>
			<p><SMALL>Refer to Craftguilds Privacy Policy for details on how this information may be used or shared.</SMALL>
			</p>
		</div>
	</form>
	<form action="" id="signup" method="post">
		<hr style="clear:both">   
		<h3>Existing Users</h3><!--move h3 to css and style center it-->
		<!--begin email address-->
		<p>To allow use with another account click  the <strong> Sign in to another account </strong> button.  To sign in and manage consent settings click <strong> Manage Consent</strong>. 
		</p>
		<!--begin SIGNIN/Manage Profile Buttons -->
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=true">SignIn to another account</a>
			</p>
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="#">Manage Consent</a>
			</p>
		</div>
	</form>

<footer>
</footer>
</body>
</html>
#<NoMethodError: undefined method `value=' for nil:NilClass>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 15
response-header: date => Mon, 14 Nov 2011 04:16:47 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "87e059107dba03c2bd14bad2c8b951f1"
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 3635
response-header: date => Mon, 14 Nov 2011 04:17:14 GMT
response-header: content-length => 1443
response-header: content-encoding => gzip
response-header: set-cookie => sessionId=EUID%3DNzIwYjQ1YTU6MTMzOWY2NzBmZmM6LWQ4OQ%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com; path=/
response-header: keep-alive => timeout=5, max=100
response-header: vary => Accept-Encoding
response-header: cache-control => private, max-age=0, must-revalidate
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 1425 bytes (1435 total)
Read 8 bytes (1443 total)
gzip body
saved cookie: sessionId=EUID%3DNzIwYjQ1YTU6MTMzOWY2NzBmZmM6LWQ4OQ%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/effects.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/controls.js?1320650752" type="text/javascript"></script>
<script src="/javascripts/application.js?1320650752" type="text/javascript"></script>
	<script src="/javascripts/application.js?1320650752" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo" id="logo_title">SignIn | SignUp</h1>
<img src="/images/att.png" alt="" id="logo" height="28" width="28" />
</header>
	<form action="/off_net_consent_wireless" id="off_net_consent_wireless" method="post">
	<p><strong>Sencha API Poller</strong>  by Jason Cline, is requesting do the following: 
		<div id="firstCol_b">
			<ul>
				
				
					<li>Location - <SMALL>Sencha API Poller may collect and use your real time AT&T location infop://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 7
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 04:17:08 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "aa2ef6c18f8e7f0787942ce3c9eba736"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 949
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 04:17:08 GMT
response-header: content-length => 8630
response-header: set-cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYTAyNDAzNDc6LTU2YQ%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlOWFjMWRiNWQ5MmE2Zjc5NDNhMzZmNjQzZjRlNDkyN2E%3D--6677e35ab6e4cf72ece01a5bc96e4d0ede3dbd91; path=/; HttpOnly, BIGipServeruser_profile_443=470425516.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 8000 bytes (8000 total)
Read 630 bytes (8630 total)
saved cookie: sessionId=EUID%3DNWY2NWUwNTg6MTMzYTAyNDAzNDc6LTU2YQ%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlOWFjMWRiNWQ5MmE2Zjc5NDNhMzZmNjQzZjRlNDkyN2E%3D--6677e35ab6e4cf72ece01a5bc96e4d0ede3dbd91
saved cookie: BIGipServeruser_profile_443=470425516.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="10158763834066430" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
Khuru3sbdp7qZIYl6s5wKmrzX4gaza3z21na3BdreSQTptYbWGAOo5/i6UAdjbeK9DvLlLeC/VpX
YKqlGGSegyRWzXnXgyHw5KLFZCW1rezgfvOCCSP9n7ozXcajq+n6UitfXUcO77oPJP0A5oAlvr63
02zku7uTy4I8bm2k4yQBwOepFV9M1vTtZ837Bced5WN/yMuM5x1A9DWD4m1nTtW8HagbG6SYr5e5
RkMP3i9jzWH4Ev00zT9bvJI5JEiWJisYyf46APSqK8+PjjXbvdNp+ihrYH73lvJ+owKuWnjWXV9M
u7e3tXj1URHykQ7g56ZHuM5x7UAdDf8AiTR9NlMV3fRpIOqKCxH1Cg4qbT9Z07VQfsV3HMRyVHDA
fQ81534f8GXGp3dwdWju7WNADkrtaRjnoSD6c/Wsu7hm8L+KWjtpWZ7aRSrdCwIBwfwODQB7NRVD
V9YtNFsjdXbkLnCovLOfQCuO/wCE51u+Ytpei74wf+ebyn/x3FAHoFFYvhrUdU1Kzmk1Sy+yyrJt
VfKZMjA5wxraoAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAK8z+IOlWVhcWlx
bQ+XLdPK8zbidxypzyeOp6V6ZXn/AMTf+YX/ANtf/ZKANDwRomnf2PY6t9n/ANO/efvd7f3mXpnH
TjpXGxiTxX4vVJpG23Ep5/uxjJwPwFeheCP+RQsf+2n/AKMavPdPf/hGvGSG6BVLeZkY4/hII3fk
c0AdD4u8JWGm6K17p6PCYiqyrvLB1JA5z3zij4aKrrqysAykRAgjII+erfjXxDp02gNZ2l1FcSXD
LxEwbaoIbJx06DiszwDf2+mWWsXd0+yGPyckDJ5LjpQB0HiXxUfDc0NpDYpJvi3Kd+0LzjGAPb1F
c34GiTUPE82o3FxGtwu+QQjguWzkjtgZNdxH4k0O4hLjU7TYRyJJAp/I815nc6haWvjNtQ00YtIp
hIAg2ggAbgPQE5A+tAHpmva9baDYmaYhpW4iiB5c/wCHqa4Tw1pF34k11tXvlP2dZfMdiMB2HRR7
Dj8Bisc6rBqmu/btdM8kPXy4AOnZRkjA/X8812sXxC0OCFIobO8SNBhVWNAAP++qAOf8f3zT+JBb
PkxWyKNgOOSNx/Qj8quReNdWsLeFzokcOmgBY8Ruox6Bjx+lQeNrY2Hi2DUZYfMt5THIQRw23AK/
kB+ddLr3iPRbnwxdBLuGYzwlY4gcvuI4yvUYPPPpQBvaZqMGrafFe2xJjkHQ9VPcGrdcr8PoZYvD
O6QELLOzpn+7gD+YNdVQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAVj674bs
/EH2f7XJOnkbtvlMBndjOcg+grYooAp6VpsOkabFY27SNFFnaZCC3JJ5wB61V1jw3puubWu4iJVG
BLGdrAenv+Na1FAHNWvgbRrSOVQs0jyRtH5kjgsgYYJHGM89cVLp/gzSbC2ubcrLcxXBUss7A4K5
wRgDH3jXQUUAcnL8PNFkk3K13GP7iSDH6gn9atP4J0c6cbONJYVZgzyowLvjsSQePYegroqKAOP/
AOFcaP8A8/N9/wB9p/8AE0f8K40f/n5vv++0/wDia7CigCrf6daanatbXkKyxHnB7H1B7Gufi+H2
iRziRvtMig58tpBt/QA/rXVUUANjjSGJYo0VI0AVVUYAHpTqKKACiiigAooooAKKKKACiiigAooo
oAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiig
AooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAC
iiigAooooAKKKKACiiigAooooAKKKKACiiigD//Z
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
8.5s (8.5s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYTAyNDAzNDc6LTU2YQ%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlOWFjMWRiNWQ5MmE2Zjc5NDNhMzZmNjQzZjRlNDkyN2E%3D--6677e35ab6e4cf72ece01a5bc96e4d0ede3dbd91; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 2267
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 04:17:09 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlOWFjMWRiNWQ5MmE2Zjc5NDNhMzZmNjQzZjRlNDkyN2EiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--94631e560f059eb0e5ea7bbf0eb88dbaef01c3ea; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlOWFjMWRiNWQ5MmE2Zjc5NDNhMzZmNjQzZjRlNDkyN2EiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--94631e560f059eb0e5ea7bbf0eb88dbaef01c3ea
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
2.5s (11.0s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYTAyNDAzNDc6LTU2YQ%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlOWFjMWRiNWQ5MmE2Zjc5NDNhMzZmNjQzZjRlNDkyN2EiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--94631e560f059eb0e5ea7bbf0eb88dbaef01c3ea; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzM2EwMWFkOTA1OjM5NA%3D%3D
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 343
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 04:17:12 GMT
response-header: content-length => 147
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 147 bytes (147 total)
Authorization key: LTE2MjkxNzcxOjEzM2EwMWFkOTA1OjM5NA%3D%3D
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzM2EwMWFkOTA1OjM5NA%3D%3D">redirected</a>.</body></html>
0.6s (11.6s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2EwMWFkOTA1OjM5NA%3D%3D ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2EwMWFkOTA1OjM5NA%3D%3D
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 108
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 04:17:13 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "2d090230f053cf563c8d81febdb6ebdb4eafce2e",
  "access_token": "f174aaf12edda5bfaee10f3d57a7938e"
}
ACCESS TOKEN: f174aaf12edda5bfaee10f3d57a7938e
Refresh TOKEN: 2d090230f053cf563c8d81febdb6ebdb4eafce2e
0.9s (12.5s total) OK. Access token: 2d090230f053cf563c8d81febdb6ebdb4eafce2e...

NEXT TEST: device_info_json 22
3.0s (15.5s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=f174aaf12edda5bfaee10f3d57a7938e
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=f174aaf12edda5bfaee10f3d57a7938e
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=f174aaf12edda5bfaee10f3d57a7938e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
5.8s (21.3s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=f174aaf12edda5bfaee10f3d57a7938e
Net::HTTP::Get: /1/devices/tel:123/info?access_token=f174aaf12edda5bfaee10f3d57a7938e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
1.3s (22.6s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (25.6s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=f174aaf12edda5bfaee10f3d57a7938e
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=f174aaf12edda5bfaee10f3d57a7938e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
3.1s (28.7s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=f174aaf12edda5bfaee10f3d57a7938e
Net::HTTP::Get: /1/devices/tel:123/info?access_token=f174aaf12edda5bfaee10f3d57a7938e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
0.1s (28.8s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (31.8s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=f174aaf12edda5bfaee10f3d57a7938e&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=f174aaf12edda5bfaee10f3d57a7938e&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
6.1s (37.9s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=f174aaf12edda5bfaee10f3d57a7938e&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=f174aaf12edda5bfaee10f3d57a7938e&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
0.1s (38.0s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (41.0s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x102318c80>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=f174aaf12edda5bfaee10f3d57a7938e
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=f174aaf12edda5bfaee10f3d57a7938e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
5.9s (46.9s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=f174aaf12edda5bfaee10f3d57a7938e
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=f174aaf12edda5bfaee10f3d57a7938e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=f174aaf12edda5bfaee10f3d57a7938e
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=f174aaf12edda5bfaee10f3d57a7938e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
8.6s (55.5s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=f174aaf12edda5bfaee10f3d57a7938e&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=f174aaf12edda5bfaee10f3d57a7938e&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=f174aaf12edda5bfaee10f3d57a7938e&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=f174aaf12edda5bfaee10f3d57a7938e&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
11.0s (66.5s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (69.5s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=f174aaf12edda5bfaee10f3d57a7938e
Request: https://api.att.com/1/messages/outbox/sms?access_token=f174aaf12edda5bfaee10f3d57a7938e
Net::HTTP::Post: /1/messages/outbox/sms?access_token=f174aaf12edda5bfaee10f3d57a7938e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2EwMWFkOTA1OjM5NA%3D%3D
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 04:18:11 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b487b5e055d10b"
  },
  "id": "SMSa9b487b5e055d10b"
}
1.6s (71.1s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (74.1s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=f174aaf12edda5bfaee10f3d57a7938e
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=f174aaf12edda5bfaee10f3d57a7938e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=f174aaf12edda5bfaee10f3d57a7938e
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 04:18:15 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b598c3c57f0994"
  },
  "id": "SMSa9b598c3c57f0994"
}
0.7s (74.8s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.0s (77.9s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=f174aaf12edda5bfaee10f3d57a7938e
Request: https://api.att.com/1/messages/outbox/mms?access_token=f174aaf12edda5bfaee10f3d57a7938e
Net::HTTP::Post: /1/messages/outbox/mms?access_token=f174aaf12edda5bfaee10f3d57a7938e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_19214277.1321244299834"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=f174aaf12edda5bfaee10f3d57a7938e
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 04:18:19 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b6fb3"
  },
  "id": "MMSa9b4644d651b6fb3"
}
1.0s (78.8s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b6fb3?access_token=f174aaf12edda5bfaee10f3d57a7938e
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b4644d651b6fb3?access_token=f174aaf12edda5bfaee10f3d57a7938e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 04:18:22 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b4644d651b6fb3"
  }
}
3.4s (82.2s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.1s (85.2s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=f174aaf12edda5bfaee10f3d57a7938e
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=f174aaf12edda5bfaee10f3d57a7938e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_13181064.1321244307251"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b6fb3?access_token=f174aaf12edda5bfaee10f3d57a7938e
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 04:18:27 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b1524324bb030b"
}
1.0s (86.2s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.0s (89.2s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=f174aaf12edda5bfaee10f3d57a7938e
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321244311231",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=f174aaf12edda5bfaee10f3d57a7938e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=f174aaf12edda5bfaee10f3d57a7938e
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Mon, 14 Nov 2011 04:18:32 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
11.7s (101.0s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=f174aaf12edda5bfaee10f3d57a7938e
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321244322960</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=f174aaf12edda5bfaee10f3d57a7938e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=f174aaf12edda5bfaee10f3d57a7938e
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Mon, 14 Nov 2011 04:18:45 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
respormation </SMALL> </li><br>
					
				
				
					<li>Device Capabilities - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
				
				
				
				
				
				
				
			</ul>
			<p>If ok, enter the wireless phone number and click Allow. A verification message will be sent.	</p>
		</div>
	<br><p></p>
	<br>
	<form action="" id="signup" method="post">
		<div id="firstCol_b">
			<label for="phone"><span>Wireless Number</span></label> 
		</div>
		<div id="firstCol_a">
			<img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50">
		</div>
		<div class="input-c" id="firstCol_b" style="right: 9px; top: 9px">
			<input id="login_wireless" name="login[wireless]" size="30" style="color:silver;" type="text" />
			<input id="login_client_id" name="login[client_id]" type="hidden" value="cddc0328b4c56103f8febb0194df7fd8" />
			<input id="login_scope" name="login[scope]" type="hidden" value="TL,DC,WAP,SMS,MMS,PAYMENT" />
			<input id="login_id" name="login[id]" type="hidden" />
			<!--<input  name="phone" type="text" value="4252221234" style="color: silver;">-->
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="javascript:submit_off_net_wireless();">Allow</a>
			</p>
			<p>
				<a class="button cancel" href="/deny_pin">Cancel</a>
			</p>
			<p style="text-align:center; margin-left:10px;color:red;"></p>
			<br>
			<p><SMALL>Refer to Craftguilds Privacy Policy for details on how this information may be used or shared.</SMALL>
			</p>
		</div>
	</form>
	<form action="" id="signup" method="post">
		<hr style="clear:both">   
		<h3>Existing Users</h3><!--move h3 to css and style center it-->
		<!--begin email address-->
		<p>To allow use with another account click  the <strong> Sign in to another account </strong> button.  To sign in and manage consent settings click <strong> Manage Consent</strong>. 
		</p>
		<!--begin SIGNIN/Manage Profile Buttons -->
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=true">SignIn to another account</a>
			</p>
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="#">Manage Consent</a>
			</p>
		</div>
	</form>

<footer>
</footer>
</body>
</html>
#<NoMethodError: undefined method `value=' for nil:NilClass>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_sense-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
6.1s (107.1s total) OK. New subscription request SEN1321244329101...
Request: : https://api.att.com/1/payments/transactions?access_token=f174aaf12edda5bfaee10f3d57a7938e
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321244329101",
  "externalMerchantTransactionID": "SenchaTransId1321244329114",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=f174aaf12edda5bfaee10f3d57a7938e
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=f174aaf12edda5bfaee10f3d57a7938e
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Mon, 14 Nov 2011 04:18:48 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
1.3s (1.3s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<Errno::EADDRNOTAVAIL: Can't assign requested address - connect(2)>

NEXT TEST: device_info_json 22

NEXT TEST: device_info_json_error 21

NEXT TEST: device_info_xml 20

NEXT TEST: device_info_xml_error 19

NEXT TEST: device_info_jsonp 18

NEXT TEST: device_info_jsonp_error 17

NEXT TEST: device_location_json 16

NEXT TEST: device_location_json_error 15

NEXT TEST: device_location_xml 14

NEXT TEST: device_location_xml_error 13

NEXT TEST: device_location_jsonp 12

NEXT TEST: device_location_jsonp_error 11

NEXT TEST: sms_send_json 10

NEXT TEST: sms_send_form 9

NEXT TEST: mms_send_json 8

NEXT TEST: mms_status 7

NEXT TEST: wap_push 6

NEXT TEST: payment_new_json 5

NEXT TEST: payment_status_json 4

NEXT TEST: payment_refund_json 3

NEXT TEST: payment_new_xml 2

NEXT TEST: payment_new_subscription 1

NEXT TEST: payment_subscription_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.8s (0.8s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: device_info_json 22

NEXT TEST: device_info_json_error 21

NEXT TEST: device_info_xml 20

NEXT TEST: device_info_xml_error 19

NEXT TEST: device_info_jsonp 18

NEXT TEST: device_info_jsonp_error 17

NEXT TEST: device_location_json 16

NEXT TEST: device_location_json_error 15

NEXT TEST: device_location_xml 14nd_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
1.0s (1.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.8s (0.8s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.1s (0.1s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 25
response-header: date => Mon, 14 Nov 2011 15:56:41 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPInternalServerError 1.1 500 Internal Server Error
response-header: connection => close
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: date => Mon, 14 Nov 2011 15:57:06 GMT
response-header: content

NEXT TEST: device_location_xml_error 13

NEXT TEST: device_location_jsonp 12

NEXT TEST: device_location_jsonp_error 11

NEXT TEST: sms_send_json 10

NEXT TEST: sms_send_form 9

NEXT TEST: mms_send_json 8

NEXT TEST: mms_status 7

NEXT TEST: wap_push 6

NEXT TEST: payment_new_json 5

NEXT TEST: payment_status_json 4

NEXT TEST: payment_refund_json 3

NEXT TEST: payment_new_xml 2

NEXT TEST: payment_new_subscription 1

NEXT TEST: payment_subscription_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.1s (0.1s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 7
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 15:57:03 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "1bccae4047da73a426effdd5c89d88be"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1342
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 15:57:04 GMT
response-header: content-length => 8696
response-header: set-cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2EyYjhmYzY0Oi01NGFj%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlNGVmMWYwNzZiZTA0YmM1YmQ0ZTFhYjgzNTA1ODRiNGM%3D--434b8716a3ab449f4e24c3a053fb8b6a53972783; path=/; HttpOnly, BIGipServeruser_profile_443=269098924.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 7473 bytes (7473 total)
Read 1223 bytes (8696 total)
saved cookie: sessionId=EUID%3DLTE2MjkxNzcxOjEzM2EyYjhmYzY0Oi01NGFj%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlNGVmMWYwNzZiZTA0YmM1YmQ0ZTFhYjgzNTA1ODRiNGM%3D--434b8716a3ab449f4e24c3a053fb8b6a53972783
saved cookie: BIGipServeruser_profile_443=269098924.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="10200759617764599" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKKz9T1vTtG8r7fceT5udnyM2cYz0B9RQBoUVk3PibRrSKKSe/jUSosiDBLFSMg7QMjj1q1p+rWG
qxl7G6jmC9QvBH1B5FAFyisHxD4rs9AAjZTPdMMrEpxgepPaucHjDxRcDzLXQw0R6EW8r/qCKAPQ
aKxbnWbix8JnVbm3C3KwqzRFSoDkgYIPI5NcrZ3/AI41a0F9ZyR+Q5OwBYhnBwcbueoPWgDsNS8R
aVpFwtvfXXlSsgcL5bNxkjPAPoa0IJ47m3iuIW3RSoHRsYyCMg81454lfV31GI60oW58kBQAv3Nz
Y+7x1zXotl4g0rStC0uO9vUikNpEdgBZh8g6gAkUAdFWXf8AiTR9NlMV3fRpIOqKCxH1Cg4qO81Y
XmgXVzosguptm2MRcsGPHTsRnPPpXC+H/Blxqd3cHVo7u1jQA5K7WkY56Eg+nP1oA9E0/WdO1UH7
FdxzEclRwwH0PNXq8Zu4ZvC/ilo7aVme2kUq3QsCAcH8Dg17NQAUUUUAFFFFABRRRQAUUUUAFFFF
ABRRRQAUUUUAFFFFABRRRQAV5/8AE3/mF/8AbX/2SvQK8/8Aib/zC/8Atr/7JQAnhLwlYanowv8A
UUeZpiVjG8qEVfl7d+DXPkyeE/GDJFIxSCUA5/ijODg/gfzrqvBPiLT4dBWyu7qK3kt2bHmsFDKS
TkZ68k8VymouPEvjJzagslxMqKcfwgAbvyGaAIRq7S+JpNTe2F3I0paOJs4z0Xjvjjj2FdZa+O7+
1vo4db037NG/8QjZGUeuGzkVi6I8HhnxpLFqKhUXfGsjD7mfut+I/nWr4/1bTb+ytLa0niubgS79
0TBtq4IIyPU449qADxrperst9qS6gDpR8si3Ez8/dH3cbfvc9feqGiaB4kvdHguLDV/s9q+7ZH9p
kTbhiDwBgcgmt3xHc29v4GbTZbuD7dHBAjwmQb8goT8uc+9T+D9W0228LWUNxqFpFKu/ckkyqw+d
jyCaAOJ8VWd9YXlnb6jc/aLlbbLSb2fIMj45bnpXV6J4J0270CCe9WSS5uIg4kEhGwEfKAOnTHXN
YPxAuILrXLaW3mjmjNquHjYMD879xXVeHfFOljw3bi5vIoZbaIRvG7YY7RgYHfIA6UAcd4auJ9E8
YJabztac2soHRudo/XBr0fXtettBsTNMQ0rcRRA8uf8AD1NeWWl4sviV9WdCIo52u3A7fNuA/EkD
8aDqsGqa79u10zyQ9fLgA6dlGSMD9fzzQBseGtIu/Emutq98p+zrL5jsRgOw6KPYcfgMV6hXGRfE
LQ4IUihs7xI0GFVY0AA/76rs6ACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACv
P/ib/wAwv/tr/wCyV6BWPrvhyz8QfZ/tck6eRu2+UwGd2M5yD6CgDntB8MaZrnhLT5LqN0mAkHmx
HaxHmNweCDXRaN4a03Qyz2sTNMwwZZDubHp6D8Kt6XpsOkabFY27O0UWdpkILcknnAHrVygDL1fw
9p2tqv2yEmRRhZUO1gPTPf8AGqOmeCtH0u6W5RJZ5UOUM7AhT6gAAV0VFAHN6r4J03V9Slvrie7W
WXG4RuoXgAcZU+lU/wDhXGj/APPzff8Afaf/ABNdhRQBycvw+0mWOFGuL0CJNi4dORuLc/L6san1
DwNo1/ctPtmt3c5YQMACfoQcfhXS0UAc8/gzSTpZ0+NZoY2cO8iMN7kZwCSDxz0qh/wrjR/+fm+/
77T/AOJrsKKAOP8A+FcaP/z833/faf8AxNdhRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUU
AFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQA
UUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABR
RRQAUUUUAFFFFABRRRQAUUUUAf/Z
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
9.4s (9.5s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2EyYjhmYzY0Oi01NGFj%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlNGVmMWYwNzZiZTA0YmM1YmQ0ZTFhYjgzNTA1ODRiNGM%3D--434b8716a3ab449f4e24c3a053fb8b6a53972783; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 5874
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 15:57:05 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlNGVmMWYwNzZiZTA0YmM1YmQ0ZTFhYjgzNTA1ODRiNGMiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--c7e400dfbbad2f6fbb176c181d8f585ffc0541cb; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlNGVmMWYwNzZiZTA0YmM1YmQ0ZTFhYjgzNTA1ODRiNGMiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--c7e400dfbbad2f6fbb176c181d8f585ffc0541cb
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
6.2s (15.7s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2EyYjhmYzY0Oi01NGFj%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlNGVmMWYwNzZiZTA0YmM1YmQ0ZTFhYjgzNTA1ODRiNGMiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--c7e400dfbbad2f6fbb176c181d8f585ffc0541cb; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=NWY2NWUwNTg6MTMzYTJhOWVmY2Q6LTE1ZDU%3D
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 649
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 15:57:12 GMT
response-header: content-length => 145
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 145 bytes (145 total)
Authorization key: NWY2NWUwNTg6MTMzYTJhOWVmY2Q6LTE1ZDU%3D
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=NWY2NWUwNTg6MTMzYTJhOWVmY2Q6LTE1ZDU%3D">redirected</a>.</body></html>
0.9s (16.6s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzYTJhOWVmY2Q6LTE1ZDU%3D ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzYTJhOWVmY2Q6LTE1ZDU%3D
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 101
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 15:57:13 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "6ac6a811dfb2faedc2207ca0c8822ed68a8591b6",
  "access_token": "ff251dfb043118b961459d08ad4c102e"
}
ACCESS TOKEN: ff251dfb043118b961459d08ad4c102e
Refresh TOKEN: 6ac6a811dfb2faedc2207ca0c8822ed68a8591b6
0.6s (17.2s total) OK. Access token: 6ac6a811dfb2faedc2207ca0c8822ed68a8591b6...

NEXT TEST: device_info_json 22
3.0s (20.2s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=ff251dfb043118b961459d08ad4c102e
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=ff251dfb043118b961459d08ad4c102e
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=ff251dfb043118b961459d08ad4c102e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
6.7s (26.9s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=ff251dfb043118b961459d08ad4c102e
Net::HTTP::Get: /1/devices/tel:123/info?access_token=ff251dfb043118b961459d08ad4c102e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
3.0s (29.9s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (33.0s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=ff251dfb043118b961459d08ad4c102e
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=ff251dfb043118b961459d08ad4c102e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
3.1s (36.1s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=ff251dfb043118b961459d08ad4c102e
Net::HTTP::Get: /1/devices/tel:123/info?access_token=ff251dfb043118b961459d08ad4c102e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPInternalServerError 1.1 500 Internal Server Error
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 185
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 185 bytes (185 total)
500 => Net::HTTPInternalServerError
<RequestError>
<ServiceException>
    <MessageId>SVC0001</MessageId>
    <Text>Internal platform error occurred </Text>
    <Variables>  </Variables>
</ServiceException>
</RequestError>
136.2s (172.2s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (175.2s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=ff251dfb043118b961459d08ad4c102e&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=ff251dfb043118b961459d08ad4c102e&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
21.6s (196.8s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=ff251dfb043118b961459d08ad4c102e&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=ff251dfb043118b961459d08ad4c102e&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
2.8s (199.6s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (202.6s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x1022fd2c8>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=ff251dfb043118b961459d08ad4c102e
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=ff251dfb043118b961459d08ad4c102e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
5.5s (208.2s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=ff251dfb043118b961459d08ad4c102e
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=ff251dfb043118b961459d08ad4c102e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=ff251dfb043118b961459d08ad4c102e
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=ff251dfb043118b961459d08ad4c102e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPInternalServerError 1.1 500 Internal Server Error
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 185
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 185 bytes (185 total)
500 => Net::HTTPInternalServerError
<RequestError>
<ServiceException>
    <MessageId>SVC0001</MessageId>
    <Text>Internal platform error occurred </Text>
    <Variables>  </Variables>
</ServiceException>
</RequestError>
129.2s (337.3s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=ff251dfb043118b961459d08ad4c102e&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=ff251dfb043118b961459d08ad4c102e&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=ff251dfb043118b961459d08ad4c102e&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=ff251dfb043118b961459d08ad4c102e&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
8.9s (346.3s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (349.3s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=ff251dfb043118b961459d08ad4c102e
Request: https://api.att.com/1/messages/outbox/sms?access_token=ff251dfb043118b961459d08ad4c102e
Net::HTTP::Post: /1/messages/outbox/sms?access_token=ff251dfb043118b961459d08ad4c102e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzYTJhOWVmY2Q6LTE1ZDU%3D
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 16:02:45 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b487b5e055d11c"
  },
  "id": "SMSa9b487b5e055d11c"
}
0.6s (349.9s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (352.9s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=ff251dfb043118b961459d08ad4c102e
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=ff251dfb043118b961459d08ad4c102e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=ff251dfb043118b961459d08ad4c102e
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 16:02:49 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b598c3c57f09a8"
  },
  "id": "SMSa9b598c3c57f09a8"
}
0.6s (353.4s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.0s (356.5s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=ff251dfb043118b961459d08ad4c102e
Request: https://api.att.com/1/messages/outbox/mms?access_token=ff251dfb043118b961459d08ad4c102e
Net::HTTP::Post: /1/messages/outbox/mms?access_token=ff251dfb043118b961459d08ad4c102e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_15611883.1321286572778"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=ff251dfb043118b961459d08ad4c102e
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 16:03:03 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf6775b8"
  },
  "id": "MMSa9b50d45cf6775b8"
}
11.3s (367.8s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf6775b8?access_token=ff251dfb043118b961459d08ad4c102e
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b50d45cf6775b8?access_token=ff251dfb043118b961459d08ad4c102e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 16:03:07 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b50d45cf6775b8"
  }
}
3.5s (371.3s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.1s (374.3s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=ff251dfb043118b961459d08ad4c102e
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=ff251dfb043118b961459d08ad4c102e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_15403865.1321286590683"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf6775b8?access_token=ff251dfb043118b961459d08ad4c102e
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 16:03:11 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b1524324bb030e"
}
1.4s (375.7s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.0s (378.8s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=ff251dfb043118b961459d08ad4c102e
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321286595110",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=ff251dfb043118b961459d08ad4c102e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=ff251dfb043118b961459d08ad4c102e
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Mon, 14 Nov 2011 16:03:17 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
11.8s (390.6s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=ff251dfb043118b961459d08ad4c102e
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321286606922</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=ff251dfb043118b961459d08ad4c102e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=ff251dfb043118b961459d08ad4c102e
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Mon, 14 Nov 2011 16:03:29 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
6.1s (396.6s total) OK. New subscription request SEN1321286612983...
Request: : https://api.att.com/1/payments/transactions?access_token=ff251dfb043118b961459d08ad4c102e
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321286612983",
  "externalMerchantTransactionID": "SenchaTransId1321286612994",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=ff251dfb043118b961459d08ad4c102e
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=ff251dfb043118b961459d08ad4c102e
request-header: cookie => api.att.amdocshub.com=R3-length => 552
response-header: content-encoding => gzip
response-header: vary => Accept-Encoding
response-header: cache-control => no-cache
response-header: status => 500 Internal Server Error
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 534 bytes (544 total)
Read 8 bytes (552 total)
gzip body
500 => Net::HTTPInternalServerError

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 11
response-header: date => Mon, 14 Nov 2011 16:56:40 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Rub665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Mon, 14 Nov 2011 16:03:33 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 7
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 16:57:00 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "05becb4c26d4be59aac546f9b24065c2"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1581
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 16:57:02 GMT
response-header: content-length => 8338
response-header: set-cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYTJmYjMwNjM6LTY5MzI%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlMjE0N2IyZjg1NTUyNWFiOGNlNzliNmMyN2JlYTAzZTE%3D--06f1fe7f99af759c88613eadc7439d08028d6341; path=/; HttpOnly, BIGipServeruser_profile_443=269098924.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 8000 bytes (8000 total)
Read 338 bytes (8338 total)
saved cookie: sessionId=EUID%3DNWY2NWUwNTg6MTMzYTJmYjMwNjM6LTY5MzI%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlMjE0N2IyZjg1NTUyNWFiOGNlNzliNmMyN2JlYTAzZTE%3D--06f1fe7f99af759c88613eadc7439d08028d6341
saved cookie: BIGipServeruser_profile_443=269098924.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="10204357711975410" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKKz9T1vTtG8r7fceT5udnyM2cYz0B9RQBoVm6jr+l6VII728SKQjOzBZsfQAmobnxVoloIjNfov
mosigIzHaRkEgDI49a8svrq21DxTNcTyk2ct3lpMHPlbuuOv3aAPXdN1iw1dHexuVmCY3YBBGenB
HsavVieGotDW1ml0IfuGfbIfn+8B/t89DWLq/jtor9rHSLP7VKrFS5BILDqFUcn60AdrWTfeJtG0
2cwXV9Gko6oqliPrtBxXM2nj66t7xbfXNONvnqyIylR6lW5IrjNKexn1yKTWHb7K7M0zfNknBPbn
k46UAey2Go2mqW/2iynWaLdt3AEYPpz9afeXlvp9pJdXUoihjGWYgnH5VT0CLTI9KRtHH+hyMzL9
7k5wfvc9RXDePtbN7ef2ZbkmC2O6YjoX6fpnH1NAHeaZrenaz5v2C487ysb/AJGXGc46gehrQrz/
AOGX/MU/7Zf+z16BQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFef8A
xN/5hf8A21/9kr0CvP8A4m/8wv8A7a/+yUAU/C/g231vTPt19cTqGYrGsRA4HGSSD9PwrCSwgXxe
unFS1sL/AMgqTyU8zb1HtXpPgj/kULH/ALaf+jGrz/8A5qH/ANxX/wBq0AeqabpVlpFu1vYw+VEz
lyu4tzgDPJPoK8ysrj/hC/FkwuYxcIFZMowLbSQQw9Dx0Pqa9RvjONPuTa/8fHlN5X+9g4/WvL/B
7aO2p3La4YzKQDGbn7mcnduzxnp196AJNd1Q+M9XsrXTrYpsDKplIVmzjOeegx796y/C1jb6l4jt
LS7j8yCTfuXcRnCMRyOeoFaHi9tHXU7ZtDMYlGTIbb7gbI27ccZ69Paq/gj/AJG+x/7af+i2oA77
Wr218JeG/KskEbHKW0e4thiSSecnAyT+QrlE0RrLwBqGpXIJursRsC3VU8xSPz6/lXS+MPDd54g+
xfZJIE8jfu81iM7tuMYB9DXF6r4J1LSNNlvrie0aKLG4RuxbkgcZUetAG58Mv+Yp/wBsv/Z69Arx
fQvDd54g+0fZJIE8jbu81iM7s4xgH0Ne0UAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRR
QAUUUUAFFFFABWPrvhuz8QfZ/tck6eRu2+UwGd2M5yD6CtiigCnpWmw6RpsVjbtI0UWdpkILcknn
AHrWP/whOm/2z/ann3fn/aPtG3eu3du3Y+7nGfeukooAKwdV8H6Rq07TyxPDMxyzwttLfUEEfpW9
RQBg6V4P0jSZ1niieaZTlXmbcV+gAA/SodK8E6bpGpRX1vPdtLFnaJHUryCOcKPWukooAKp6rpsO
r6bLY3DSLFLjcYyA3BB4yD6VcooAx9C8N2fh/wC0fZJJ38/bu81gcbc4xgD1NbFFFABRRRQAUUUU
AFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQA
UUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABR
RRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAf/Z
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
7.6s (7.6s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYTJmYjMwNjM6LTY5MzI%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlMjE0N2IyZjg1NTUyNWFiOGNlNzliNmMyN2JlYTAzZTE%3D--06f1fe7f99af759c88613eadc7439d08028d6341; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 7568
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 16:57:04 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlMjE0N2IyZjg1NTUyNWFiOGNlNzliNmMyN2JlYTAzZTEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--7b76128139222a72628b15850900935b640324e0; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlMjE0N2IyZjg1NTUyNWFiOGNlNzliNmMyN2JlYTAzZTEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--7b76128139222a72628b15850900935b640324e0
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
8.0s (15.6s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYTJmYjMwNjM6LTY5MzI%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlMjE0N2IyZjg1NTUyNWFiOGNlNzliNmMyN2JlYTAzZTEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--7b76128139222a72628b15850900935b640324e0; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzM2EyYjhmYzY0OjUzNzU%3D
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 349
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 16:57:11 GMT
response-header: content-length => 145
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 145 bytes (145 total)
Authorization key: LTE2MjkxNzcxOjEzM2EyYjhmYzY0OjUzNzU%3D
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzM2EyYjhmYzY0OjUzNzU%3D">redirected</a>.</body></html>
0.5s (16.1s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2EyYjhmYzY0OjUzNzU%3D ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2EyYjhmYzY0OjUzNzU%3D
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 106
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 16:57:13 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "cba4bd57559a342d417cd4367c79927b599323f5",
  "access_token": "c507ffb24fe39380540fc3f2d2198a53"
}
ACCESS TOKEN: c507ffb24fe39380540fc3f2d2198a53
Refresh TOKEN: cba4bd57559a342d417cd4367c79927b599323f5
0.9s (17.0s total) OK. Access token: cba4bd57559a342d417cd4367c79927b599323f5...

NEXT TEST: device_info_json 22
3.0s (20.0s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=c507ffb24fe39380540fc3f2d2198a53
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=c507ffb24fe39380540fc3f2d2198a53
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=c507ffb24fe39380540fc3f2d2198a53
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
5.8s (25.8s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=c507ffb24fe39380540fc3f2d2198a53
Net::HTTP::Get: /1/devices/tel:123/info?access_token=c507ffb24fe39380540fc3f2d2198a53
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
2.6s (28.5s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (31.5s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=c507ffb24fe39380540fc3f2d2198a53
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=c507ffb24fe39380540fc3f2d2198a53
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPInternalServerError 1.1 500 Internal Server Error
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 185
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 185 bytes (185 total)
500 => Net::HTTPInternalServerError
<RequestError>
<ServiceException>
    <MessageId>SVC0001</MessageId>
    <Text>Internal platform error occurred </Text>
    <Variables>  </Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
123.2s (154.7s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=c507ffb24fe39380540fc3f2d2198a53
Net::HTTP::Get: /1/devices/tel:123/info?access_token=c507ffb24fe39380540fc3f2d2198a53
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
0.2s (154.8s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (157.8s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=c507ffb24fe39380540fc3f2d2198a53&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=c507ffb24fe39380540fc3f2d2198a53&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
5.6s (163.5s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=c507ffb24fe39380540fc3f2d2198a53&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=c507ffb24fe39380540fc3f2d2198a53&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
2.5s (166.0s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (169.0s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x1022821e0>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=c507ffb24fe39380540fc3f2d2198a53
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=c507ffb24fe39380540fc3f2d2198a53
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
5.6s (174.6s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=c507ffb24fe39380540fc3f2d2198a53
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=c507ffb24fe39380540fc3f2d2198a53
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=c507ffb24fe39380540fc3f2d2198a53
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=c507ffb24fe39380540fc3f2d2198a53
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
7.4s (182.0s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=c507ffb24fe39380540fc3f2d2198a53&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=c507ffb24fe39380540fc3f2d2198a53&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=c507ffb24fe39380540fc3f2d2198a53&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=c507ffb24fe39380540fc3f2d2198a53&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
15.6s (197.6s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (200.6s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=c507ffb24fe39380540fc3f2d2198a53
Request: https://api.att.com/1/messages/outbox/sms?access_token=c507ffb24fe39380540fc3f2d2198a53
Net::HTTP::Post: /1/messages/outbox/sms?access_token=c507ffb24fe39380540fc3f2d2198a53
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2EyYjhmYzY0OjUzNzU%3D
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 17:00:20 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b487b5e055d121"
  },
  "id": "SMSa9b487b5e055d121"
}
5.0s (205.6s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (208.6s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=c507ffb24fe39380540fc3f2d2198a53
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=c507ffb24fe39380540fc3f2d2198a53
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=c507ffb24fe39380540fc3f2d2198a53
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 17:00:25 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b598c3c57f09ad"
  },
  "id": "SMSa9b598c3c57f09ad"
}
0.7s (209.3s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.0s (212.4s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=c507ffb24fe39380540fc3f2d2198a53
Request: https://api.att.com/1/messages/outbox/mms?access_token=c507ffb24fe39380540fc3f2d2198a53
Net::HTTP::Post: /1/messages/outbox/mms?access_token=c507ffb24fe39380540fc3f2d2198a53
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_16495187.1321290028677"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=c507ffb24fe39380540fc3f2d2198a53
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 17:00:29 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf6775b9"
  },
  "id": "MMSa9b50d45cf6775b9"
}
0.9s (213.3s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf6775b9?access_token=c507ffb24fe39380540fc3f2d2198a53
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b50d45cf6775b9?access_token=c507ffb24fe39380540fc3f2d2198a53
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 17:00:32 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b50d45cf6775b9"
  }
}
3.7s (217.0s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.0s (220.0s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=c507ffb24fe39380540fc3f2d2198a53
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=c507ffb24fe39380540fc3f2d2198a53
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_12535072.1321290036418"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf6775b9?access_token=c507ffb24fe39380540fc3f2d2198a53
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 17:00:36 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b4a1507be34a5e"
}
0.6s (220.7s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.0s (223.7s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=c507ffb24fe39380540fc3f2d2198a53
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321290040047",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=c507ffb24fe39380540fc3f2d2198a53
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=c507ffb24fe39380540fc3f2d2198a53
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Mon, 14 Nov 2011 17:00:44 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
14.8s (238.5s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=c507ffb24fe39380540fc3f2d2198a53
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321290054850</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=c507ffb24fe39380540fc3f2d2198a53
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=c507ffb24fe39380540fc3f2d2198a53
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Mon, 14 Nov 2011 17:00:55 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
3.5s (242.0s total) OK. New subscription request SEN1321290058322...
Request: : https://api.att.com/1/payments/transactions?access_token=c507ffb24fe39380540fc3f2d2198a53
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321290058322",
  "externalMerchantTransactionID": "SenchaTransId1321290058334",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=c507ffb24fe39380540fc3f2d2198a53
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249y/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPInternalServerError 1.1 500 Internal Server Error
response-header: connection => close
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: date => Mon, 14 Nov 2011 16:57:04 GMT
response-header: content-length => 552
response-header: content-encoding => gzip
response-header: vary => Accept-Encoding
response-header: cache-control => no-cache
response-header: status => 500 Internal Server Error
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 534 bytes (544 total)
Read 8 bytes (552 total)
gzip body
500 => Net::HTTPInternalServerError

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 13
r127.0.0.1 - - [14/Nov/2011 11:56:58] "GET /providerapi/sdk/doc_src HTTP/1.1" 404 448 0.0212
touch2 - - [14/Nov/2011:11:56:58 CST] "GET /providerapi/sdk/doc_src HTTP/1.1" 404 448
- -> /providerapi/sdk/doc_src
127.0.0.1 - - [14/Nov/2011 11:56:58] "GET /__sinatra__/404.png HTTP/1.1" 200 23305 0.0119
touch2 - - [14/Nov/2011:11:56:58 CST] "GET /__sinatra__/404.png HTTP/1.1" 200 23305
Referer -> /__sinatra__/404.png
127.0.0.1 - - [14/Nov/2011 11:56:58] "GET /favicon.ico HTTP/1.1" 404 436 0.0009
touch2 - - [14/Nov/2011:11:56:58 CST] "GET /favicon.ico HTTP/1.1" 404 436
- -> /favicon.ico
127.0.0.1 - - [14/Nov/2011 11:56:58] "GET /favicon.ico HTTP/1.1" 404 436 0.0008
touch2 - - [14/Nov/2011:11:56:58 CST] "GET /favicon.ico HTTP/1.1" 404 436
- -> /favicon.ico
127.0.0.1 - - [14/Nov/2011 11:57:05] "GET /providerapi/sdk/doc_src/index.html HTTP/1.1" 404 459 0.0011
touch2 - - [14/Nov/2011:11:57:05 CST] "GET /providerapi/sdk/doc_src/index.html HTTP/1.1" 404 459
- -> /providerapi/sdk/doc_src/index.html
 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=c507ffb24fe39380540fc3f2d2198a53
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Mon, 14 Nov 2011 17:00:58 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 7
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 17:57:02 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "5739c868050445dbd281485dc1c12f31"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 5483
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 17:57:06 GMT
response-header: content-length => 8856
response-header: set-cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2EzMGM0ZWM3Oi0zYWQ%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlNjdjNjZlNmMzYzMyMGYyNDQxNmUwNjUxYWE0NGQ4Zjk%3D--0750237099267b29c30ce7e6419d9df0764d3272; path=/; HttpOnly, BIGipServeruser_profile_443=470425516.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 7471 bytes (7471 total)
Read 1385 bytes (8856 total)
saved cookie: sessionId=EUID%3DLTE2MjkxNzcxOjEzM2EzMGM0ZWM3Oi0zYWQ%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlNjdjNjZlNmMzYzMyMGYyNDQxNmUwNjUxYWE0NGQ4Zjk%3D--0750237099267b29c30ce7e6419d9df0764d3272
saved cookie: BIGipServeruser_profile_443=470425516.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="19858203319120135" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKKy9S8RaVpFwtvfXXlSsgcL5bNxkjPAPoaANSisu/8AEmj6ZKYru+jSQdUUFiPqFBxU9nq+n6hb
vcWt3FJEnLtnG36g9PxoAu0Vif8ACX6B5/k/2lHuzjO1tv8A31jH61Z1nWINJ0eS/LK42/ugDkOx
6Ae3f6UARX3ijRtNu2tbu9EcygFlEbNjP0BrXrwS5mmuLmSe4ZmlkO9i3Uk85r3ugAooooAKKbJI
kUbSSOqIoyzMcAD3NYy+LtBefyRqUW/OMlWC/wDfWMfrQBt0Vj3finRrG8a0uLzbOuMqInbqARyA
QeCKk03xHpOrXDW9jdiWVV3lfLZeOB3A9RQBqUVXvr62020e6u5RHAmNzYJxk4HA571BpmtafrAk
NhOZhFjefLZcZ6dQPSgC/RRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFeX/Ef/kYbf8A
69F/9DevUK8v+I//ACMNv/16L/6G9AGzo3grTbvQIri8WSS7uovN83zCNm4ZGB0PUdc1xGg2T6nr
EGniV447g4l2HGVHzH+VevaD/wAi9pn/AF6Rf+gCvL/BH/I32P8A20/9FtQBseNfDOnaPpltdWMT
RMZRE4Llt2VJzz9P1rG0S3vfEdxY6Q8jfY7Ys7f7Kk8/4D612PxH/wCRet/+vtf/AEB643RPCV/r
1k91azWyIkhjIlZgcgA9gfWgBPGUSQ+KruKJQkaLEqqOgAjXArv/ABfp+s3lvBLpF1JEYA5kjjlZ
GkztxjHXGD1ry/VdNm0jUpbG4aNpYsbjGSV5APGQPWu80K2j8DxX76te2heVY2SKGQl2A3D7pAPJ
P6GgCj4G1S6l1qdNR1SVv3JVYbiZiS2QcgHjgA+/61mXd7rN/wCJrm00vVLqdZJ3MQhuHCKpJPtg
AfhToLGXxxr9xcR/Z7NMbmAILYHGdvUnkZPSpvD+qJ4R1m5sL9IHRm2PPCQxTHuO3qOo/SgBfFlx
qOn6Vp2iXl0ZpgrTTyB2bzMudvJ5OB/nitjQ/BGmXXh+Ga7WRrm4jEgkVyNgPIwOnTHXNZfxAWK8
ntNTtJo7i3KGBnicMFYHcASO+GrovD/inSk8NW32i8iiktohG8bHDHaMDA6nIHagDgNPgeDxdZ20
zb2ivY4mJ5ztcL+XFaVoh8M+PlhOVhE2wZ/55v0P4Aj8qzrC5+2eMrW627fO1BJMemZAf611PxI0
3i11OMcj9zIR+an+f6UAT/Ei/wDLsbSwU8yuZG+i8D9T+lbHgzTf7N8OQblxLP8Avn/Hp+mK4Vp5
PGHimxjYHYY40f2CjL/ru/SvWQAoAAAA4AFAC0UUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFF
FFABWDrfhKw169S6uprlHSMRgRMoGASe4PrW9RQBDaWyWdlBaxlikMaxqW6kAYGfyrB0rwTpukal
FfW8920sWdokdSvII5wo9a6SigDN1vRLbXrJLW6eVESQSAxEA5AI7g+tGiaJbaDZPa2ryujyGQmU
gnJAHYD0rSooA5vVfBOm6vqUt9cT3ayy43CN1C8ADjKn0qbW/CVhr16l1dTXKOkYjAiZQMAk9wfW
t6igDB0TwlYaDevdWs1y7vGYyJWUjBIPYD0qnd+ANKvL2e6kuLwPNI0jBXXAJOTj5feuqooA5K5t
9C8J6SNNvEuZ7O8kZyXUPhgFHUYx2Ix6Gsq20TwTMBdDVD5fXyZZwn4YIDV3N/p9rqdq1teQrLEe
cHsfUHsa5t/h1ozOSJbxB/dWRcfqtAHF6RDHe+OIfsSYt/thljAGAI1bcPpwK7Lxfr2kS+HZ7eO6
guZZsBEikDEHIOTjpjFbekeHtN0TcbODEjDDSOdzEeme34Vjp8O9FSTcz3bjP3GkGP0AP60AZfw3
0wj7Vqci9f3MRP5sf5frXoFRW1tDZ2yW9vGscMYwqL0FS0AFFFFABRRRQAUUUUAFFFFABRRRQAUU
UUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRR
QAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFA
BRRRQAUUUUAFFFFABRRRQAUUUUAf/9k=
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
15.8s (15.8s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2EzMGM0ZWM3Oi0zYWQ%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlNjdjNjZlNmMzYzMyMGYyNDQxNmUwNjUxYWE0NGQ4Zjk%3D--0750237099267b29c30ce7e6419d9df0764d3272; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 4000
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 17:57:12 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlNjdjNjZlNmMzYzMyMGYyNDQxNmUwNjUxYWE0NGQ4ZjkiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--a6e38a3a121419b4793b9cf59e679cb73339054f; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlNjdjNjZlNmMzYzMyMGYyNDQxNmUwNjUxYWE0NGQ4ZjkiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--a6e38a3a121419b4793b9cf59e679cb73339054f
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
4.4s (20.1s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2EzMGM0ZWM3Oi0zYWQ%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlNjdjNjZlNmMzYzMyMGYyNDQxNmUwNjUxYWE0NGQ4ZjkiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--a6e38a3a121419b4793b9cf59e679cb73339054f; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=NWY2NWUwNTg6MTMzYTJmYjMwNjM6NDc0Mw%3D%3D
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 347
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 17:57:16 GMT
response-header: content-length => 147
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 147 bytes (147 total)
Authorization key: NWY2NWUwNTg6MTMzYTJmYjMwNjM6NDc0Mw%3D%3D
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=NWY2NWUwNTg6MTMzYTJmYjMwNjM6NDc0Mw%3D%3D">redirected</a>.</body></html>
0.5s (20.7s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzYTJmYjMwNjM6NDc0Mw%3D%3D ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzYTJmYjMwNjM6NDc0Mw%3D%3D
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 126
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 17:57:18 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "d0187a0ca8568cc45f07598b57e83fa742a73edf",
  "access_token": "35f13eb15cd784f51679c249d8c1e176"
}
ACCESS TOKEN: 35f13eb15cd784f51679c249d8c1e176
Refresh TOKEN: d0187a0ca8568cc45f07598b57e83fa742a73edf
1.2s (21.9s total) OK. Access token: d0187a0ca8568cc45f07598b57e83fa742a73edf...

NEXT TEST: device_info_json 22
3.1s (25.0s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=35f13eb15cd784f51679c249d8c1e176
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=35f13eb15cd784f51679c249d8c1e176
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=35f13eb15cd784f51679c249d8c1e176
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
9.2s (34.1s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=35f13eb15cd784f51679c249d8c1e176
Net::HTTP::Get: /1/devices/tel:123/info?access_token=35f13eb15cd784f51679c249d8c1e176
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
0.6s (34.7s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (37.7s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=35f13eb15cd784f51679c249d8c1e176
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=35f13eb15cd784f51679c249d8c1e176
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
5.6s (43.4s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=35f13eb15cd784f51679c249d8c1e176
Net::HTTP::Get: /1/devices/tel:123/info?access_token=35f13eb15cd784f51679c249d8c1e176
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
16.1s (59.4s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (62.4s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=35f13eb15cd784f51679c249d8c1e176&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=35f13eb15cd784f51679c249d8c1e176&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
5.5s (67.9s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=35f13eb15cd784f51679c249d8c1e176&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=35f13eb15cd784f51679c249d8c1e176&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
5.9s (73.8s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (76.9s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x10221a9f0>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=35f13eb15cd784f51679c249d8c1e176
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=35f13eb15cd784f51679c249d8c1e176
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
4.2s (81.1s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=35f13eb15cd784f51679c249d8c1e176
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=35f13eb15cd784f51679c249d8c1e176
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=35f13eb15cd784f51679c249d8c1e176
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=35f13eb15cd784f51679c249d8c1e176
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
8.5s (89.6s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=35f13eb15cd784f51679c249d8c1e176&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=35f13eb15cd784f51679c249d8c1e176&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=35f13eb15cd784f51679c249d8c1e176&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=35f13eb15cd784f51679c249d8c1e176&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
11.0s (100.6s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (103.6s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=35f13eb15cd784f51679c249d8c1e176
Request: https://api.att.com/1/messages/outbox/sms?access_token=35f13eb15cd784f51679c249d8c1e176
Net::HTTP::Post: /1/messages/outbox/sms?access_token=35f13eb15cd784f51679c249d8c1e176
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzYTJmYjMwNjM6NDc0Mw%3D%3D
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 17:58:40 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b598c3c57f09d5"
  },
  "id": "SMSa9b598c3c57f09d5"
}
0.7s (104.3s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (107.3s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=35f13eb15cd784f51679c249d8c1e176
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=35f13eb15cd784f51679c249d8c1e176
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=35f13eb15cd784f51679c249d8c1e176
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 17:58:43 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b487b5e055d14a"
  },
  "id": "SMSa9b487b5e055d14a"
}
16.3s (123.6s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.1s (126.7s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=35f13eb15cd784f51679c249d8c1e176
Request: https://api.att.com/1/messages/outbox/mms?access_token=35f13eb15cd784f51679c249d8c1e176
Net::HTTP::Post: /1/messages/outbox/mms?access_token=35f13eb15cd784f51679c249d8c1e176
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_13177983.1321293543032"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=35f13eb15cd784f51679c249d8c1e176
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 17:59:03 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36ceac"
  },
  "id": "MMSa9b11c1e5b36ceac"
}
1.2s (127.9s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36ceac?access_token=35f13eb15cd784f51679c249d8c1e176
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b11c1e5b36ceac?access_token=35f13eb15cd784f51679c249d8c1e176
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 17:59:07 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b11c1e5b36ceac"
  }
}
3.7s (131.6s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.0s (134.6s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=35f13eb15cd784f51679c249d8c1e176
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=35f13eb15cd784f51679c249d8c1e176
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_11941351.1321293551023"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36ceac?access_token=35f13eb15cd784f51679c249d8c1e176
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 17:59:11 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b5c707572daad7"
}
1.0s (135.6s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.0s (138.6s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=35f13eb15cd784f51679c249d8c1e176
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321293555013",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=35f13eb15cd784f51679c249d8c1e176
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=35f13eb15cd784f51679c249d8c1e176
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Mon, 14 Nov 2011 17:59:20 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
14.8s (153.4s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=35f13eb15cd784f51679c249d8c1e176
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321293569781</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=35f13eb15cd784f51679c249d8c1e176
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=35f13eb15cd784f51679c249d8c1e176
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Mon, 14 Nov 2011 17:59:37 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
11.3s (164.7s total) OK. New subscription request SEN1321293581109...
Request: : https://api.att.com/1/payments/transactions?access_token=35f13eb15cd784f51679c249d8c1e176
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchanesponse-header: date => Mon, 14 Nov 2011 17:56:40 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPInternalServerError 1.1 500 Internal Server Error
response-header: connection => close
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: date => Mon, 14 Nov 2011 17:57:04 GMT
response-header: content-length => 552
response-header: content-encoding => gzip
response-header: vary => Accept-Encoding
response-header: cache-control => no-cache
response-header: status => 500 Internal Server Error
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 534 bytes (544 total)
Read 8 bytes (552 total)
gzip body
500 => Net::HTTPInternalServerError

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=t2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321293581109",
  "externalMerchantTransactionID": "SenchaTransId1321293581121",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=35f13eb15cd784f51679c249d8c1e176
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=35f13eb15cd784f51679c249d8c1e176
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Mon, 14 Nov 2011 17:59:43 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 13
response-header: date => Mon, 14 Nov 2011 18:56:40 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "a7db93ad53f30abd2d1a38d884b06fac"
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 383
response-header: date => Mon, 14 Nov 2011 18:57:04 GMT
response-header: content-length => 1459
response-header: content-encoding => gzip
response-header: set-cookie => sessionId=EUID%3DLTExOWE0NWM2OjEzM2EzNWFiMzBhOi02Y2Fm%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com; path=/
response-header: keep-alive => timeout=5, max=100
response-header: vary => Accept-Encoding
response-header: cache-control => private, max-age=0, must-revalidate
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 1441 bytes (1451 total)
Read 8 bytes (1459 total)
gzip body
saved cookie: sessionId=EUID%3DLTExOWE0NWM2OjEzM2EzNWFiMzBhOi02Y2Fm%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Generic Checkout Page | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1321294601" type="text/javascript"></script>
<script src="/javascripts/effects.js?1321294601" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1321294601" type="text/javascript"></script>
<script src="/javascripts/controls.js?1321294601" type="text/javascript"></script>
<script src="/javascripts/application.js?1321294601" type="text/javascript"></script>
	<script src="/javascripts/application.js?1321294601" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo" id="logo_title">Consent Request</h1>
<img src="/images/att.png" alt="" id="logo" height="28" width="28" />
</header-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 7
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 18:57:00 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "94dfd612bccc3efde7b7878d8ba500ce"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1754
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 18:57:01 GMT
response-header: content-length => 8806
response-header: set-cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2EzNWZiZTA5Oi01YjM1%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlZjEzZDQyOGMxM2NjYWQ3MDUxYzFkYzJhZGZlYmZkNjU%3D--f78b6d5308cbf53a6763aaeabcb23ca7d7881b8b; path=/; HttpOnly, BIGipServeruser_profile_443=269098924.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 8000 bytes (8000 total)
Read 806 bytes (8806 total)
saved cookie: sessionId=EUID%3DLTE2MjkxNzcxOjEzM2EzNWZiZTA5Oi01YjM1%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlZjEzZDQyOGMxM2NjYWQ3MDUxYzFkYzJhZGZlYmZkNjU%3D--f78b6d5308cbf53a6763aaeabcb23ca7d7881b8b
saved cookie: BIGipServeruser_profile_443=269098924.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="10211556576092162" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KiuLmC0gaa4lSKJeru2AKlrzj4k3E51CztiWFuIvMA7FiSD+QA/OgDq18Y+H2l8sakm7OMlGA/Mj
FbUciSxrJG6ujDKspyCPY15rqPhvTbbwJBqceftZSOQvvPzFiMrjpxn9K1fhtcTyafewOSYYnUx5
7E5yB+QP40AdvRRRQAUUUUAFFFU9S1Wy0i3W4vpvKiZwgbaW5wTjgH0NAFyisl/E2jR2UV49/GsM
2TGSDubBIPy4z1B7VNp2uaZqxK2N5HKwGSvKtj1wcGgDQoorzS78TeMIIpJpbZ4IU4aQ2pCjnHUj
1NAHpdFY/ha+uNS8OWl3dyeZPJv3NtAzh2A4HHQCtigAooooAKKKKACiiigAooooAKKKKACiiigA
ooooAKKKKACuG+IOqWKxR6e9ss93jerk48kH6dc46V3NeT+PrWWHxNJO4PlzorRntwApH5j9aAIr
vw3rtv4eju55C1kgEn2fzSTGD329B17c1nnVLuGNn0+5msoMqDBDO4AbaMt+OCf8ivQdX8U6VceF
Lh47mJpriAxrAG+dWYY5HbGevtXB6Vo8t/pGq3gQ7LaIFTjjduBP5KD+dAHaw6neeFPDK3Gpzf2j
PcT7of37H5CoPVhkYwe3eqfi241KaytddsNRkt7F4EXyo53Vi5JPQcdCPyrKs9/i660nTCzLDZ2h
ErehHGf0QVSlu7i40m08NuD9ohvWXHp2A/76ZqANKLS/FMuhnVhrUqwCFptjXcu/aAT0xjoPWq+i
TeKtaV7ey1C48tDl5ZJThSR03cnt0Feh6tAlt4VvoIxhIrKRFHsEIFcd4D8QWFhaTWF5KsDNL5iS
PwpyAME9unegCK7l8WeE3juLm8N1bs2CWkMiE+h3cirfi/VIdZ8FWV7CNoe6UMp6qwV8ip/G3iPT
ZtFk0+1uI7maZlyYmDBACDnI4zxisG9sZrL4c2vnqVM9+JlU9QpRgPzxn8aALXgrw1aazbz3eoK0
sUbeVHHvKjOMnpz3H61meILBvC3iVfsMjKAFmhJOSASRg+vIP4Vt+ANdsrK1ubC8uI4C0nmo0jBV
OQARk/QVj+MNQi1vxIv2E+cqosCFR985J4/FsUAab6/r/irUTaaQxtYVGSVbbgerN1/AVV1628T6
TpclvqN19qspyqs+8yBSCGHJGR0+lP8ABGq2+h6neWmon7OZdq73GNjKTwfTr+lbXjXxHpsuiS2F
tcxXM05X/VMGCgEHJI47YoA1vBH/ACKFj/20/wDRjV0Fcx4HvLVvDVnarcwm5USFoQ43gb25I69x
+ddPQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABVTUdMs9Vtvs97AssecjPBU+oPUV
booA5Nfh3ool3l7tlz9wyDH8s/rXRQadaW1h9hggWO22ldi+h6/WrVFAGNofhmx8PvM9q0ztKAC0
rAkAdhgCmN4U05vEA1nMwuA+/YGGzdjGcYz79etblFAHN+L9dtdM02WymjmaS8t5EjKAEA4xzkj1
rgNKu/D66U9tq1pdPcecXSa3CghSAMZJHcHt3r1u5sLO9Km6tIJyv3TLGGx9Miq/9haR/wBAqx/8
B0/woAxdG8HaEkVvfpFNOJEWWMXLA7cjIyAAP51D8R/+Rdt/+vtf/QHrrkRIo1jjVURQFVVGAAOg
ArP1vRLbXrNLW6eVESQSAxEA5AI7g+poA47wfoGn654YmS8iJZLttkiHDL8id/8AGum0jwjpWjTi
4gSSWcfdkmYMV+mABVvRNEttBs3tbV5XR5DITKQTkgDsB6CtKgDG1fwtpetP5tzCyT4x5sR2sfr2
P4iqCeAdFS0lgxOzSADzmcF1wQeOMDpjp0rqKKAOf0bwhp+h3xu7aa5eQoUxKykYOPRR6V0FFFAB
RRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFF
FFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUU
UAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAH/9k=
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
22.7s (22.7s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2EzNWZiZTA5Oi01YjM1%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlZjEzZDQyOGMxM2NjYWQ3MDUxYzFkYzJhZGZlYmZkNjU%3D--f78b6d5308cbf53a6763aaeabcb23ca7d7881b8b; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 3779
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 18:57:19 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlZjEzZDQyOGMxM2NjYWQ3MDUxYzFkYzJhZGZlYmZkNjUiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--6f56ce3e99f9dd475860c53f353c976c6b13209e; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4096 bytes (4096 total)
Read 338 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlZjEzZDQyOGMxM2NjYWQ3MDUxYzFkYzJhZGZlYmZkNjUiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--6f56ce3e99f9dd475860c53f353c976c6b13209e
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
4.1s (26.8s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2EzNWZiZTA5Oi01YjM1%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlZjEzZDQyOGMxM2NjYWQ3MDUxYzFkYzJhZGZlYmZkNjUiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--6f56ce3e99f9dd475860c53f353c976c6b13209e; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=NWY2NWUwNTg6MTMzYTM0YjkzMDI6LWE5ZA%3D%3D
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 451
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 18:57:23 GMT
response-header: content-length => 147
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 147 bytes (147 total)
Authorization key: NWY2NWUwNTg6MTMzYTM0YjkzMDI6LWE5ZA%3D%3D
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=NWY2NWUwNTg6MTMzYTM0YjkzMDI6LWE5ZA%3D%3D">redirected</a>.</body></html>
0.7s (27.5s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzYTM0YjkzMDI6LWE5ZA%3D%3D ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzYTM0YjkzMDI6LWE5ZA%3D%3D
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 132
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 18:57:24 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "9390cf090b813d5ebbab20c1ccbea47b90756d58",
  "access_token": "6c5d200bfeee4ffb06dd2062f9444194"
}
ACCESS TOKEN: 6c5d200bfeee4ffb06dd2062f9444194
Refresh TOKEN: 9390cf090b813d5ebbab20c1ccbea47b90756d58
0.9s (28.4s total) OK. Access token: 9390cf090b813d5ebbab20c1ccbea47b90756d58...

NEXT TEST: device_info_json 22
3.0s (31.4s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=6c5d200bfeee4ffb06dd2062f9444194
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=6c5d200bfeee4ffb06dd2062f9444194
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=6c5d200bfeee4ffb06dd2062f9444194
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
5.5s (36.9s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=6c5d200bfeee4ffb06dd2062f9444194
Net::HTTP::Get: /1/devices/tel:123/info?access_token=6c5d200bfeee4ffb06dd2062f9444194
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPInternalServerError 1.1 500 Internal Server Error
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 169
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 169 bytes (169 total)
500 => Net::HTTPInternalServerError
{"requestError": {

    "serviceException": {

        "messageId": "SVC0001",

        "text": "Internal platform error occurred " ,

        "variables" : " "    }

}}
123.6s (160.5s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (163.5s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=6c5d200bfeee4ffb06dd2062f9444194
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=6c5d200bfeee4ffb06dd2062f9444194
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
3.2s (166.7s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=6c5d200bfeee4ffb06dd2062f9444194
Net::HTTP::Get: /1/devices/tel:123/info?access_token=6c5d200bfeee4ffb06dd2062f9444194
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
0.2s (166.8s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (169.8s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=6c5d200bfeee4ffb06dd2062f9444194&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=6c5d200bfeee4ffb06dd2062f9444194&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
5.6s (175.5s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=6c5d200bfeee4ffb06dd2062f9444194&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=6c5d200bfeee4ffb06dd2062f9444194&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
1.1s (176.6s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (179.6s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x1023fba08>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=6c5d200bfeee4ffb06dd2062f9444194
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=6c5d200bfeee4ffb06dd2062f9444194
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
5.8s (185.4s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=6c5d200bfeee4ffb06dd2062f9444194
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=6c5d200bfeee4ffb06dd2062f9444194
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=6c5d200bfeee4ffb06dd2062f9444194
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=6c5d200bfeee4ffb06dd2062f9444194
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
7.7s (193.1s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=6c5d200bfeee4ffb06dd2062f9444194&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=6c5d200bfeee4ffb06dd2062f9444194&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=6c5d200bfeee4ffb06dd2062f9444194&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=6c5d200bfeee4ffb06dd2062f9444194&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
11.3s (204.5s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (207.5s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=6c5d200bfeee4ffb06dd2062f9444194
Request: https://api.att.com/1/messages/outbox/sms?access_token=6c5d200bfeee4ffb06dd2062f9444194
Net::HTTP::Post: /1/messages/outbox/sms?access_token=6c5d200bfeee4ffb06dd2062f9444194
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzYTM0YjkzMDI6LWE5ZA%3D%3D
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 19:00:23 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b487b5e055d14d"
  },
  "id": "SMSa9b487b5e055d14d"
}
0.6s (208.1s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (211.1s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=6c5d200bfeee4ffb06dd2062f9444194
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=6c5d200bfeee4ffb06dd2062f9444194
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=6c5d200bfeee4ffb06dd2062f9444194
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 19:00:27 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b1604502ecf44a"
  },
  "id": "SMSa9b1604502ecf44a"
}
0.7s (211.8s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.1s (215.0s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=6c5d200bfeee4ffb06dd2062f9444194
Request: https://api.att.com/1/messages/outbox/mms?access_token=6c5d200bfeee4ffb06dd2062f9444194
Net::HTTP::Post: /1/messages/outbox/mms?access_token=6c5d200bfeee4ffb06dd2062f9444194
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_18811133.1321297231228"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=6c5d200bfeee4ffb06dd2062f9444194
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 19:00:32 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36ceae"
  },
  "id": "MMSa9b11c1e5b36ceae"
}
1.2s (216.2s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36ceae?access_token=6c5d200bfeee4ffb06dd2062f9444194
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b11c1e5b36ceae?access_token=6c5d200bfeee4ffb06dd2062f9444194
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 19:00:35 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b11c1e5b36ceae"
  }
}
3.5s (219.7s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.0s (222.7s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=6c5d200bfeee4ffb06dd2062f9444194
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=6c5d200bfeee4ffb06dd2062f9444194
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_12435391.1321297239097"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36ceae?access_token=6c5d200bfeee4ffb06dd2062f9444194
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 19:00:38 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b4a1507be34a6e"
}
0.8s (223.5s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.0s (226.5s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=6c5d200bfeee4ffb06dd2062f9444194
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321297242857",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=6c5d200bfeee4ffb06dd2062f9444194
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=6c5d200bfeee4ffb06dd2062f9444194
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Mon, 14 Nov 2011 19:00:48 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
15.4s (241.9s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=6c5d200bfeee4ffb06dd2062f9444194
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321297258232</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=6c5d200bfeee4ffb06dd2062f9444194
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=6c5d200bfeee4ffb06dd2062f9444194
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Mon, 14 Nov 2011 19:00:57 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api>
	<form action="/off_net_consent_wireless" id="off_net_consent_wireless" method="post">
	<p><strong>Sencha API Poller</strong>  by Jason Cline, is requesting do the following: 
		<div id="firstCol_b">
			<ul>
				
				
					<li>Location - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
					<li>Device Capabilities - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
				
				
				
				
				
				
				
			</ul>
			<p>If ok, enter the wireless phone number and click Allow. A verification message will be sent.	</p>
		</div>
	<br><p></p>
	<br>
	<form action="" id="signup" method="post">
		<div id="firstCol_b">
			<label for="phone"><span>Wireless Number</span></label> 
		</div>
		<div id="firstCol_a">
			<img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50">
		</div>
		<div class="input-c" id="firstCol_b" style="right: 9px; top: 9px">
			<input id="login_wireless" name="login[wireless]" size="30" style="color:silver;" type="text" />
			<input id="login_client_id" name="login[client_id]" type="hidden" value="cddc0328b4c56103f8febb0194df7fd8" />
			<input id="login_scope" name="login[scope]" type="hidden" value="TL,DC,WAP,SMS,MMS,PAYMENT" />
			<input id="login_id" name="login[id]" type="hidden" />
			<!--<input  name="phone" type="text" value="4252221234" style="color: silver;">-->
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="javascript:submit_off_net_wireless();">Allow</a>
			</p>
			<p>
				<a class="button cancel" href="/deny_pin">Cancel</a>
			</p>
			<p style="text-align:center; margin-left:10px;color:red;"></p>
			<br>
			<p><SMALL>Refer to Craftguilds Privacy Policy for details on how this information may be used or shared.</SMALL>
			</p>
		</div>
	</form>
	<form action="" id="signup" method="post">
		<hr style="clear:both">   
		<h3>Existing Users</h3><!--move h3 to css and style center it-->
		<!--begin email address-->
		<p>To allow use with another account click  the <strong> Sign in to another account </strong> button.  To sign in and manage consent settings click <strong> Manage Consent</strong>. 
		</p>
		<!--begin SIGNIN/Manage Profile Buttons -->
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=true">SignIn to another account</a>
			</p>
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=mc">Manage Consent</a>
			</p>
		</div>
	</form>

<footer>
</footer>
</body>
</html>
#<NoMethodError: undefined method `value=' for nil:NilClass>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
3.5s (245.3s total) OK. New subscription request SEN1321297261720...
Request: : https://api.att.com/1/payments/transactions?access_token=6c5d200bfeee4ffb06dd2062f9444194
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321297261720",
  "externalMerchantTransactionID": "SenchaTransId1321297261805",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=6c5d200bfeee4ffb06dd2062f9444194
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=6c5d200bfeee4ffb06dd2062f9444194
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Mon, 14 Nov 2011 19:01:01 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.1s (0.1s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 7
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 19:57:03 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d5b89fe525df05fd5483dc6deaa39588"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 5819
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 19:57:03 GMT
response-header: content-length => 8662
response-header: set-cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYTM5YzZiMzI6LTVkYzA%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlMzk2YWMxMjI3NzI4ZWQ1NjkxZWQ5Y2EzYzg2MmM2MDE%3D--b78415da681224f7db46b36d3ad01974fe6e1028; path=/; HttpOnly, BIGipServeruser_profile_443=470425516.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4096 bytes (4096 total)
Read 4566 bytes (8662 total)
saved cookie: sessionId=EUID%3DNWY2NWUwNTg6MTMzYTM5YzZiMzI6LTVkYzA%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlMzk2YWMxMjI3NzI4ZWQ1NjkxZWQ5Y2EzYzg2MmM2MDE%3D--b78415da681224f7db46b36d3ad01974fe6e1028
saved cookie: BIGipServeruser_profile_443=470425516.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="19865400391092491" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKKKACiuX8WeKzoPk29okUt2/wAzCQEhV98Ecn+lanh3UptX0G2vrhY1ll3bhGCF4YjjJPpQBqUV
yPi3xFqGnahaaZpir9puADuYAnltqgZ46g9aok/ECIgkxyA+gi4/kaAO8orF07xPpF5GY01FJJIY
t8rtG0YwMAtyAByR+dEfi7QZZxCupR7ycZZWVf8AvojH60AbVFZ+p65pujiE31z5Qmz5fyM27GM9
AfUVDc+JtGtIopJ7+NRKiyIMEsVIyDtAyOPWgDWoqnp+rWGqxl7G6jmC9QvBH1B5Fcje+Pbia8a2
0PTzdbf42VmLe4VecUAd1RXDWHj2aK9W11ywNqxIBdVZdv1Vuce9dyCCAQcg96ACiiigAooooAKK
KKACiiigAooooAKKKKACiiigAooooAKKKKACqWranBpGmzXs5+VB8q92bsBV2uX8X+HtQ1/7KlpP
CkUW4ssrMMscYPAPvQBx72E+o+HtW8SX/wA0srKsOf8ArooJHsB8o/Guw8LxTT/D+KG3k8ueSKZY
3yRtYs4ByORzXFanpuo2GmSwzeIbSaGHCNZxXrMeGAwEI7Hn2xWz4GWeFo7mbWbf7GsUhNmbo7o8
Hlih4A6nPvmgDD1XStYtfENlZ3l/519L5fkzec7bMuQvzEZGDk8V01p4Z8VxXkEk2ub4kkVnX7XK
dyg8jBFUfEt/Zz+O9IuIbuCSCPyd8iSAquJSTkjgcc13Ka3pMjqiapZM7HCqLhCSfTrQB4/oennV
dZtrDeyLM2HK/wB0fMf5V1vi7wjp+naL9usI2iaFlEgLlgwJxnnvkjpXKeHtQTStetLyXPlxuQ+B
nAIKk/ka7fxr4h06fw81pa3cVxJcMvEbBtqghsnHToOKAOFu9Slu9JsbSVixtWkCE9lbbgfmDXX+
EvCVhqejC/1FHmaYlYxvKhFX5e3fg1xUtlJDpttdupCzySKme4Xbz+ZI/Cu/8E+ItPh0FbK7uore
S3ZseawUMpJORnryTxQBypMnhPxgyRSMUglAOf4ozg4P4H869Q0vQ9O0Yymwt/K83G/52bOM46k+
pry3U5V8Q+L5Xtz+6nlVQx4wigAsfQYGa6LX/GD6jMdM0aZIo3+WS6kkEYI74Jxge/U9qAKfjy/g
1XWLWysh500O5GZBnczEYUeuMfrXomnwPa6ba28jbnihRGPqQADXDWj6J4PsY7yOe21TUHcIxinU
+WCCSVHOBxjPv+Fd3Y3IvdPtrsLsE8SyBSc43AHH60AT0UUUAFFFFABRRRQAUUUUAFFFFABRRRQA
UUUUAFFFFABRRRQAUUUUAcrdeANKu7ye5kuL0PNI0jBXXAJOTj5aksvA2mWDTtFPdkzQvA2514Vh
g4+XrXTUUAcf/wAK40f/AJ+b7/vtP/iakt/h9pNtcxTpcXpeJw6gumMg5/u11lFAHjfg+CK58U2k
M0ayROJAysMgjy2rux8P9DFz5uLgpnPlGT5fp0z+tS6X4K03SNSivrea6aWLO0SOpXkEc4UetdJQ
B558SIY7eHSIYUVI0EqqqjAA+SrWg+GNM1zwlp8l1G6TASDzYjtYjzG4PBBrodd8OWfiD7P9rknT
yN23ymAzuxnOQfQVc0vTYdI02Kxt2doos7TIQW5JPOAPWgDP07wnpemW88cEbl5ozG0ztl9pGDjj
A/Ksv/hXGj/8/N9/32n/AMTXYUUAcf8A8K40f/n5vv8AvtP/AImuqtLZLOygtYyxSGNY1LdSAMDP
5VNRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAF
FFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUU
UUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAf/9k=
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
13.4s (13.5s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYTM5YzZiMzI6LTVkYzA%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlMzk2YWMxMjI3NzI4ZWQ1NjkxZWQ5Y2EzYzg2MmM2MDE%3D--b78415da681224f7db46b36d3ad01974fe6e1028; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 4393
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 19:57:09 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlMzk2YWMxMjI3NzI4ZWQ1NjkxZWQ5Y2EzYzg2MmM2MDEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--6e50598062f5839deb12fc5745dbd9725bae8c05; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlMzk2YWMxMjI3NzI4ZWQ1NjkxZWQ5Y2EzYzg2MmM2MDEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--6e50598062f5839deb12fc5745dbd9725bae8c05
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
4.6s (18.1s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYTM5YzZiMzI6LTVkYzA%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlMzk2YWMxMjI3NzI4ZWQ1NjkxZWQ5Y2EzYzg2MmM2MDEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--6e50598062f5839deb12fc5745dbd9725bae8c05; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzM2EzNWZiZTA5OjRkODI%3D
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 538
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 19:57:14 GMT
response-header: content-length => 145
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 145 bytes (145 total)
Authorization key: LTE2MjkxNzcxOjEzM2EzNWZiZTA5OjRkODI%3D
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzM2EzNWZiZTA5OjRkODI%3D">redirected</a>.</body></html>
0.9s (19.0s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2EzNWZiZTA5OjRkODI%3D ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2EzNWZiZTA5OjRkODI%3D
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 97
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 19:57:15 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "013f092e2249344e737dd63aa4fd1890c5a3c495",
  "access_token": "cf0c45d1b2b99ef74ca0bb0792c1fe2d"
}
ACCESS TOKEN: cf0c45d1b2b99ef74ca0bb0792c1fe2d
Refresh TOKEN: 013f092e2249344e737dd63aa4fd1890c5a3c495
0.7s (19.7s total) OK. Access token: 013f092e2249344e737dd63aa4fd1890c5a3c495...

NEXT TEST: device_info_json 22
3.0s (22.7s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
7.9s (30.6s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
Net::HTTP::Get: /1/devices/tel:123/info?access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
0.1s (30.7s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (33.7s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
3.2s (36.9s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
Net::HTTP::Get: /1/devices/tel:123/info?access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPInternalServerError 1.1 500 Internal Server Error
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 185
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 185 bytes (185 total)
500 => Net::HTTPInternalServerError
<RequestError>
<ServiceException>
    <MessageId>SVC0001</MessageId>
    <Text>Internal platform error occurred </Text>
    <Variables>  </Variables>
</ServiceException>
</RequestError>
123.8s (160.7s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (163.7s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
96.6s (260.3s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
2.6s (262.9s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (265.9s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x1023831e8>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
5.6s (271.5s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
8.9s (280.4s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
11.4s (291.8s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (294.8s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
Request: https://api.att.com/1/messages/outbox/sms?access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
Net::HTTP::Post: /1/messages/outbox/sms?access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2EzNWZiZTA5OjRkODI%3D
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 20:01:51 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b487b5e055d155"
  },
  "id": "SMSa9b487b5e055d155"
}
0.6s (295.5s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (298.5s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 20:01:55 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b598c3c57f09e1"
  },
  "id": "SMSa9b598c3c57f09e1"
}
0.7s (299.2s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.1s (302.2s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
Request: https://api.att.com/1/messages/outbox/mms?access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
Net::HTTP::Post: /1/messages/outbox/mms?access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_15717549.1321300918536"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 20:01:58 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b6fdb"
  },
  "id": "MMSa9b4644d651b6fdb"
}
0.9s (303.2s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b6fdb?access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b4644d651b6fdb?access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 20:02:01 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b4644d651b6fdb"
  }
}
3.4s (306.5s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.0s (309.5s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_14402644.1321300925933"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b6fdb?access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 20:02:06 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b5c707572daadf"
}
1.0s (310.5s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.1s (313.6s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321300929956",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Mon, 14 Nov 2011 20:02:13 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
13.3s (326.9s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321300943243</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Mon, 14 Nov 2011 20:02:25 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
6.3s (333.1s total) OK. New subscription request SEN1321300949518...
Request: : https://api.att.com/1/payments/transactions?access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321300949518",
  "externalMerchantTransactionID": "SenchaTransId1321300949529",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=cf0c45d1b2b99ef74ca0bb0792c1fe2d
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Mon, 14 Nov 2011 20:02:30 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, te_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.2s (0.2s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPNotFound 1.1 404 Not Found
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html;charset=utf-8
response-header: server => Apache-Coyote/1.1
response-header: date => Mon, 14 Nov 2011 19:57:37 GMT
response-header: content-length => 394
response-header: content-encoding => gzip
response-header: keep-alive => timeout=5, max=100
response-header: vary => Accept-Encoding
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 376 bytes (386 total)
Read 8 bytes (394 total)
gzip body
404 => Net::HTTPNotFound

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.4s (0.4s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 12
response-header: date => Mon, 14 Nov 2011 20:56:50 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "413af1aa5b4aa1ed708a278dbe1d0f8f"
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 901
response-header: date => Mon, 14 Nov 2011 20:57:15 GMT
response-header: content-length => 1456
response-header: content-encoding => gzip
response-header: set-cookie => sessionId=EUID%3DNzIwYjQ1YTU6MTMzYTM3NTFlM2Q6LTFjNDY%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com; path=/
response-header: keep-alive => timeout=5, max=100
response-header: vary => Accept-Encoding
response-header: cache-control => private, max-age=0, must-revalidate
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 1438 bytes (1448 total)
Read 8 bytes (1456 total)
gzip body
saved cookie: sessionId=EUID%3DNzIwYjQ1YTU6MTMzYTM3NTFlM2Q6LTFjNDY%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Generic Checkout Page | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/effects.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/controls.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
	<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
</head>
<bodyst = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.4s (0.4s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 8
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 20:57:18 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "6deaba0a2adad95eddc30a5682a4d978"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 851
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 20:57:20 GMT
response-header: content-length => 8672
response-header: set-cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2EzYjJjZjlmOi04ZmE%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlZjgyMTlmM2RjNjAzYThkMzdlM2M5OTE4ZWI4ODRlZTM%3D--a47bc53f7d990d593d9496da6578a6e33b789bfd; path=/; HttpOnly, BIGipServeruser_profile_443=269098924.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 7472 bytes (7472 total)
Read 1200 bytes (8672 total)
saved cookie: sessionId=EUID%3DLTE2MjkxNzcxOjEzM2EzYjJjZjlmOi04ZmE%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlZjgyMTlmM2RjNjAzYThkMzdlM2M5OTE4ZWI4ODRlZTM%3D--a47bc53f7d990d593d9496da6578a6e33b789bfd
saved cookie: BIGipServeruser_profile_443=269098924.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="10218774921331875" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKKjnnitoHnmdUijUszN0AoAkpGYKpZiAAMkntXC3Xj+5uLlodF0xp8dGdWYt/wFen51n6lqXi3X
LJ7J9Ikhjb5nMdu6FgO2WP6UAdhJ4v0CObym1KMtnGVVmX8wMVrwzxXMKzQSJJG4yrocg/jXmUHg
o/8ACL3WpXjzQXcaPIkTDAAXPUEZycHH4Uvgm+1NYtSs7AB5PI86JH+6HDAd+OQf0oA9QorgtH17
xA3jC30nVJET73mxKif88yw5H4Hg13tABRRWNc+LNCtJjFLqMe8HBCKz4/FQaANmiqtlqNnqURls
7mOdBwShzj6jtVSPxJpEupNp6Xg+1IzqyFGABXJbkjHGD3oA1aKxG8X6As/knUo92cZCsV/76xj9
a2Y5EljWSN1dGGVZTkEexoAdRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABXFfE
e9eHS7W0QkC4kLNjuFxx+ZB/Cu1ri/iNYSXGl214ilhbOQ+Oytjn8wPzoA5/Q/EWp6ZpYj0vR0kh
Qlp5jG77j6kjAHFdx4a8SQ+IbV2EflXEWBJHnI56Ee1UPDPiPR4/DlvHLdQW0lvHtkjdgpJHcDvn
rx61wcOsXem6nfajpIMMEsjICUBCqzFlHPGcCgDtPHMWuXEZjsEkbTxDun2FeTk/8CPA6Co/h9da
ULeW2t0dL8jdKZCDvA/u+wz096fZePrD+w1e8d21BEw0YjP7xvXIGADXM+BYW/4SEXjMI7a1jd5p
GOFAKkDJ/HP4UAa8sscPxaaSV1SNRlmY4AH2fuax7FPEmp37Wthq91cKhw06XMgjX8Tj+VW761tP
EHxIe3E4ktZiv7yFwQQsQPB6dRirtnqDeCNcfS7i4WfTZG3AqwLwk9yByOMZHfqPSgBmuS6v4f8A
C4sL2+M91eXDHzRKzkRBVyuWwRz/AD96g8MaP4cn0v7Rq95b+fIxCxPciMoAcZxkHP19q0PHpt9V
0y3vLG5huVtHIl8mQPsD4wTjpyuKz/C9v4UvNNCaosUd5GTuaWdow4zkEfMB7fhQBmW90nhvxbmx
ulmtUlCl0cMHjOCQSODgH8xVbUYHuvF95bRttea+kiB/3nI/rXTJ/wAIHJffZUs5mbeEV1aVlc+2
Gz+lc1qFz9j8Y3V0BnydQeTHriQn+lAHYa74I0y18PzTWayLc28ZkMjOTvA5OR06Z6Yqv8N9SlZ7
rTXYtGq+dGD/AA84b+YrW1/xRpT+Grn7PeRSyXMJjSNTlhuGDkdRgHvWH8NrKQ3l5fFSI1j8kH1J
IJ/LA/OgD0aiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACmyRpLG0ciq6MMMrDI
I9DTqKAOWn+H+iTTmRRcQgnOyOQbf1BP61sQaFpkGlnTktENq33kbncfUnrn3rRooA5Nvh5orS7w
12q5+4JBj9Rn9a2l0Kwi0ibTLeLyLeVCrmM/Mc98nOT9a0qKAOb0rwTpukalFfW8920sWdokdSvI
I5wo9aNV8E6bq+pS31xPdrLLjcI3ULwAOMqfSukooAxdG8MWGiR3UcDTTJchRIs5VgQM8cAf3jVC
5+H+iXEpdBcQZOdsUgx+oNdTRQBi6T4U0nR5RNbws846SytuYfTsPyrzhlDfEEqwBU6rggjgjza9
hrm/+EK03+2f7U8668/7R9o27127t27GNucZ96AI5/AGiTXRmCzxAnJijcBP1GR+ddDZ2dvYWqW1
rEsUKD5VWp6KACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKK
ACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA
KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/
2Q==
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
24.6s (25.0s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2EzYjJjZjlmOi04ZmE%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlZjgyMTlmM2RjNjAzYThkMzdlM2M5OTE4ZWI4ODRlZTM%3D--a47bc53f7d990d593d9496da6578a6e33b789bfd; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 3586
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 20:57:21 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlZjgyMTlmM2RjNjAzYThkMzdlM2M5OTE4ZWI4ODRlZTMiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--1463607bad91f46517e66cc0b0b230d12f4d883f; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlZjgyMTlmM2RjNjAzYThkMzdlM2M5OTE4ZWI4ODRlZTMiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--1463607bad91f46517e66cc0b0b230d12f4d883f
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
7.5s (32.5s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2EzYjJjZjlmOi04ZmE%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlZjgyMTlmM2RjNjAzYThkMzdlM2M5OTE4ZWI4ODRlZTMiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--1463607bad91f46517e66cc0b0b230d12f4d883f; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=NWY2NWUwNTg6MTMzYTM5YzZiMzI6NTM1NA%3D%3D
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 348
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 20:57:29 GMT
response-header: content-length => 147
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 147 bytes (147 total)
Authorization key: NWY2NWUwNTg6MTMzYTM5YzZiMzI6NTM1NA%3D%3D
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=NWY2NWUwNTg6MTMzYTM5YzZiMzI6NTM1NA%3D%3D">redirected</a>.</body></html>
0.8s (33.3s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzYTM5YzZiMzI6NTM1NA%3D%3D ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzYTM5YzZiMzI6NTM1NA%3D%3D
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 124
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 20:57:30 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "2f1fdb346553d1a3bf86811c9be149fdae89f6fc",
  "access_token": "92f4547fcdfabeeee78f0bb640fa1828"
}
ACCESS TOKEN: 92f4547fcdfabeeee78f0bb640fa1828
Refresh TOKEN: 2f1fdb346553d1a3bf86811c9be149fdae89f6fc
0.9s (34.2s total) OK. Access token: 2f1fdb346553d1a3bf86811c9be149fdae89f6fc...

NEXT TEST: device_info_json 22
3.0s (37.3s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=92f4547fcdfabeeee78f0bb640fa1828
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=92f4547fcdfabeeee78f0bb640fa1828
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=92f4547fcdfabeeee78f0bb640fa1828
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
5.8s (43.1s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=92f4547fcdfabeeee78f0bb640fa1828
Net::HTTP::Get: /1/devices/tel:123/info?access_token=92f4547fcdfabeeee78f0bb640fa1828
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
16.1s (59.2s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (62.2s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=92f4547fcdfabeeee78f0bb640fa1828
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=92f4547fcdfabeeee78f0bb640fa1828
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
5.6s (67.7s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=92f4547fcdfabeeee78f0bb640fa1828
Net::HTTP::Get: /1/devices/tel:123/info?access_token=92f4547fcdfabeeee78f0bb640fa1828
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
7.8s (75.5s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (78.5s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=92f4547fcdfabeeee78f0bb640fa1828&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=92f4547fcdfabeeee78f0bb640fa1828&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPInternalServerError 1.1 500 Internal Server Error
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 182
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 182 bytes (182 total)
500 => Net::HTTPInternalServerError
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0001",

        "text": "Internal platform error occurred " ,

        "variables" : " "  }

}})

NEXT TEST: device_info_jsonp_error 17
133.9s (212.4s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=92f4547fcdfabeeee78f0bb640fa1828&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=92f4547fcdfabeeee78f0bb640fa1828&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
2.6s (214.9s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (217.9s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x1023bc8d0>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=92f4547fcdfabeeee78f0bb640fa1828
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=92f4547fcdfabeeee78f0bb640fa1828
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
9.2s (227.2s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=92f4547fcdfabeeee78f0bb640fa1828
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=92f4547fcdfabeeee78f0bb640fa1828
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=92f4547fcdfabeeee78f0bb640fa1828
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=92f4547fcdfabeeee78f0bb640fa1828
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPInternalServerError 1.1 500 Internal Server Error
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 185
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 185 bytes (185 total)
500 => Net::HTTPInternalServerError
<RequestError>
<ServiceException>
    <MessageId>SVC0001</MessageId>
    <Text>Internal platform error occurred </Text>
    <Variables>  </Variables>
</ServiceException>
</RequestError>
129.1s (356.3s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=92f4547fcdfabeeee78f0bb640fa1828&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=92f4547fcdfabeeee78f0bb640fa1828&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=92f4547fcdfabeeee78f0bb640fa1828&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=92f4547fcdfabeeee78f0bb640fa1828&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
11.3s (367.6s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (370.6s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=92f4547fcdfabeeee78f0bb640fa1828
Request: https://api.att.com/1/messages/outbox/sms?access_token=92f4547fcdfabeeee78f0bb640fa1828
Net::HTTP::Post: /1/messages/outbox/sms?access_token=92f4547fcdfabeeee78f0bb640fa1828
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzYTM5YzZiMzI6NTM1NA%3D%3D
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 21:03:11 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b487b5e055d161"
  },
  "id": "SMSa9b487b5e055d161"
}
5.4s (376.0s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (379.1s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=92f4547fcdfabeeee78f0bb640fa1828
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=92f4547fcdfabeeee78f0bb640fa1828
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=92f4547fcdfabeeee78f0bb640fa1828
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 21:03:16 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b598c3c57f09ed"
  },
  "id": "SMSa9b598c3c57f09ed"
}
0.6s (379.6s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.1s (382.7s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=92f4547fcdfabeeee78f0bb640fa1828
Request: https://api.att.com/1/messages/outbox/mms?access_token=92f4547fcdfabeeee78f0bb640fa1828
Net::HTTP::Post: /1/messages/outbox/mms?access_token=92f4547fcdfabeeee78f0bb640fa1828
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_14083279.1321304599138"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=92f4547fcdfabeeee78f0bb640fa1828
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 21:04:32 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b6fdd"
  },
  "id": "MMSa9b4644d651b6fdd"
}
74.1s (456.8s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b6fdd?access_token=92f4547fcdfabeeee78f0bb640fa1828
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b4644d651b6fdd?access_token=92f4547fcdfabeeee78f0bb640fa1828
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 21:04:36 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b4644d651b6fdd"
  }
}
3.4s (460.2s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.0s (463.2s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=92f4547fcdfabeeee78f0bb640fa1828
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=92f4547fcdfabeeee78f0bb640fa1828
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_18568307.1321304679704"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b6fdd?access_token=92f4547fcdfabeeee78f0bb640fa1828
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 21:04:39 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b1524324bb031f"
}
0.6s (463.9s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.0s (466.9s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=92f4547fcdfabeeee78f0bb640fa1828
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321304683376",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=92f4547fcdfabeeee78f0bb640fa1828
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=92f4547fcdfabeeee78f0bb640fa1828
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Mon, 14 Nov 2011 21:04:46 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
12.3s (479.2s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=92f4547fcdfabeeee78f0bb640fa1828
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321304695666</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=92f4547fcdfabeeee78f0bb640fa1828
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=92f4547fcdfabeeee78f0bb640fa1828
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Mon, 14 Nov 2011 21:04:58 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
9.2s (488.4s total) OK. New subscription request SEN1321304704849...
Request: : https://api.att.com/1/payments/transactions?access_token=92f4547fcdfabeeee78f0bb640fa1828
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321304704849",
  "externalMerchantTransactionID": "SenchaTransId1321304704898",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=92f4547fcdfabeeee78f0bb640fa1828
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=92f4547fcdfabeeee78f0bb640fa1828
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Mon, 14 Nov 2011 21:05:05 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"versio class="">
<header>
<h1 class="logo" id="logo_title">Consent Request</h1>
<img src="/images/att.png" alt="" id="logo" height="28" width="28" />
</header>
	<form action="/off_net_consent_wireless" id="off_net_consent_wireless" method="post">
	<p><strong>Sencha API Poller</strong>  by Jason Cline, is requesting do the following: 
		<div id="firstCol_b">
			<ul>
				
				
					<li>Location - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
					<li>Device Capabilities - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
				
				
				
				
				
				
				
			</ul>
			<p>If ok, enter the wireless phone number and click Allow. A verification message will be sent.	</p>
		</div>
	<br><p></p>
	<br>
	<form action="" id="signup" method="post">
		<div id="firstCol_b">
			<label for="phone"><span>Wireless Number</span></label> 
		</div>
		<div id="firstCol_a">
			<img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50">
		</div>
		<div class="input-c" id="firstCol_b" style="right: 9px; top: 9px">
			<input id="login_wireless" name="login[wireless]" size="30" style="color:silver;" type="text" />
			<input id="login_client_id" name="login[client_id]" type="hidden" value="cddc0328b4c56103f8febb0194df7fd8" />
			<input id="login_scope" name="login[scope]" type="hidden" value="TL,DC,WAP,SMS,MMS,PAYMENT" />
			<input id="login_id" name="login[id]" type="hidden" />
			<!--<input  name="phone" type="text" value="4252221234" style="color: silver;">-->
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="javascript:submit_off_net_wireless();">Allow</a>
			</p>
			<p>
				<a class="button cancel" href="/deny_pin">Cancel</a>
			</p>
			<p style="text-align:center; margin-left:10px;color:red;"></p>
			<br>
			<p><SMALL>Refer to Craftguilds Privacy Policy for details on how this information may be used or shared.</SMALL>
			</p>
		</div>
	</form>
	<form action="" id="signup" method="post">
		<hr style="clear:both">   
		<h3>Existing Users</h3><!--move h3 to css and style center it-->
		<!--begin email address-->
		<p>To allow use with another account click  the <strong> Sign in to another account </strong> button.  To sign in and manage consent settings click <strong> Manage Consent</strong>. 
		</p>
		<!--begin SIGNIN/Manage Profile Buttons -->
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=true">SignIn to another account</a>
			</p>
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=mc">Manage Consent</a>
			</p>
		</div>
	</form>

<footer>
</footer>
</body>
</html>
#<NoMethodError: undefined method `value=' for nil:NilClass>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.5s (0.5s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 11
response-header: date => Mon, 14 Nov 2011 21:56:41 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "413af1aa5b4aa1ed708a278dbe1d0f8f"
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1272
response-header: date => Mon, 14 Nov 2011 21:57:06 GMT
response-header: content-length => 1456
response-header: content-encoding => gzip
response-header: set-cookie => sessionId=EUID%3DLTExOWE0NWM2OjEzM2EzNWFiMzBhOjFjNDQ%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com; path=/
response-header: keep-alive => timeout=5, max=100
response-header: vary => Accept-Encoding
response-header: cache-control => private, max-age=0, must-revalidate
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 1438 bytes (1448 total)
Read 8 bytes (1456 total)
gzip body
saved cookie: sessionId=EUID%3DLTExOWE0NWM2OjEzM2EzNWFiMzBhOjFjNDQ%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Generic Checkout Page | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/effects.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/controls.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
	<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo" id="logo_title">Consent Request</h1>
<img src="/images/att.png" alt="" id="logo" height="28" width="28" />
</header>
	<form action="/off_net_consent_wireless" id="off_net_consent_wireless" method="post">
	<p><strong>Sencha API Poller</strong>  by Jason Cline, is requesting do the following: 
		<div id="firstCol_b">
			<ul>
				
				
					<li>Location - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
					<li>Device Capabilities - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
				
				
				
				
				
				
				
			</ul>
			<p>If ok, enter the wireless phone number and click Allow. A verification message will be sent.	</p>
		</div>
	<br><p></p>
	<br>
	<form action="" id="signup" method="post">
		<div id="firstCol_b">
			<label for="phone"><span>Wireless Number</span></label> 
		</div>
		<div id="firstCol_a">
			<img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50">
		</div>
		<div class="input-c" id="firstCol_b" style="right: 9px; top: 9px">
			<input id="login_wireless" name="login[wireless]" size="30" style="color:silver;" type="text" />
			<input id="login_client_id" name="login[client_id]" type="hidden" value="cddc0328b4c56103f8febb0194df7fd8" />
			<input id="login_scope" name="login[scope]" type="hidden" value="TL,DC,WAP,SMS,MMS,PAYMENT" />
			<input id="login_id" name="login[id]" type="hidden" />
			<!--<input  name="phone" type="text" value="4252221234" style="color: silver;">-->
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="javascript:submit_off_net_wireless();">Allow</a>
			</p>
			<p>
				<a class="button cancel" href="/deny_pin">Cancel</a>
			</p>
			<p style="text-align:center; margin-left:10px;color:red;"></p>
			<br>
			<p><SMALL>Refer to Craftguilds Privacy Policy for details on how this information may be used or shared.</SMALL>
			</p>
		</div>
	</form>
	<form action="" id="signup" method="post">
		<hr style="clear:both">   
		<h3>Existing Users</h3><!--move h3 to css and style center it-->
		<!--begin email address-->
		<p>To allow use with another account click  the <strong> Sign in to another account </strong> button.  To sign in and manage consent settings click <strong> Manage Consent</strong>. 
		</p>
		<!--begin SIGNIN/Manage Profile Buttons -->
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=true">SignIn to another account</a>
			</p>
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=mc">Manage Consent</a>
			</p>
		</div>
	</form>

<footer>
</footer>
</body>
</html>
#<NoMethodErn": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.4s (0.4s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 7
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 21:57:04 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "1124980ba4923c29e1bba704420d358c"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1610
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 21:57:05 GMT
response-header: content-length => 8676
response-header: set-cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYTNlY2IxZTM6NjY%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlOWE4ODVjODRiZTc3ODRlOGQzYWI3ZWQxMTM3YmI0Mjg%3D--f142be8323be50d9ebaa0f491be7b3569eb228fe; path=/; HttpOnly, BIGipServeruser_profile_443=470425516.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 8000 bytes (8000 total)
Read 676 bytes (8676 total)
saved cookie: sessionId=EUID%3DNWY2NWUwNTg6MTMzYTNlY2IxZTM6NjY%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlOWE4ODVjODRiZTc3ODRlOGQzYWI3ZWQxMTM3YmI0Mjg%3D--f142be8323be50d9ebaa0f491be7b3569eb228fe
saved cookie: BIGipServeruser_profile_443=470425516.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="10222360370575476" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKKKACiuX8WeKzoPk29okUt2/wAzCQEhV98Ecn+lanh7U5dW0G2v7lY0kk37ggIUYYjuT2FAGpRW
LJ4t0GKfyW1KLfnHyhmX/voDH60+98T6Np7xpc3yqZIxIhVGcMpJAIKgjsaALd/qtjpcYe9uo4Qe
gY8n6DqaqWfinRL6YQ2+oRmRjgK4KZPtuArzfWjJqfjiW3u5GVGuxACT9xN2Bj8Ofxq3430Kw0We
y+wKYxKrb0LlsYxg8885/SgDvL7xTo2m3klpd3nlzx43L5TnGQCOQMdCKr/8Jv4d/wCgh/5Bk/8A
ia5ix8Gz+I7GDVbnUjFLOgBVoNxwo2A53DOQoP41m+IvClv4etEkk1TzZpDiOEQbS3qc7jgCgD0X
TfEWlavcNb2N15sqoXK+Wy8ZAzyB6itSuM8B+H2sLU6pcZE1wm1E/uxkg5PucA/SpNa8dQ2V21lp
1uby4U7WbPyg+gxyaAOvorhbTxP4qnvIEk0TZC8ihn+yy8KTyc5x0ruqACiiigAooooAKKKKACii
igAooooAKKKKACiiigAooooAKKKKACqWranBpGmzXs5+VB8q92bsBV2uX8X+HtQ1/wCypaTwpFFu
LLKzDLHGDwD70Ace9hPqPh7VvEl/80srKsOf+uigkewHyj8asXmpS2nw50q0iYqbp5Q5HdVdsj8S
RVLU9N1Gw0yWGbxDaTQw4RrOK9ZjwwGAhHY8+2KzpbS4bRLe5N/DNChYLaictJCCTklP4QSB09RQ
B1nhHwjp+o6KL6/jaVpmYRgOVCgHGeO+Qetclrlg2l6xcWBkZ0gbCFj/AAn5h/Ou58FeIdOg8PrZ
3d1FbyW7NxIwXcpJbI9ep4riPEOoR6rr93eRZ8uRgEz3AAUH9KANrxVdW+veIltNMswbkP5RnDYM
hHHTpgev9KqazpOpaLeWtzrQF/E3AzMzAgfw5PIqLSZf+Ef8YRNfAqLeVkkJHTIK7v1zXReP9bsL
3TraztLmK4fzfNYxMGCgAjkj6/pQB2Okalaaho8N3bARwBcbDx5eOo/CvO4Gbxl42DSZNqp3bT2i
XoPxP/oVXrNptJ+GVzI2Ve8kPlg/3Wwv6gE1Y+GloNl/eEckrEp9O5/pQB1PiO8bTvDl7cRHa6R7
UI/hJIUH8M15j4b1W70yaU6fpou7xxgMUZyi98BeefWvT/Eli+peHr21iGZGjyo9SpDAfpXHeAdY
0+wiurS8kit5ncOJJDtDDGNpJ9P60AbHh3xk+pagdO1G2FtdnO3AIBI6qQeQa62vN7+4t9Y+I1g+
msJBG0fmSJ0YqSWOe/y8fhXpFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABR
RRQByt14A0q7vJ7mS4vQ80jSMFdcAk5OPlqtJoOh+EV/tCY3k8UmYGRtrrhh3GBxxj8a7Oorm2hv
Ld7e4iWSJxhkYcGgDgYNI8E6gzTxak8Cg8wyTCMf+PDJ/A1zWp29nd+J2tdIUG2eRIoguSDwAT78
5Oa7yX4eaLI5ZGu4h/dSQEfqCa0tJ8K6Vo0vnW0LPOBgSytuYfTsPyoAk1fw3pmtkPdwHzQMCWM7
Wx6e/wCNZtp4B0S1mEjLPcYOQszgr+QAzXUUUAZus6Jba3YJZ3DyxxI4ceSQDwCMcg8c0aJoltoN
m9ravK6PIZCZSCckAdgPStKigArn9U8GaRqtw1xJHJDMxyzQMF3H1IIIroKKAMnRvDmnaGGNpExl
YYaWQ5Yj09vwrWoooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiig
AooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAC
iiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKK
KKAP/9k=
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
9.6s (10.0s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYTNlY2IxZTM6NjY%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlOWE4ODVjODRiZTc3ODRlOGQzYWI3ZWQxMTM3YmI0Mjg%3D--f142be8323be50d9ebaa0f491be7b3569eb228fe; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 8930
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 21:57:06 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlOWE4ODVjODRiZTc3ODRlOGQzYWI3ZWQxMTM3YmI0MjgiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--1d75b0eec43a077c083288e668ed30e4fda2be36; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlOWE4ODVjODRiZTc3ODRlOGQzYWI3ZWQxMTM3YmI0MjgiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--1d75b0eec43a077c083288e668ed30e4fda2be36
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
9.1s (19.1s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYTNlY2IxZTM6NjY%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlOWE4ODVjODRiZTc3ODRlOGQzYWI3ZWQxMTM3YmI0MjgiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--1d75b0eec43a077c083288e668ed30e4fda2be36; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzM2E0MDY2OTkxOi02MDgz
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 342
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 21:57:16 GMT
response-header: content-length => 143
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 143 bytes (143 total)
Authorization key: LTE2MjkxNzcxOjEzM2E0MDY2OTkxOi02MDgz
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzM2E0MDY2OTkxOi02MDgz">redirected</a>.</body></html>
0.6s (19.7s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2E0MDY2OTkxOi02MDgz ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2E0MDY2OTkxOi02MDgz
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 103
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 21:57:16 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "42402d5d939652243637afa762299bd5dc9a8a3d",
  "access_token": "8235c1f1d0eae8affc78c548e1e77e43"
}
ACCESS TOKEN: 8235c1f1d0eae8affc78c548e1e77e43
Refresh TOKEN: 42402d5d939652243637afa762299bd5dc9a8a3d
0.5s (20.2s total) OK. Access token: 42402d5d939652243637afa762299bd5dc9a8a3d...

NEXT TEST: device_info_json 22
3.0s (23.2s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=8235c1f1d0eae8affc78c548e1e77e43
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=8235c1f1d0eae8affc78c548e1e77e43
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=8235c1f1d0eae8affc78c548e1e77e43
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
6.0s (29.2s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=8235c1f1d0eae8affc78c548e1e77e43
Net::HTTP::Get: /1/devices/tel:123/info?access_token=8235c1f1d0eae8affc78c548e1e77e43
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
2.9s (32.1s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (35.1s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=8235c1f1d0eae8affc78c548e1e77e43
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=8235c1f1d0eae8affc78c548e1e77e43
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
3.1s (38.2s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=8235c1f1d0eae8affc78c548e1e77e43
Net::HTTP::Get: /1/devices/tel:123/info?access_token=8235c1f1d0eae8affc78c548e1e77e43
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
0.1s (38.2s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (41.2s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=8235c1f1d0eae8affc78c548e1e77e43&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=8235c1f1d0eae8affc78c548e1e77e43&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPInternalServerError 1.1 500 Internal Server Error
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 182
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 182 bytes (182 total)
500 => Net::HTTPInternalServerError
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0001",

        "text": "Internal platform error occurred " ,

        "variables" : " "  }

}})

NEXT TEST: device_info_jsonp_error 17
125.1s (166.3s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=8235c1f1d0eae8affc78c548e1e77e43&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=8235c1f1d0eae8affc78c548e1e77e43&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPInternalServerError 1.1 500 Internal Server Error
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 182
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 182 bytes (182 total)
500 => Net::HTTPInternalServerError
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0001",

        "text": "Internal platform error occurred " ,

        "variables" : " "  }

}})
121.1s (287.5s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (290.5s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x10237d0b8>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=8235c1f1d0eae8affc78c548e1e77e43
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=8235c1f1d0eae8affc78c548e1e77e43
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
4.3s (294.8s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=8235c1f1d0eae8affc78c548e1e77e43
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=8235c1f1d0eae8affc78c548e1e77e43
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=8235c1f1d0eae8affc78c548e1e77e43
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=8235c1f1d0eae8affc78c548e1e77e43
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
6.3s (301.1s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=8235c1f1d0eae8affc78c548e1e77e43&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=8235c1f1d0eae8affc78c548e1e77e43&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=8235c1f1d0eae8affc78c548e1e77e43&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=8235c1f1d0eae8affc78c548e1e77e43&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
8.6s (309.6s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (312.6s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=8235c1f1d0eae8affc78c548e1e77e43
Request: https://api.att.com/1/messages/outbox/sms?access_token=8235c1f1d0eae8affc78c548e1e77e43
Net::HTTP::Post: /1/messages/outbox/sms?access_token=8235c1f1d0eae8affc78c548e1e77e43
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2E0MDY2OTkxOi02MDgz
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 22:02:13 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b1604502ecf45e"
  },
  "id": "SMSa9b1604502ecf45e"
}
4.0s (316.6s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (319.6s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=8235c1f1d0eae8affc78c548e1e77e43
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=8235c1f1d0eae8affc78c548e1e77e43
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=8235c1f1d0eae8affc78c548e1e77e43
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 22:02:16 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b1604502ecf45f"
  },
  "id": "SMSa9b1604502ecf45f"
}
1.0s (320.7s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.0s (323.7s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=8235c1f1d0eae8affc78c548e1e77e43
Request: https://api.att.com/1/messages/outbox/mms?access_token=8235c1f1d0eae8affc78c548e1e77e43
Net::HTTP::Post: /1/messages/outbox/mms?access_token=8235c1f1d0eae8affc78c548e1e77e43
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_18727284.1321308140555"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=8235c1f1d0eae8affc78c548e1e77e43
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 22:02:21 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b6fdf"
  },
  "id": "MMSa9b4644d651b6fdf"
}
1.0s (324.7s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b6fdf?access_token=8235c1f1d0eae8affc78c548e1e77e43
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b4644d651b6fdf?access_token=8235c1f1d0eae8affc78c548e1e77e43
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 22:02:24 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b4644d651b6fdf"
  }
}
3.5s (328.3s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.0s (331.3s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=8235c1f1d0eae8affc78c548e1e77e43
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=8235c1f1d0eae8affc78c548e1e77e43
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_11830109.1321308148166"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b6fdf?access_token=8235c1f1d0eae8affc78c548e1e77e43
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 22:02:28 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b4a1507be34a70"
}
1.0s (332.3s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.0s (335.3s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=8235c1f1d0eae8affc78c548e1e77e43
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321308152207",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=8235c1f1d0eae8affc78c548e1e77e43
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=8235c1f1d0eae8affc78c548e1e77e43
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Mon, 14 Nov 2011 22:02:34 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
11.6s (347.0s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=8235c1f1d0eae8affc78c548e1e77e43
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321308163853</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=8235c1f1d0eae8affc78c548e1e77e43
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=8235c1f1d0eae8affc78c548e1e77e43
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Mon, 14 Nov 2011 22:02:46 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
5.8s (352.8s total) OK. New subscription request SEN1321308169702...
Request: : https://api.att.com/1/payments/transactions?access_token=8235c1f1d0eae8affc78c548e1e77e43
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321308169702",
  "externalMerchantTransactionID": "SenchaTransId1321308169751",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=8235c1f1d0eae8affc78c548e1e77e43
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=8235c1f1d0eae8affc78c548e1e77e43
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIOror: undefined method `value=' for nil:NilClass>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 13
response-header: date => Mon, 14 Nov 2011 22:56:41 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "413af1aa5b4aa1ed708a278dbe1d0f8f"
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 538
response-header: date => Mon, 14 Nov 2011 22:57:06 GMT
response-header: content-length => 1456
response-header: content-encoding => gzip
response-header: set-cookie => sessionId=EUID%3DLTExOWE0NWM2OjEzM2EzNWFiMzBhOjQ5MGE%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com; path=/
response-header: keep-alive => timeout=5, max=100
response-header: vary => Accept-Encoding
response-header: cache-control => private, max-age=0, must-revalidate
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 1438 bytes (1448 total)
Read 8 bytes (1456 total)
gzip body
saved cookie: sessionId=EUID%3DLTExOWE0NWM2OjEzM2EzNWFiMzBhOjQ5MGE%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Generic Checkout Page | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/effects.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/controls.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
	<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo" id="logo_title">Consent Request</h1>
<img src="/images/att.png" alt="" id="logo" height="28" width="28" />
</header>
	<form action="/off_net_consent_wireless" id="off_net_consent_wireless" method="post">
	<p><strong>Sencha API Poller</strong>  by Jason Cline, is requesting do the following: 
		<div id="firstCol_b">
			<ul>
				
				
					<li>Location - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
					<li>Device Capabilities - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
				
				
				
				
				
				
				
			</ul>
			<p>If ok, enter the wireless phone number and click Allow. A verification message will be sent.	</p>
		</div>
	<br><p></p>
	<br>
	<form action="" id="signup" method="post">
		<div id="firstCol_b">
			<label for="phone"><span>Wireless Number</span></label> 
		</div>
		<div id="firstCol_a">
			<img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50">
		</div>
		<div class="input-c" id="firstCol_b" style="right: 9px; top: 9px">
			<input id="login_wireless" name="login[wireless]" size="30" style="color:silver;" type="text" />
			<input id="login_client_id" name="login[client_id]" type="hidden" value="cddc0328b4c56103f8febb0194df7fd8" />
			<input id="login_scope" name="login[scope]" type="hidden" value="TL,DC,WAP,SMS,MMS,PAYMENT" />
			<input id="login_id" name="login[id]" type="hidden" />
			<!--<input  name="phone" type="text" value="4252221234" style="color: silver;">-->
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="javascript:submit_off_net_wireless();">Allow</a>
			</p>
			<p>
				<a class="button cancel" href="/deny_pin">Cancel</a>
			</p>
			<p style="text-align:center; margin-left:10px;color:red;"></p>NS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Mon, 14 Nov 2011 22:02:50 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.1s (0.1s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 7
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 22:57:01 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "7408157af8612103674561e68b8ec6eb"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1590
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 22:57:04 GMT
response-header: content-length => 8758
response-header: set-cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYTQzZDNhNzQ6LTUwZTM%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlYTNlNDY4MjAxMTNlODQ0ZDgxYTk5ZDU5NTg3OTVlZjE%3D--000e9d825f552ab5ecd476cbc330fcd85e7c5f80; path=/; HttpOnly, BIGipServeruser_profile_443=269098924.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 8000 bytes (8000 total)
Read 758 bytes (8758 total)
saved cookie: sessionId=EUID%3DNWY2NWUwNTg6MTMzYTQzZDNhNzQ6LTUwZTM%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlYTNlNDY4MjAxMTNlODQ0ZDgxYTk5ZDU5NTg3OTVlZjE%3D--000e9d825f552ab5ecd476cbc330fcd85e7c5f80
saved cookie: BIGipServeruser_profile_443=269098924.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="10225959660516610" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKKKACiiigAoqveX9rp8BmvLiOGPplzjJ9B61SsfEuj6lOILS+jeU9EIKk/TcBmgDVrHu/FOiWMx
huNQjEinBVAXwffaDWXq/iuxvNB1BdIuzJdJDu+WN1KqWVSckDpurl/BGhWGtT3hv1MghVdqByud
2eeOeMfrQB6Jb63pl1ZzXcF5HJDCheQrklQBkkjr29Kz/wDhN/Dv/QQ/8gyf/E15xZ20kXieXTbO
ZgksslmXAzlGJUkjvxz+FdP/AMKy/wCov/5Lf/Z0AdB/wm/h3/oIf+QZP/ia2LG+t9Ss47u0k8yC
TO1tpGcEg8HnqDXkFxoQPiFdI0+6+1ybtjSeXtVT37ngdzXqcEVp4Y8PBGkP2e0jJLHqxJyfzJ6e
9AC6l4h0rSJlhvrsRSMu4LsZjj14Bq/BPHc28VxC26KVA6NjGQRkHmvD9Uv59U1GW9uMhpjuA7Be
gA9hjH4V7JoP/IvaZ/16Rf8AoAoA0KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAoooo
AK8/8ZWviG0vJ9Stb64WwYrhIJ3Hl4UAkqOACc9K9ArnfEHizT9KtZI0eK6ujlPIVgwB6Hfjp9Ot
AGR4d1Rn8Gak11rANz+82ySzMWhygC8nnqCRjPtzXO6MnibXZ3js9UuwifelkuZAg9s+tNsPClzq
2k3Oqpc2sSqSyx7xjjkgnOEwPX8cVv8Ag3xTZW1qulXohtWjzsmBAR/XcemffoaAMPxPdT634vaz
DnYkwtol7Kc4J/Ouj1vwVp1loUtzYCWO7tU83zfMJL7eTnsOPTFctrWdK8ZG9GJIjcLeRMpyJFLb
sg9x1Fdr4h8U6W3hu4FtdxTS3MRjSNGyw3DByO2AT1oA4vwjf2um3l/c3ih4RZMpjxnfl0G38aXR
tJ1LWry6udFxYRLwcTMoAP8ADkcmsW2tZbmO5aIE+TF5rgf3dyg/zz+Fdv4A1uwsrC5s7u4it383
zVaVgoYEAYyfp+tAGb4Vu7fQfELWmp2YW5L+UJy2TGTx06YPr/Su28W6wdG0OSSJsXEx8qL2J6n8
B+uK861eQeIfGMpscsLiVUjIHUABd304zWp8Rrwza1BaA/JBFnH+0x5/QCgDW+HelCOzm1WVcyTE
xxk9lHU/if5VD4uvZtd1u38O2DZAcGZh03e/so5+v0rsNFtBY6JZWwGNkKg/XGT+ua4fU/AGq3mq
3l1HcWYSad5FDO2QCxIz8vvQBmeOLKHTtTsbO3XEUVkij3+d8k+5616ToP8AyL2mf9ekX/oAryHW
9EudBvUtbp4nd4xIDESRgkjuB6V23gfw3eabcLqk0kDQXNoNioxLDcVYZyMdB60AdxRRRQAUUUUA
FFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABXK3fgDSry9nupLi8DzSNIwV1wCTk4+X3rqqKAM
fT/DdnpujXWlwyTtBc797OwLDcoU4wMdB6Vj/wDCuNH/AOfm+/77T/4muwooA4vWrjwzEItD1VLh
TZxokc5TnbtGCCvX34xkdKzbvSfCOnaVdXEGoLdTtC4hVp1chyCAdqgdz36V2Wr+H9N1sKbyDMij
CyKdrAemf8axV+HWjK+4y3jD+6ZFx+i0AYXw3tWk1O9uCuYlg8s5HBLMDj/x010l54C0S7mMipNb
knJWFwF/Ig4/Ct2w0600u1FtZwrFEDnA6k+pPc1aoAyNI8NaZohL2kJMxGDLIdzY9Pb8Kp6r4K07
WNRlvrie7WWTGRG6hRgAcZU+ldHRQAUUUUAYOt+ErDXr1Lq6muUdIxGBEygYBJ7g+tbFpbJZ2UFr
GWKQxrGpbqQBgZ/KpqKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAoo
ooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiii
gAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKA
CiiigD//2Q==
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
9.0s (9.0s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYTQzZDNhNzQ6LTUwZTM%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlYTNlNDY4MjAxMTNlODQ0ZDgxYTk5ZDU5NTg3OTVlZjE%3D--000e9d825f552ab5ecd476cbc330fcd85e7c5f80; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 8044
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 22:57:06 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlYTNlNDY4MjAxMTNlODQ0ZDgxYTk5ZDU5NTg3OTVlZjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--9fbf6412b052759d6d3366b0b722ed758056711f; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlYTNlNDY4MjAxMTNlODQ0ZDgxYTk5ZDU5NTg3OTVlZjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--9fbf6412b052759d6d3366b0b722ed758056711f
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
8.4s (17.4s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYTQzZDNhNzQ6LTUwZTM%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlYTNlNDY4MjAxMTNlODQ0ZDgxYTk5ZDU5NTg3OTVlZjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--9fbf6412b052759d6d3366b0b722ed758056711f; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzM2E0MDY2OTkxOjQ4Mzg%3D
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 391
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 22:57:14 GMT
response-header: content-length => 145
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 145 bytes (145 total)
Authorization key: LTE2MjkxNzcxOjEzM2E0MDY2OTkxOjQ4Mzg%3D
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzM2E0MDY2OTkxOjQ4Mzg%3D">redirected</a>.</body></html>
0.6s (18.0s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2E0MDY2OTkxOjQ4Mzg%3D ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2E0MDY2OTkxOjQ4Mzg%3D
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 116
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Mon, 14 Nov 2011 22:57:15 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "a4f0bd92fb5cb577c5f009f3edf46e451a5b1dd3",
  "access_token": "74197941a34b51a3c27ad5223774732c"
}
ACCESS TOKEN: 74197941a34b51a3c27ad5223774732c
Refresh TOKEN: a4f0bd92fb5cb577c5f009f3edf46e451a5b1dd3
0.8s (18.8s total) OK. Access token: a4f0bd92fb5cb577c5f009f3edf46e451a5b1dd3...

NEXT TEST: device_info_json 22
3.0s (21.8s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=74197941a34b51a3c27ad5223774732c
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=74197941a34b51a3c27ad5223774732c
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=74197941a34b51a3c27ad5223774732c
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
5.4s (27.2s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=74197941a34b51a3c27ad5223774732c
Net::HTTP::Get: /1/devices/tel:123/info?access_token=74197941a34b51a3c27ad5223774732c
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
2.4s (29.7s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (32.7s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=74197941a34b51a3c27ad5223774732c
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=74197941a34b51a3c27ad5223774732c
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
3.1s (35.8s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=74197941a34b51a3c27ad5223774732c
Net::HTTP::Get: /1/devices/tel:123/info?access_token=74197941a34b51a3c27ad5223774732c
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
0.1s (35.8s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (38.9s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=74197941a34b51a3c27ad5223774732c&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=74197941a34b51a3c27ad5223774732c&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
3.9s (42.8s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=74197941a34b51a3c27ad5223774732c&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=74197941a34b51a3c27ad5223774732c&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
2.4s (45.2s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (48.2s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x10234e628>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=74197941a34b51a3c27ad5223774732c
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=74197941a34b51a3c27ad5223774732c
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
5.9s (54.1s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=74197941a34b51a3c27ad5223774732c
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=74197941a34b51a3c27ad5223774732c
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=74197941a34b51a3c27ad5223774732c
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=74197941a34b51a3c27ad5223774732c
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
9.0s (63.1s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=74197941a34b51a3c27ad5223774732c&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=74197941a34b51a3c27ad5223774732c&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=74197941a34b51a3c27ad5223774732c&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=74197941a34b51a3c27ad5223774732c&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
13.8s (76.9s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (79.9s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=74197941a34b51a3c27ad5223774732c
Request: https://api.att.com/1/messages/outbox/sms?access_token=74197941a34b51a3c27ad5223774732c
Net::HTTP::Post: /1/messages/outbox/sms?access_token=74197941a34b51a3c27ad5223774732c
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2E0MDY2OTkxOjQ4Mzg%3D
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 22:58:17 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b598c3c57f09f1"
  },
  "id": "SMSa9b598c3c57f09f1"
}
0.8s (80.7s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (83.8s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=74197941a34b51a3c27ad5223774732c
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=74197941a34b51a3c27ad5223774732c
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=74197941a34b51a3c27ad5223774732c
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 22:58:23 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b487b5e055d167"
  },
  "id": "SMSa9b487b5e055d167"
}
3.6s (87.3s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.1s (90.4s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=74197941a34b51a3c27ad5223774732c
Request: https://api.att.com/1/messages/outbox/mms?access_token=74197941a34b51a3c27ad5223774732c
Net::HTTP::Post: /1/messages/outbox/mms?access_token=74197941a34b51a3c27ad5223774732c
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_18929906.1321311507630"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=74197941a34b51a3c27ad5223774732c
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 22:58:28 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf6775ed"
  },
  "id": "MMSa9b50d45cf6775ed"
}
1.2s (91.6s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf6775ed?access_token=74197941a34b51a3c27ad5223774732c
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b50d45cf6775ed?access_token=74197941a34b51a3c27ad5223774732c
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 22:58:32 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b50d45cf6775ed"
  }
}
3.4s (95.0s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.0s (98.0s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=74197941a34b51a3c27ad5223774732c
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=74197941a34b51a3c27ad5223774732c
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_14077934.1321311515393"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf6775ed?access_token=74197941a34b51a3c27ad5223774732c
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Mon, 14 Nov 2011 22:58:35 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b5c707572daae1"
}
1.0s (99.0s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.0s (102.0s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=74197941a34b51a3c27ad5223774732c
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321311519320",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=74197941a34b51a3c27ad5223774732c
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=74197941a34b51a3c27ad5223774732c
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Mon, 14 Nov 2011 22:58:42 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
12.0s (114.0s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=74197941a34b51a3c27ad5223774732c
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321311531332</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=74197941a34b51a3c27ad5223774732c
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=74197941a34b51a3c27ad5223774732c
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Mon, 14 Nov 2011 22:58:52 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
4.9s (119.0s total) OK. New subscription request SEN1321311536282...
Request: : https://api.att.com/1/payments/transactions?access_token=74197941a34b51a3c27ad5223774732c
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321311536282",
  "externalMerchantTransactionID": "SenchaTransId1321311536292",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=74197941a34b51a3c27ad5223774732c
request-header: accept-language => en-us,en
			<br>
			<p><SMALL>Refer to Craftguilds Privacy Policy for details on how this information may be used or shared.</SMALL>
			</p>
		</div>
	</form>
	<form action="" id="signup" method="post">
		<hr style="clear:both">   
		<h3>Existing Users</h3><!--move h3 to css and style center it-->
		<!--begin email address-->
		<p>To allow use with another account click  the <strong> Sign in to another account </strong> button.  To sign in and manage consent settings click <strong> Manage Consent</strong>. 
		</p>
		<!--begin SIGNIN/Manage Profile Buttons -->
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=true">SignIn to another account</a>
			</p>
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=mc">Manage Consent</a>
			</p>
		</div>
	</form>

<footer>
</footer>
</body>
</html>
#<NoMethodError: undefined method `value=' for nil:NilClass>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.5s (0.5s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xm;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=74197941a34b51a3c27ad5223774732c
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Mon, 14 Nov 2011 22:58:56 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.5s (0.5s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: device_info_json 22

NEXT TEST: device_info_json_error 21

NEXT TEST: device_info_xml 20

NEXT TEST: device_info_xml_error 19

NEXT TEST: device_info_jsonp 18

NEXT TEST: device_info_jsonp_error 17

NEXT TEST: device_location_json 16

NEXT TEST: device_location_json_error 15

NEXT TEST: device_location_xml 14

NEXT TEST: device_location_xml_error 13

NEXT TEST: device_location_jsonp 12

NEXT TEST: device_location_jsonp_error 11

NEXT TEST: sms_send_json 10

NEXT TEST: sms_send_form 9

NEXT TEST: mms_send_jsol 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.8s (0.8s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, tesn 8

NEXT TEST: mms_status 7

NEXT TEST: wap_push 6

NEXT TEST: payment_new_json 5

NEXT TEST: payment_status_json 4

NEXT TEST: payment_refund_json 3

NEXT TEST: payment_new_xml 2

NEXT TEST: payment_new_subscription 1

NEXT TEST: payment_subscription_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
1.1s (1.1s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: device_info_json 22

NEXT TEST: device_info_json_error 21

NEXT TEST: device_info_xml 20

NEXT TEST: device_info_xml_error 19

NEXT TEST: device_info_jsonp 18

NEXT TEST: device_info_jsonp_error 17

NEXT TEST: device_location_json 16

NEXT TEST: device_location_json_error 15

NEXT TEST: device_location_xml 14

NEXT TEST: device_location_xml_error 13

NEXT TEST: device_location_jsonp 12

NEXT TEST: device_location_jsonp_error 11

NEXT TEST: sms_send_json 10

NEXT TEST: sms_send_form 9

NEXT TEST: mms_send_json 8

NEXT TEST: mms_status 7

NEXT TEST: wap_push 6

NEXT TEST: payment_new_json 5

NEXT TEST: payment_status_json 4

NEXT TEST: payment_refund_json 3

NEXT TEST: payment_new_xml 2

NEXT TEST: payment_new_subscription 1

NEXT TEST: payment_subscription_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
addt = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
2.9s (2.9s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 14
response-header: date => Tue, 15 Nov 2011 13:57:59 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "413af1aa5b4aa1ed708a278dbe1d0f8f"
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1210
response-header: date => Tue, 15 Nov 2011 13:58:26 GMT
response-header: content-length => 1456
response-header: content-encoding => gzip
response-header: set-cookie => sessionId=EUID%3DLTExOWE0NWM2OjEzM2E2ZjI1ZGY1OmMzZg%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com; path=/
response-header: keep-alive => timeout=5, max=100
response-header: vary => Accept-Encoding
response-header: cache-control => private, max-age=0, must-revalidate
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 1438 bytes (1448 total)
Read 8 bytes (1456 total)
gzip body
saved cookie: sessionId=EUID%3DLTExOWE0NWM2OjEzM2E2ZjI1ZGY1OmMzZg%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Generic Checkout Page | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/effects.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/controls.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
	<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo" id="logo_title">Consent Request</h1>
<img src="/images/att.png" alt="" id="logo" height="28" width="28" />
</header>
	<form action="/off_net_consent_wireless" id="off_net_consent_wireless" method="post">
	<p><strong>Sencha API Poller</strong>  by Jason Cline, is requesting do the following: 
		<div id="firstCol_b">
			<ul>
				
				
					<li>Location - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
					<li>Device Capabilities - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
				
				
				
				
				
				
				
			</ul>
			<p>If ok, enter the wireless phone number and click Allow. A verification message will be sent.	</p>
		</div>
	<br><p></p>
	<br>
	<form action="" id="signup" method="post">
		<div id="firstCol_b">
			<label for="phone"><span>Wireless Number</span></label> 
		</div>
		<div id="firstCol_a">
			<img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" heighting to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
3.5s (3.5s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: device_info_json 22

NEXT TEST: device_info_json_error 21

NEXT TEST: device_info_xml 20

NEXT TEST: device_info_xml_error 19

NEXT TEST: device_info_jsonp 18

NEXT TEST: device_info_jsonp_error 17

NEXT TEST: device_location_json 16

NEXT TEST: device_location_json_error 15

NEXT TEST: device_location_xml 14

NEXT TEST: device_location_xml_error 13

NEXT TEST: device_location_jsonp 12

NEXT TEST: device_location_jsonp_error 11

NEXT TEST: sms_send_json 10

NEXT TEST: sms_send_form 9

NEXT TEST: mms_send_json 8

NEXT TEST: mms_status 7

NEXT TEST: wap_push 6

NEXT TEST: payment_new_json 5

NEXT TEST: payment_status_json 4

NEXT TEST: payment_refund_json 3

NEXT TEST: payment_new_xml 2

NEXT TEST: payment_new_subscription 1

NEXT TEST: payment_subscription_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 7
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 13:58:19 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "ca02ef878a9934f248e7ce1580fc3e4f"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1345
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 13:58:21 GMT
response-header: content-length => 8572
response-header: set-cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2E3NGFjYTM4OjI1NGM%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlYmNkOWYyMzFkZmZkN2Y4YjQ5MzNkMmExMWIyNzE4ZGY%3D--50a5cdaee06e4d798912282fa10ac72bfb1b4b0b; path=/; HttpOnly, BIGipServeruser_profile_443=470425516.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 7471 bytes (7471 total)
Read 1101 bytes (8572 total)
saved cookie: sessionId=EUID%3DLTE2MjkxNzcxOjEzM2E3NGFjYTM4OjI1NGM%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlYmNkOWYyMzFkZmZkN2Y4YjQ5MzNkMmExMWIyNzE4ZGY%3D--50a5cdaee06e4d798912282fa10ac72bfb1b4b0b
saved cookie: BIGipServeruser_profile_443=470425516.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="19930272565074057" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKKZNNFbxNLNIkcajLO5wAPrQA+isP8A4THQPN8v+0k3ZxnY2PzxitmGaK4iWWGRJI2GVdDkH8aA
H1l6l4i0rSLhbe+uvKlZA4Xy2bjJGeAfQ1HceKtDtbgwS6jGJAcEKGYA+5AIrhPiDNFca5azQyLJ
G9mpV0OQRvfvQB6fBPHc28VxC26KVA6NjGQRkHmpK5jRPFGjJp2m2D3my5EEUZRo3HzbQOpGPxzi
t6+v7XTbRrq8mEUK4BYgnr7Dk0AWaKoaZrVhrCyNYTmZYyAx8tlAJ+oFVbXxXol4ZfJv1PlRmRyy
MoC5AzkgdyKANkkAZPArFm8XaDBOYX1KPeDj5VZh+YGK5bxl4ttb3TkstKui6ysfPZVZflHReQOv
9Kgs/AX2vw0t6s0hvpY/NiiGAhB5AOe5HfPegD0aC4huoFmglSWJxlXQ5BqSuQ8FaPrGjG4hvkVL
aQBlUSBsP+HqP5V19ABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABXmPxC1WWf
VxpquRBbqGZR/E5Gcn8CP1r06vKviBYyW/iI3RU+VcopVu2VAUj9B+dAGqPDvhT+x/KOqWn27y8+
f9rX7+PTOMZ//XXKadr15pum3tlDKwjuEwMH7hyMkemRkflXX21r4Em01bt0hjOzLRNcuHB7jbuy
fwrG1KLw3qGlSnQ7SeK8hHmsrbz8g+93IHXP4UAWPBPhiy1i3uLy/RpIkfykjDFRnAJJxz3FZHiv
SE0XWjbQsxgaMSRBjkqpJ4/MGuh8Aa5ZWVpc2N3cRwEyeajSMFU5ABGTx2H51h+M9Vg1bXzLbMHh
ijESuOjYJJI/EmgDW8Q6B53hjTNYtk/eR2cInA7rsGG/D+X0rEm1LVfFD6fphO9kGxQP4j/fb6Dv
7H1rb1/xCYfDOm6PaN+9ks4vPK/wqUGF+p/l9ayLrR9V8LHT9TztdsNkD/Vt/cb6j+ooA9S0jS4N
H02KzgHCDLNjl27k141pNi+p6pb2KPs89gpb0HU/XpXsei6tBrWmRXkPG7h0zyjdxXl/gj/kb7H/
ALaf+i2oAb4s0S30HU4bW2kldHgEhMhBOdzDsBxwKt+b4uvNOS+gN1HZRIAghfYAqjH3Qcnp15rZ
+JGnyOlpqKKSiZikI7Z5X+v6VPpHjfSrbw5BDOXW5t4RH5IQnfgYGD0596AF8FeKrjUp206/bzJg
paKXGCwHUH3967avJ/ANpLP4mjnUHy7dGZz25BUD9f0r1igAooooAKKKKACiiigAooooAKKKKACi
iigAooooAKKKKACiiigAqtfafaanbG3vIFliPOG7H1B7GrNFAHJN8O9FaTcJLxR/cEi4/wDQc1u6
Zoun6PA0Vnbqgf77Hlm+pNaFFAHMXfgLRLq4MwWeDJyUhcBfyIOPwp1z4F0a4toLdRNAsJY5iYZc
tjJYkHPSulooA5mw8C6Vp9/FdrJdTPEcqszqVyOh4UdK3b+wt9TsZbS5TdFIMH1HoR7irNFAGLon
hm10CWV7S5umWQYaOVlKn0PCjmquleCdN0jUor63nu2liztEjqV5BHOFHrXSUUAMmhiuIXhmjWSN
xhlYZBFcvL8PdEkmMim6jXP+rSQbf1BP611dFAFPTtLs9Jtvs9lAsSZycclj6k96uUUUAFFFFABR
RRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFF
FABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUU
AFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAH/2Q==
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
8.1s (8.1s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2E3NGFjYTM4OjI1NGM%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlYmNkOWYyMzFkZmZkN2Y4YjQ5MzNkMmExMWIyNzE4ZGY%3D--50a5cdaee06e4d798912282fa10ac72bfb1b4b0b; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 2281
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 13:58:22 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlYmNkOWYyMzFkZmZkN2Y4YjQ5MzNkMmExMWIyNzE4ZGYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--aabf7502223bbcc47388cf3bd8f05418f0c34949; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlYmNkOWYyMzFkZmZkN2Y4YjQ5MzNkMmExMWIyNzE4ZGYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--aabf7502223bbcc47388cf3bd8f05418f0c34949
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
2.5s (10.6s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2E3NGFjYTM4OjI1NGM%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlYmNkOWYyMzFkZmZkN2Y4YjQ5MzNkMmExMWIyNzE4ZGYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--aabf7502223bbcc47388cf3bd8f05418f0c34949; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzM2E3NGFjYTM4OjI1NzY%3D
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 341
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 13:58:25 GMT
response-header: content-length => 145
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 145 bytes (145 total)
Authorization key: LTE2MjkxNzcxOjEzM2E3NGFjYTM4OjI1NzY%3D
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzM2E3NGFjYTM4OjI1NzY%3D">redirected</a>.</body></html>
0.5s (11.0s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2E3NGFjYTM4OjI1NzY%3D ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2E3NGFjYTM4OjI1NzY%3D
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 99
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 13:58:25 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "33f952ba7ad95b6406fb7085a7e60f5b543e1e1f",
  "access_token": "e7d37ed95c8f907e917e1461533a4d63"
}
ACCESS TOKEN: e7d37ed95c8f907e917e1461533a4d63
Refresh TOKEN: 33f952ba7ad95b6406fb7085a7e60f5b543e1e1f
0.6s (11.6s total) OK. Access token: 33f952ba7ad95b6406fb7085a7e60f5b543e1e1f...

NEXT TEST: device_info_json 22
3.0s (14.7s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=e7d37ed95c8f907e917e1461533a4d63
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=e7d37ed95c8f907e917e1461533a4d63
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=e7d37ed95c8f907e917e1461533a4d63
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
4.5s (19.2s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=e7d37ed95c8f907e917e1461533a4d63
Net::HTTP::Get: /1/devices/tel:123/info?access_token=e7d37ed95c8f907e917e1461533a4d63
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
1.4s (20.6s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (23.6s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=e7d37ed95c8f907e917e1461533a4d63
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=e7d37ed95c8f907e917e1461533a4d63
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
3.1s (26.7s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=e7d37ed95c8f907e917e1461533a4d63
Net::HTTP::Get: /1/devices/tel:123/info?access_token=e7d37ed95c8f907e917e1461533a4d63
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
0.1s (26.8s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (29.8s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=e7d37ed95c8f907e917e1461533a4d63&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=e7d37ed95c8f907e917e1461533a4d63&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
4.6s (34.4s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=e7d37ed95c8f907e917e1461533a4d63&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=e7d37ed95c8f907e917e1461533a4d63&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
0.1s (34.5s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (37.5s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x10220def8>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=e7d37ed95c8f907e917e1461533a4d63
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=e7d37ed95c8f907e917e1461533a4d63
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
4.7s (42.2s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=e7d37ed95c8f907e917e1461533a4d63
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=e7d37ed95c8f907e917e1461533a4d63
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=e7d37ed95c8f907e917e1461533a4d63
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=e7d37ed95c8f907e917e1461533a4d63
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
7.4s (49.6s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=e7d37ed95c8f907e917e1461533a4d63&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=e7d37ed95c8f907e917e1461533a4d63&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=e7d37ed95c8f907e917e1461533a4d63&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=e7d37ed95c8f907e917e1461533a4d63&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
9.0s (58.6s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (61.6s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=e7d37ed95c8f907e917e1461533a4d63
Request: https://api.att.com/1/messages/outbox/sms?access_token=e7d37ed95c8f907e917e1461533a4d63
Net::HTTP::Post: /1/messages/outbox/sms?access_token=e7d37ed95c8f907e917e1461533a4d63
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2E3NGFjYTM4OjI1NzY%3D
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 13:59:15 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b487b5e055d181"
  },
  "id": "SMSa9b487b5e055d181"
}
0.8s (62.5s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (65.5s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=e7d37ed95c8f907e917e1461533a4d63
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=e7d37ed95c8f907e917e1461533a4d63
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=e7d37ed95c8f907e917e1461533a4d63
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 13:59:19 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b1604502ecf479"
  },
  "id": "SMSa9b1604502ecf479"
}
0.8s (66.2s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.1s (69.3s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=e7d37ed95c8f907e917e1461533a4d63
Request: https://api.att.com/1/messages/outbox/mms?access_token=e7d37ed95c8f907e917e1461533a4d63
Net::HTTP::Post: /1/messages/outbox/mms?access_token=e7d37ed95c8f907e917e1461533a4d63
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_11152648.1321365563689"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=e7d37ed95c8f907e917e1461533a4d63
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 13:59:23 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf6775fa"
  },
  "id": "MMSa9b50d45cf6775fa"
}
1.1s (70.5s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf6775fa?access_token=e7d37ed95c8f907e917e1461533a4d63
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b50d45cf6775fa?access_token=e7d37ed95c8f907e917e1461533a4d63
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 13:59:27 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b50d45cf6775fa"
  }
}
3.7s (74.2s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.0s (77.2s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=e7d37ed95c8f907e917e1461533a4d63
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=e7d37ed95c8f907e917e1461533a4d63
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_15936972.1321365571602"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf6775fa?access_token=e7d37ed95c8f907e917e1461533a4d63
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 13:59:31 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b5c707572daae4"
}
0.7s (77.9s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.0s (81.0s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=e7d37ed95c8f907e917e1461533a4d63
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321365575363",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=e7d37ed95c8f907e917e1461533a4d63
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=e7d37ed95c8f907e917e1461533a4d63
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Tue, 15 Nov 2011 13:59:39 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
13.8s (94.8s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=e7d37ed95c8f907e917e1461533a4d63
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321365589164</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=e7d37ed95c8f907e917e1461533a4d63
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=e7d37ed95c8f907e917e1461533a4d63
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Tue, 15 Nov 2011 13:59:50 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
4.8s (99.6s total) OK. New subscription request SEN1321365593970...
Request: : https://api.att.com/1/payments/transactions?access_token=e7d37ed95c8f907e917e1461533a4d63
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchant="50">
		</div>
		<div class="input-c" id="firstCol_b" style="right: 9px; top: 9px">
			<input id="login_wireless" name="login[wireless]" size="30" style="color:silver;" type="text" />
			<input id="login_client_id" name="login[client_id]" type="hidden" value="cddc0328b4c56103f8febb0194df7fd8" />
			<input id="login_scope" name="login[scope]" type="hidden" value="TL,DC,WAP,SMS,MMS,PAYMENT" />
			<input id="login_id" name="login[id]" type="hidden" />
			<!--<input  name="phone" type="text" value="4252221234" style="color: silver;">-->
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="javascript:submit_off_net_wireless();">Allow</a>
			</p>
			<p>
				<a class="button cancel" href="/deny_pin">Cancel</a>
			</p>
			<p style="text-align:center; margin-left:10px;color:red;"></p>
			<br>
			<p><SMALL>Refer to Craftguilds Privacy Policy for details on how this information may be used or shared.</SMALL>
			</p>
		</div>
	</form>
	<form action="" id="signup" method="post">
		<hr style="clear:both">   
		<h3>Existing Users</h3><!--move h3 to css and style center it-->
		<!--begin email address-->
		<p>To allow use with another account click  the <strong> Sign in to another account </strong> button.  To sign in and manage consent settings click <strong> Manage Consent</strong>. 
		</p>
		<!--begin SIGNIN/Manage Profile Buttons -->
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=true">SignIn to another account</a>
			</p>
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=mc">Manage Consent</a>
			</p>
		</div>
	</form>

<footer>
</footer>
</body>
</html>
#<NoMethodError: undefined method `value=' for nil:NilClass>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.1s (0.1s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 15
response-header: date => Tue, 15 Nov 2011 14:57:57 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "413af1aa5b4aa1ed708a278dbe1d0f8f"
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 916
response-header: date => Tue, 15 Nov 2011 14:58:23 GMT
response-header: content-length => 1456
response-header: content-encoding => gzip
response-header: set-cookie => sessionId=EUID%3DNzIwYjQ1YTU6MTMzYTdhNjdhNWM6LTY0ZWY%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com; path=/
response-header: keep-alive => timeout=5, max=100
response-header: vary => Accept-Encoding
response-header: cache-control => private, max-age=0, must-revalidate
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 1438 bytes (1448 total)
Read 8 bytes (1456 total)
gzip body
saved cookie: sessionId=EUID%3DNzIwYjQ1YTU6MTMzYTdhNjdhNWM6LTY0ZWY%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Generic Checkout Page | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/effects.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/controls.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
	<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
</head>
<body class="">
<heSubscriptionIdList": "SEN1321365593970",
  "externalMerchantTransactionID": "SenchaTransId1321365593980",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=e7d37ed95c8f907e917e1461533a4d63
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=e7d37ed95c8f907e917e1461533a4d63
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Tue, 15 Nov 2011 13:59:53 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 7
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 14:58:18 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "13f4aa18b6bea7cad0732248a8a99b83"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1596
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 14:58:19 GMT
response-header: content-length => 8716
response-header: set-cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYTdiNWFhODM6LTZiOWQ%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlNjk3NDE3MGEwMzllNDMyYTgwMzU2Y2IyZmM3NDY5ODU%3D--9e06b5f917ee6e8fb4ef0be626545954236d82d7; path=/; HttpOnly, BIGipServeruser_profile_443=470425516.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 7471 bytes (7471 total)
Read 1245 bytes (8716 total)
saved cookie: sessionId=EUID%3DNWY2NWUwNTg6MTMzYTdiNWFhODM6LTZiOWQ%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlNjk3NDE3MGEwMzllNDMyYTgwMzU2Y2IyZmM3NDY5ODU%3D--9e06b5f917ee6e8fb4ef0be626545954236d82d7
saved cookie: BIGipServeruser_profile_443=470425516.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="10283634339313123" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKKZLNFBE0s0iRxqMs7nAH1NAD6Kwm8ZeH1k2HUUznGRG5H54xWva3dvfQCa1njmiP8AEjZFAE1F
FFABRTZJEijaSR1RFGWZjgAe5rGXxdoLz+SNSi35xkqwX/vrGP1oA26KypfEekw6munSXYF0zKgQ
RsclsbeQMc5HetWgAqvfX1vptnJd3cnlwR43NtJxkgDgc9SKsVz/AI3/AORQvv8Atn/6MWgDQ0zW
9O1nzfsFx53lY3/Iy4znHUD0NaFef/DL/mKf9sv/AGeupufFGjWt8bKW8/0kMFMaRO5ye3APNAGv
RR1ooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigArzH4harLPq405XIgt1BZR/E5Gcn
8CP1r06vKviBYSW/iE3ZU+VcopDdsqApH6D86AOog8AaSNLWGVJDdlPmn3nhsdh0xn2rBk8H69ot
hPdW2qpEscbSTLDK6ZCjPGBz364rq4vGGkto4vWvIhII8mAt8+7H3dvXr36VgWni6+17TdUtpbGJ
UWxmZ5Y2IC/IccHPU+/8qAMfRJvFWtK9vZahceWhy8skpwpI6buT26Crt3L4s8JvHcXN4bq3ZsEt
IZEJ9Du5FS+A/EFhYWk1heSrAzS+Ykj8KcgDBPbp3q7428R6bNosmn2txHczTMuTEwYIAQc5HGeM
UAZHi/xMNX06witmKRSoZZkz/EDgA/Qg/oa19D8EaZdeH4ZrtZGubiMSCRXI2A8jA6dMdc1xl/ol
1Y6PY38yMEuN3B/hH8OfqMmvQfD/AIp0pPDVt9ovIopLaIRvGxwx2jAwOpyB2oA4DToZLbxfZ28r
Fnhvo4iT/suB/StzxJZ+I9GV76XWZfs8s5REiupMrnJHHA6CsSwuftnjK1utu3ztQSTHpmQH+tdf
8QNRsbvQ4Yra9t5pFulJSOVWIG1hnANAGbZX/irxLDFBYSvb28MaxvOXK7mAAJL9ST149afeW3iK
08LavFq8hktsII3kl3sWEq8g9cEZ6+1dToer6Rb6Dp8TajYxMtvGGQzopDbRnIz1znNN8aMr+Db1
0YMrCMgg5BHmLQB5/oHiA6FpupiH/j6uPLWI44XG7LfhkfnXU+BNBi8ga3cOJriUt5fOdnOCT/tH
n/JrmvC3hyPX4NSLSMssMaiEDpvbOCfb5f1rU8Bau9jqMuj3WUWVjsDfwyDqPxx+YoA9JooooAKK
KKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAqtfafa6natbXkCyxHnDdj6g9jVmigDkj8O9
FMm4SXYH9wSDH/oOf1pmu3GkeFdFm0uC0kQ3sEiq0YByduMsSc9/euwqvc2FnelTdWkE5X7pljDY
+mRQB5JpV34fXSnttWtLp7jzi6TW4UEKQBjJI7g9u9dzo3g7Qkit79IppxIiyxi5YHbkZGQAB/Ot
r+wtI/6BVj/4Dp/hV5ESKNY41VEUBVVRgADoAKAMbxJqel2NrHb6tA8ltc5X5UyBjHXnIPPGPSuY
ttE8EzAXQ1Q+X18mWcJ+GCA1dzf6fa6natbXkKyxHnB7H1B7Gubf4daMzkiW8Qf3VkXH6rQBxekQ
x3vjiH7EmLf7YZYwBgCNW3D6cCuzf4daRJIzm5vssSTh0/8Aia2tI8Pabom42cGJGGGkc7mI9M9v
wrUoA4//AIVxo/8Az833/faf/E10F9pFvf6MdLleUQFUTchG7CkEdsdh2rQooAx9C8N2fh/7R9kk
nfz9u7zWBxtzjGAPU1UvfBem3uqtqPnXUE7OH/cuoAYdxlTz3ro6KAAcDrn3ooooAKKKKACiiigA
ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACi
iigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKK
KACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//Z
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
7.0s (7.0s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYTdiNWFhODM6LTZiOWQ%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlNjk3NDE3MGEwMzllNDMyYTgwMzU2Y2IyZmM3NDY5ODU%3D--9e06b5f917ee6e8fb4ef0be626545954236d82d7; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 2265
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 14:58:21 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlNjk3NDE3MGEwMzllNDMyYTgwMzU2Y2IyZmM3NDY5ODUiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--b607cd4ed0c244c942fa20a8ea4eea9bb77accfc; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlNjk3NDE3MGEwMzllNDMyYTgwMzU2Y2IyZmM3NDY5ODUiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--b607cd4ed0c244c942fa20a8ea4eea9bb77accfc
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
2.5s (9.4s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYTdiNWFhODM6LTZiOWQ%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlNjk3NDE3MGEwMzllNDMyYTgwMzU2Y2IyZmM3NDY5ODUiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--b607cd4ed0c244c942fa20a8ea4eea9bb77accfc; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzM2E3OWQ5YjczOi0zMGY0
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 338
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 14:58:23 GMT
response-header: content-length => 143
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 143 bytes (143 total)
Authorization key: LTE2MjkxNzcxOjEzM2E3OWQ5YjczOi0zMGY0
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzM2E3OWQ5YjczOi0zMGY0">redirected</a>.</body></html>
0.4s (9.9s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2E3OWQ5YjczOi0zMGY0 ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2E3OWQ5YjczOi0zMGY0
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 100
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 14:58:24 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "f3152e28f42a55cf01cc2fdaf9eccfc550ae6c44",
  "access_token": "44cc9ced4dd8cf80d313acf4db28d5a0"
}
ACCESS TOKEN: 44cc9ced4dd8cf80d313acf4db28d5a0
Refresh TOKEN: f3152e28f42a55cf01cc2fdaf9eccfc550ae6c44
0.6s (10.4s total) OK. Access token: f3152e28f42a55cf01cc2fdaf9eccfc550ae6c44...

NEXT TEST: device_info_json 22
3.1s (13.5s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=44cc9ced4dd8cf80d313acf4db28d5a0
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=44cc9ced4dd8cf80d313acf4db28d5a0
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=44cc9ced4dd8cf80d313acf4db28d5a0
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
4.4s (17.9s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=44cc9ced4dd8cf80d313acf4db28d5a0
Net::HTTP::Get: /1/devices/tel:123/info?access_token=44cc9ced4dd8cf80d313acf4db28d5a0
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
1.4s (19.3s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (22.3s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=44cc9ced4dd8cf80d313acf4db28d5a0
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=44cc9ced4dd8cf80d313acf4db28d5a0
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
3.2s (25.5s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=44cc9ced4dd8cf80d313acf4db28d5a0
Net::HTTP::Get: /1/devices/tel:123/info?access_token=44cc9ced4dd8cf80d313acf4db28d5a0
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
0.1s (25.6s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (28.6s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=44cc9ced4dd8cf80d313acf4db28d5a0&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=44cc9ced4dd8cf80d313acf4db28d5a0&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
4.3s (32.9s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=44cc9ced4dd8cf80d313acf4db28d5a0&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=44cc9ced4dd8cf80d313acf4db28d5a0&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
1.4s (34.2s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (37.3s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x1023ae730>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=44cc9ced4dd8cf80d313acf4db28d5a0
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=44cc9ced4dd8cf80d313acf4db28d5a0
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
4.9s (42.2s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=44cc9ced4dd8cf80d313acf4db28d5a0
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=44cc9ced4dd8cf80d313acf4db28d5a0
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=44cc9ced4dd8cf80d313acf4db28d5a0
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=44cc9ced4dd8cf80d313acf4db28d5a0
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
7.6s (49.7s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=44cc9ced4dd8cf80d313acf4db28d5a0&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=44cc9ced4dd8cf80d313acf4db28d5a0&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=44cc9ced4dd8cf80d313acf4db28d5a0&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=44cc9ced4dd8cf80d313acf4db28d5a0&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
13.4s (63.1s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.1s (66.1s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=44cc9ced4dd8cf80d313acf4db28d5a0
Request: https://api.att.com/1/messages/outbox/sms?access_token=44cc9ced4dd8cf80d313acf4db28d5a0
Net::HTTP::Post: /1/messages/outbox/sms?access_token=44cc9ced4dd8cf80d313acf4db28d5a0
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2E3OWQ5YjczOi0zMGY0
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 14:59:20 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b487b5e055d182"
  },
  "id": "SMSa9b487b5e055d182"
}
0.5s (66.6s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (69.6s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=44cc9ced4dd8cf80d313acf4db28d5a0
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=44cc9ced4dd8cf80d313acf4db28d5a0
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=44cc9ced4dd8cf80d313acf4db28d5a0
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 14:59:24 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b598c3c57f0a0d"
  },
  "id": "SMSa9b598c3c57f0a0d"
}
0.5s (70.2s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.0s (73.2s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=44cc9ced4dd8cf80d313acf4db28d5a0
Request: https://api.att.com/1/messages/outbox/mms?access_token=44cc9ced4dd8cf80d313acf4db28d5a0
Net::HTTP::Post: /1/messages/outbox/mms?access_token=44cc9ced4dd8cf80d313acf4db28d5a0
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_16994821.1321369167587"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=44cc9ced4dd8cf80d313acf4db28d5a0
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 14:59:28 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf6775fb"
  },
  "id": "MMSa9b50d45cf6775fb"
}
1.0s (74.2s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf6775fb?access_token=44cc9ced4dd8cf80d313acf4db28d5a0
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b50d45cf6775fb?access_token=44cc9ced4dd8cf80d313acf4db28d5a0
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 14:59:31 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b50d45cf6775fb"
  }
}
3.5s (77.7s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.0s (80.7s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=44cc9ced4dd8cf80d313acf4db28d5a0
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=44cc9ced4dd8cf80d313acf4db28d5a0
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_19023635.1321369175079"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf6775fb?access_token=44cc9ced4dd8cf80d313acf4db28d5a0
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 14:59:34 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b4a1507be34a75"
}
0.6s (81.3s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.0s (84.3s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=44cc9ced4dd8cf80d313acf4db28d5a0
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321369178750",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=44cc9ced4dd8cf80d313acf4db28d5a0
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=44cc9ced4dd8cf80d313acf4db28d5a0
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Tue, 15 Nov 2011 14:59:43 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
13.9s (98.2s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=44cc9ced4dd8cf80d313acf4db28d5a0
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321369192651</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=44cc9ced4dd8cf80d313acf4db28d5a0
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=44cc9ced4dd8cf80d313acf4db28d5a0
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Tue, 15 Nov 2011 14:59:54 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactader>
<h1 class="logo" id="logo_title">Consent Request</h1>
<img src="/images/att.png" alt="" id="logo" height="28" width="28" />
</header>
	<form action="/off_net_consent_wireless" id="off_net_consent_wireless" method="post">
	<p><strong>Sencha API Poller</strong>  by Jason Cline, is requesting do the following: 
		<div id="firstCol_b">
			<ul>
				
				
					<li>Location - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
					<li>Device Capabilities - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
				
				
				
				
				
				
				
			</ul>
			<p>If ok, enter the wireless phone number and click Allow. A verification message will be sent.	</p>
		</div>
	<br><p></p>
	<br>
	<form action="" id="signup" method="post">
		<div id="firstCol_b">
			<label for="phone"><span>Wireless Number</span></label> 
		</div>
		<div id="firstCol_a">
			<img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50">
		</div>
		<div class="input-c" id="firstCol_b" style="right: 9px; top: 9px">
			<input id="login_wireless" name="login[wireless]" size="30" style="color:silver;" type="text" />
			<input id="login_client_id" name="login[client_id]" type="hidden" value="cddc0328b4c56103f8febb0194df7fd8" />
			<input id="login_scope" name="login[scope]" type="hidden" value="TL,DC,WAP,SMS,MMS,PAYMENT" />
			<input id="login_id" name="login[id]" type="hidden" />
			<!--<input  name="phone" type="text" value="4252221234" style="color: silver;">-->
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="javascript:submit_off_net_wireless();">Allow</a>
			</p>
			<p>
				<a class="button cancel" href="/deny_pin">Cancel</a>
			</p>
			<p style="text-align:center; margin-left:10px;color:red;"></p>
			<br>
			<p><SMALL>Refer to Craftguilds Privacy Policy for details on how this information may be used or shared.</SMALL>
			</p>
		</div>
	</form>
	<form action="" id="signup" method="post">
		<hr style="clear:both">   
		<h3>Existing Users</h3><!--move h3 to css and style center it-->
		<!--begin email address-->
		<p>To allow use with another account click  the <strong> Sign in to another account </strong> button.  To sign in and manage consent settings click <strong> Manage Consent</strong>. 
		</p>
		<!--begin SIGNIN/Manage Profile Buttons -->
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=true">SignIn to another account</a>
			</p>
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=mc">Manage Consent</a>
			</p>
		</div>
	</form>

<footer>
</footer>
</body>
</html>
#<NoMethodError: undefined method `value=' for nil:NilClass>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to teionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
5.1s (103.3s total) OK. New subscription request SEN1321369197723...
Request: : https://api.att.com/1/payments/transactions?access_token=44cc9ced4dd8cf80d313acf4db28d5a0
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321369197723",
  "externalMerchantTransactionID": "SenchaTransId1321369197736",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=44cc9ced4dd8cf80d313acf4db28d5a0
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=44cc9ced4dd8cf80d313acf4db28d5a0
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Tue, 15 Nov 2011 14:59:57 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://st queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.1s (0.1s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 15
response-header: date => Tue, 15 Nov 2011 15:57:57 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "413af1aa5b4aa1ed708a278dbe1d0f8f"
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 824
response-header: date => Tue, 15 Nov 2011 15:58:23 GMT
response-header: content-length => 1456
response-header: content-encoding => gzip
response-header: set-cookie => sessionId=EUID%3DLTExOWE0NWM2OjEzM2E2ZjI1ZGY1OjdjN2Y%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com; path=/
response-header: keep-alive => timeout=5, max=100
response-header: vary => Accept-Encoding
response-header: cache-control => private, max-age=0, must-revalidate
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 1438 bytes (1448 total)
Read 8 bytes (1456 total)
gzip body
saved cookie: sessionId=EUID%3DLTExOWE0NWM2OjEzM2E2ZjI1ZGY1OjdjN2Y%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Generic Checkout Page | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/effects.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/controls.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
	<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo" id="logo_title">Consent Request</h1>
<img src="/images/att.png" alt="" id="logo" height="28" width="28" />
</header>
	<form action="/off_net_consent_wireless" id="off_net_consent_wireless" method="post">
	<p><strong>Sencha API Poller</strong>  by Jason Cline, is requesting do the following: 
		<div id="firstCol_b">
			<ul>
				
				
					<li>Location - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
					<li>Device Capabilities - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
				
				
				
				
				
				
				
			</ul>
			<p>If ok, enter the wireless phone number and click Allow. A verification message will be sent.	</p>
		</div>
	<br><p></p>
	<br>
	<form action="" id="signup" method="post">
		<div id="firstCol_b">
			<label for="phone"><span>Wireless Number</span></label> 
		</div>
		<div id="firstCol_a">
			<img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50">
		</div>
		<div class="input-c" id="firstCol_b" style="right: 9px; top: 9px">
			<input id="login_wireless" name="login[wireless]" size="30" style="color:silver;" type="text" />
			<input id="login_client_id" name="login[client_id]" type="hidden" value="cddc0328b4c56103f8febb0194df7fd8" />
			<input id="login_scope" name="login[scope]" type="hidden" value="TL,DC,WAP,SMS,MMS,PAYMENT" />
			<input id="login_id" name="login[id]" type="hidden" />
			<!--<input  name="phone" type="text" value="4252221234" style="color: silver;">-->
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="javascript:submit_off_net_wireless();">Allow</a>
			</p>
			<p>
				<a class="button cancel" href="/deny_pin">Cancel</a>
			</p>
			<p style="text-align:center; margin-left:10px;color:red;"></p>
			<br>
			<p><SMALL>Refer to Craftguilds Privacy Policy for details on how this information may be used or shared.</SMALL>
			</p>
		</div>
	</form>
	<form action="" id="signup" method="post">
		<hr style="clear:both">   
		<h3>Existing Users</h3><!--move h3 to css and style center it-->
		<!--begin email address-->
		<p>To allow use with another account click  the <strong> Sign in to another account </strong> button.  To sign in and manage consent settings click <strong> Manage Consent</strong>. 
		</p>
		<!--begin SIGNIN/Manage Profile Buttons -->
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=true">SignIn to another account</a>
			</p>
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=mc">Manage Consent</a>
			</p>
		</div>
	</form>

<footer>
</footer>
</body>
</html>
#<NoMethodError: undefined 127.0.0.1:5985/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 7
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 15:58:26 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "9e1386acc0f5bc6f3cdcc20dbdaca9f7"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1351
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 15:58:27 GMT
response-header: content-length => 8720
response-header: set-cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2E3OWQ5YjczOjc2ZGI%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlMGZhMTkwMjA4Yjc1NzI5NmE0MjYxYWIyODU1YmQyNGM%3D--640acbde0b4bfd5bc2aa8a469ec6528c5773e58e; path=/; HttpOnly, BIGipServeruser_profile_443=269098924.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4096 bytes (4096 total)
Read 4624 bytes (8720 total)
saved cookie: sessionId=EUID%3DLTE2MjkxNzcxOjEzM2E3OWQ5YjczOjc2ZGI%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlMGZhMTkwMjA4Yjc1NzI5NmE0MjYxYWIyODU1YmQyNGM%3D--640acbde0b4bfd5bc2aa8a469ec6528c5773e58e
saved cookie: BIGipServeruser_profile_443=269098924.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="19937478783271431" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKKKACiiigAoqG6u7eygM91MkMQ6s7YFZUXjDQJZfLXUow2cZZWUfmRigDbopodWQOGBQjIYHjHr
WPJ4t0GKfyW1KLfnHyhmX/voDH60AbVFZF74n0bT3jS5vlUyRiRCqM4ZSSAQVBHY1r0AFFFFABRW
RZ+KNFv3kW3vlPlIZHLoyBVBAzlgB1Ipkfi7QZZxCupR7ycZZWVf++iMfrQBtUUAggEHINFABRRR
QAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFef8AjK18Q2l5PqVrfXC2DFcJBO48vCgElRwA
TnpXoFc74g8WafpVrJGjxXV0cp5CsGAPQ78dPp1oAyPDuqM/gzUmutYBuf3m2SWZi0OUAXk89QSM
Z9ua53Rk8Ta7O8dnql2ET70slzIEHtn1pth4UudW0m51VLm1iVSWWPeMcckE5wmB6/jit/wb4psr
a1XSr0Q2rR52TAgI/ruPTPv0NAGJ4r1CTV/FLWjzCO3hlECbjhU5wzH8c8+grV1jQvC0eiStYahb
fbIULKwuwxlI7YzjJ9gOawfENvHZ+K5Zpk860nlFypVuJY2O44I/EZFdPNa+AobD7XtikGMiJLhz
IfbbuyPxoA5GLxBeReHptJEreU8gIOeQvO5foTj9fWun8I+EdP1HRRfX8bStMzCMByoUA4zx3yD1
rG1yDQrrTlutAt5Y/JbFwGDnAb7pJJI6j1710vgrxDp0Hh9bO7uoreS3ZuJGC7lJLZHr1PFAHDa5
YNpesXFgZGdIGwhY/wAJ+YfzrSuLrxLpeunTRqdzPdqQoVZmdWLLngN7HuOKz/EOoR6rr93eRZ8u
RgEz3AAUH9K6HVdRi0n4myXsyloo2QNjqAYgM/hnNAFl9D8bRw/ahqbvIBnyVuWJ+mMbT+davg/x
XNq0j2F+ALyNdyuBjeB1yOxFa0ninRI7Q3P9pQMuMhVbLn229a4nwdFLqfjKfVI4ykCNJK3oN+QF
/X9KAOe0PTzqus21hvZFmbDlf7o+Y/yrrfF3hHT9O0X7dYRtE0LKJAXLBgTjPPfJHSuU8Pagmla9
aXkufLjch8DOAQVJ/I12/jXxDp0/h5rS1u4riS4ZeI2DbVBDZOOnQcUATfDzUpbvSZrSVixtWAQn
srZwPzBrsK4n4b2UkOm3d26kLPIqpnuFzz+ZI/Cu2oAKKKKACiiigAooooAKKKKACiiigAooooAK
KKKACiiigArlbvwBpV5ez3UlxeB5pGkYK64BJycfL711VFAGPp/huz03RrrS4ZJ2gud+9nYFhuUK
cYGOg9Kx/wDhXGj/APPzff8Afaf/ABNdhRQBl3Hh7TrzS7ewuYfNit41jjdjhwAAM5GPSsYfDrRR
JuMl4R/dMi4/9BzXW0UAYV7/AGP4Y0XY9mRZSP5bqib85B5bJ56Y/KuZg0jwTqDNPFqTwKDzDJMI
x/48Mn8DXfXNtDeW729xEskTjDIw4NcxL8PNFkcsjXcQ/upICP1BNAHn2ufYDrs400D7EpVU2DPA
UAnnryCc1futa0y98ZSapc20sunyDDRMo3H93t6Zx15616DpvhHRtMLNHbec7KVLT/Pweox0/Srv
9haR/wBAqx/8B0/woA4zQ9A8MeIZZ5LRNRjWErujldQpznGMZPb1ru7KwtdNtlt7OBYYh/Cvc+pP
c0W1jaWW77LawQb8bvKjC5x0zirFAHjfg+CK58U2kM0ayROJAysMgjy2rux8P9DFz5uLgpnPlGT5
fp0z+tS6X4K03SNSivrea6aWLO0SOpXkEc4UetdJQAyGGO3hSGFFSNBtVVGABT6KKACiiigAoooo
AKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigA
ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACi
iigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/2Q==
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
14.7s (14.8s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2E3OWQ5YjczOjc2ZGI%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlMGZhMTkwMjA4Yjc1NzI5NmE0MjYxYWIyODU1YmQyNGM%3D--640acbde0b4bfd5bc2aa8a469ec6528c5773e58e; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 2838
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 15:58:29 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlMGZhMTkwMjA4Yjc1NzI5NmE0MjYxYWIyODU1YmQyNGMiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--8270bc5d9bf4e73ab19bb9044e3673ebb191052b; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlMGZhMTkwMjA4Yjc1NzI5NmE0MjYxYWIyODU1YmQyNGMiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--8270bc5d9bf4e73ab19bb9044e3673ebb191052b
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
3.1s (17.8s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2E3OWQ5YjczOjc2ZGI%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlMGZhMTkwMjA4Yjc1NzI5NmE0MjYxYWIyODU1YmQyNGMiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--8270bc5d9bf4e73ab19bb9044e3673ebb191052b; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=NWY2NWUwNTg6MTMzYTdiNWFhODM6NDMzOQ%3D%3D
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 344
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 15:58:32 GMT
response-header: content-length => 147
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 147 bytes (147 total)
Authorization key: NWY2NWUwNTg6MTMzYTdiNWFhODM6NDMzOQ%3D%3D
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=NWY2NWUwNTg6MTMzYTdiNWFhODM6NDMzOQ%3D%3D">redirected</a>.</body></html>
0.5s (18.4s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzYTdiNWFhODM6NDMzOQ%3D%3D ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzYTdiNWFhODM6NDMzOQ%3D%3D
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 103
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 15:58:33 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "a2926a4c2ccd67b779a93bbb3e4c08e46f8244ca",
  "access_token": "fc7c6186fda5920069501a915770fd6b"
}
ACCESS TOKEN: fc7c6186fda5920069501a915770fd6b
Refresh TOKEN: a2926a4c2ccd67b779a93bbb3e4c08e46f8244ca
0.9s (19.3s total) OK. Access token: a2926a4c2ccd67b779a93bbb3e4c08e46f8244ca...

NEXT TEST: device_info_json 22
3.0s (22.3s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=fc7c6186fda5920069501a915770fd6b
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=fc7c6186fda5920069501a915770fd6b
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=fc7c6186fda5920069501a915770fd6b
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
4.9s (27.2s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=fc7c6186fda5920069501a915770fd6b
Net::HTTP::Get: /1/devices/tel:123/info?access_token=fc7c6186fda5920069501a915770fd6b
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPInternalServerError 1.1 500 Internal Server Error
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 169
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 169 bytes (169 total)
500 => Net::HTTPInternalServerError
{"requestError": {

    "serviceException": {

        "messageId": "SVC0001",

        "text": "Internal platform error occurred " ,

        "variables" : " "    }

}}
122.4s (149.6s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (152.6s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=fc7c6186fda5920069501a915770fd6b
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=fc7c6186fda5920069501a915770fd6b
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPInternalServerError 1.1 500 Internal Server Error
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 185
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 185 bytes (185 total)
500 => Net::HTTPInternalServerError
<RequestError>
<ServiceException>
    <MessageId>SVC0001</MessageId>
    <Text>Internal platform error occurred </Text>
    <Variables>  </Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
127.2s (279.8s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=fc7c6186fda5920069501a915770fd6b
Net::HTTP::Get: /1/devices/tel:123/info?access_token=fc7c6186fda5920069501a915770fd6b
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
0.2s (280.0s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (283.0s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=fc7c6186fda5920069501a915770fd6b&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=fc7c6186fda5920069501a915770fd6b&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
4.4s (287.4s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=fc7c6186fda5920069501a915770fd6b&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=fc7c6186fda5920069501a915770fd6b&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
1.6s (289.0s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (292.0s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x10240f3c8>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=fc7c6186fda5920069501a915770fd6b
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=fc7c6186fda5920069501a915770fd6b
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
6.2s (298.2s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=fc7c6186fda5920069501a915770fd6b
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=fc7c6186fda5920069501a915770fd6b
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=fc7c6186fda5920069501a915770fd6b
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=fc7c6186fda5920069501a915770fd6b
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
7.5s (305.7s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=fc7c6186fda5920069501a915770fd6b&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=fc7c6186fda5920069501a915770fd6b&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=fc7c6186fda5920069501a915770fd6b&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=fc7c6186fda5920069501a915770fd6b&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
9.0s (314.7s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (317.7s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=fc7c6186fda5920069501a915770fd6b
Request: https://api.att.com/1/messages/outbox/sms?access_token=fc7c6186fda5920069501a915770fd6b
Net::HTTP::Post: /1/messages/outbox/sms?access_token=fc7c6186fda5920069501a915770fd6b
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzYTdiNWFhODM6NDMzOQ%3D%3D
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 16:03:32 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b487b5e055d184"
  },
  "id": "SMSa9b487b5e055d184"
}
0.6s (318.3s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (321.3s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=fc7c6186fda5920069501a915770fd6b
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=fc7c6186fda5920069501a915770fd6b
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=fc7c6186fda5920069501a915770fd6b
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 16:03:35 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b487b5e055d185"
  },
  "id": "SMSa9b487b5e055d185"
}
1.0s (322.3s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.1s (325.4s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=fc7c6186fda5920069501a915770fd6b
Request: https://api.att.com/1/messages/outbox/mms?access_token=fc7c6186fda5920069501a915770fd6b
Net::HTTP::Post: /1/messages/outbox/mms?access_token=fc7c6186fda5920069501a915770fd6b
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_15621377.1321373019758"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=fc7c6186fda5920069501a915770fd6b
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 16:04:03 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf6775fc"
  },
  "id": "MMSa9b50d45cf6775fc"
}
25.2s (350.5s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf6775fc?access_token=fc7c6186fda5920069501a915770fd6b
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b50d45cf6775fc?access_token=fc7c6186fda5920069501a915770fd6b
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 16:04:08 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b50d45cf6775fc"
  }
}
3.4s (354.0s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.0s (357.0s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=fc7c6186fda5920069501a915770fd6b
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=fc7c6186fda5920069501a915770fd6b
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_19267833.1321373051440"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf6775fc?access_token=fc7c6186fda5920069501a915770fd6b
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 16:04:11 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b1524324bb0325"
}
0.6s (357.6s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.0s (360.6s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=fc7c6186fda5920069501a915770fd6b
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321373055077",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=fc7c6186fda5920069501a915770fd6b
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=fc7c6186fda5920069501a915770fd6b
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Tue, 15 Nov 2011 16:04:16 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
10.9s (371.5s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=fc7c6186fda5920069501a915770fd6b
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321373065953</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=fc7c6186fda5920069501a915770fd6b
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=fc7c6186fda5920069501a915770fd6b
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Tue, 15 Nov 2011 16:04:26 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
4.5s (376.0s total) OK. New subscription request SEN1321373070473...
Request: : https://api.att.com/1/payments/transactions?access_token=fc7c6186fda5920069501a915770fd6b
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321373070473",
  "externalMerchantTransactionID": "SenchaTransId1321373070484",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=fc7c6186fda5920069501a915770fd6b
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=fc7c6186fda5920069501a915770fd6b
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Tue, 15 Nov 2011 16:04:30 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsomethod `value=' for nil:NilClass>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 15
response-header: date => Tue, 15 Nov 2011 16:57:57 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "413af1aa5b4aa1ed708a278dbe1d0f8f"
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 894
response-header: date => Tue, 15 Nov 2011 16:58:23 GMT
response-header: content-length => 1456
response-header: content-encoding => gzip
response-header: set-cookie => sessionId=EUID%3DNzIwYjQ1YTU6MTMzYTdhNjdhNWM6MWM4NQ%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com; path=/
response-header: keep-alive => timeout=5, max=100
response-header: vary => Accept-Encoding
response-header: cache-control => private, max-age=0, must-revalidate
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 1438 bytes (1448 total)
Read 8 bytes (1456 total)
gzip body
saved cookie: sessionId=EUID%3DNzIwYjQ1YTU6MTMzYTdhNjdhNWM6MWM4NQ%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Generic Checkout Page | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/effects.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/controls.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
	<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo" id="logo_title">Consent Request</h1>
<img src="/images/att.png" alt="" id="logo" height="28" width="28" />
</header>
	<form action="/off_net_consent_wireless" id="off_net_consent_wireless" method="post">
	<p><strong>Sencha API Poller</strong>  by Jason Cline, is requesting do the following: 
		<div id="firstCol_b">
			<ul>
				
				
					<li>Location - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
					<li>Device Capabilities - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
				
				
				
				
				
				
				
			</ul>
			<p>If ok, enter the wireless phone number and click Allow. A verification message will be sent.	</p>
		</div>
	<br><p></p>
	<br>
	<form action="" id="signup" method="post">
		<div id="firstCol_b">
			<label for="phone"><span>Wireless Number</span></label> 
		</div>
		<div id="firstCol_a">
			<img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50">
		</div>
		<div class="input-c" id="firstCol_b" style="right: 9px; top: 9px">
			<input id="login_wireless" name="login[wireless]" size="30" style="color:silver;" type="text" />
			<input id="login_client_id" name="login[client_id]" type="hidden" value="cddc0328b4c56103f8febb0194df7fd8" />
			<input id="login_scope" name="login[scope]" type="hidden" value="TL,DC,WAP,SMS,MMS,PAYMENT" />
			<input id="login_id" name="login[id]" type="hidden" />
			<!--<input  name="phone" type="text" value="4252221234" style="color: silver;">-->
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="javascript:submit_off_net_wireless();">Allow</a>
			</p>
			<p>
				<a class="button cancel" href="/deny_pin">Cancel</a>
			</p>
			<p style="text-align:center; margin-left:10px;color:red;"></p>
			<br>
	np
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 7
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 16:58:18 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "a4c7e61b591045adbd61f2694f1e85fe"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 2498
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 16:58:18 GMT
response-header: content-length => 8474
response-header: set-cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2E3ZjE2NGI2OjFmNmU%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlNmRjYTMzNWM4NGVlOWUyMDZkMzcxYTliY2VjODUyYzc%3D--a6037dad5e7d4c5b991353d586c32414629ee68b; path=/; HttpOnly, BIGipServeruser_profile_443=470425516.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 7471 bytes (7471 total)
Read 1003 bytes (8474 total)
saved cookie: sessionId=EUID%3DLTE2MjkxNzcxOjEzM2E3ZjE2NGI2OjFmNmU%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlNmRjYTMzNWM4NGVlOWUyMDZkMzcxYTliY2VjODUyYzc%3D--a6037dad5e7d4c5b991353d586c32414629ee68b
saved cookie: BIGipServeruser_profile_443=470425516.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="19941071391715466" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKKKACiiigAooooAKKK5nxl4iuNBtLdbRU8+4ZgGcZChcZ49eRQB01FcET8QEQSZRxjJTEORXZ6a
Lsadb/bmDXRQGUgAAE9uPTp+FAFqgkAEk4AormPH1xPb+GWEJYCWVY5CP7pBP8wB+NAFybxdoNvK
Yn1KMsDg7FZx+YBFadnfWuoQCa0uI5o+m5DnB9D6V534P8N6brGj3lxe5MiuY1IcjywFB3e/Xv6V
U8A3E8XiaOGMnypkYSjtgAkH88fnQB6vRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFF
FFABXJeLvFcmjyJYWChrx13FiMhAemB3Jrra8x8YRS6Z40g1OSMvAzxSr6HZgFf0/WgC7FofjW6U
XL6qYXPPlvcMD+SjbWRHJ4jvfEUmly6rPBeklf8AXMiZUZ/h9VHpzXoUHifRLi3Ey6lbKCM7ZJAr
D8DzWZD4u8PTa35aiNWKk/bHQKCQOmTz070AcfaXus2Hia2tNU1S6gWOdDKJrhyjKCD75BH4Vp+O
dUuotahTTtUlX9yFaG3mYENknJA45BHv+lVfEGqp4u1m2sLCOBEVtqTzEKXJ+vb0HU1BPYy+CNft
p5Db3iY3KCQGx0zt6g9cHpQB2fhDT9Zs7eeXV7qSUzhDHHJKztHjdnOemcjpXB+J9K1jTPsv9rX/
ANr8zf5f755NuMZ+8OM5HT0r1DTNb0/V4le0uY2cruMRYb1HQ5XqOa4f4iX9ne/2b9ku4LjZ5u7y
pA+3OzGcdOhoAsf8Ir4w/wCg9/5OTf4VR8Q2XiTRIjezazKYZJtiLFdSZGckcHA6Cu+/t7R/+gtY
/wDgQn+Ncr4/1Kxu9Dhitr22mkW6UlI5VYgbW5wDQBnWV/4q8SwxQWEr29vDGsbzlyu5gACS/Uk9
ePWrAudV0PS7yPxIn2y0lzHDHLLuZ3B6g9QuMnJ6YGK6TQ9X0i30HT4m1GxiZbeMMhnRSG2jORnr
nOaxfiPbvPp1heRfPBGzBivI+YDB+nH60Ac3o3h/WtUsbm501xb2zkqY/OZfNx/D79e9avgPUrKz
v30+e0EV5KSonJOSR/AQenTt1rT8G+IdMtvDaW11dRQSWxbKyNgsCS2R69ccelcro6vq/jmOe3Qh
Wuzcn/ZUNu5/l+NAHr9FFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFV7yxtdQt2
t7uBJoj/AAsP1HoasUUAcnJ8PNFeTcrXca/3FkGP1BP61an8E6LLp62aRPCocOZI2G9iARgkg8c9
K6KigDlbTwBpVnewXUdxeF4ZFkUM64JByM/L7Vc1vwlYa9epdXU1yjpGIwImUDAJPcH1reooAwdE
8JWGg3r3VrNcu7xmMiVlIwSD2A9Kzf8AhXGj/wDPzff99p/8TXYUUAcf/wAK40f/AJ+b7/vtP/ia
Vvh1pDuzG5vsk5++n/xNdfRQBx//AArjR/8An5vv++0/+JrqRaQ/Yls3QSQiMRlXAO4AY5qeigDl
J/h9ok0pdDcwgn7kcgx+oJra0nQ9P0WJksoAhb77scs31NaNFABRRRQAUUUUAFFFFABRRRQAUUUU
AFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQA
UUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABR
RRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQB/9k=
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
7.1s (7.1s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2E3ZjE2NGI2OjFmNmU%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlNmRjYTMzNWM4NGVlOWUyMDZkMzcxYTliY2VjODUyYzc%3D--a6037dad5e7d4c5b991353d586c32414629ee68b; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 2052
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 16:58:21 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlNmRjYTMzNWM4NGVlOWUyMDZkMzcxYTliY2VjODUyYzciCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--aa3e05a3529e6e6d5d2303cc78c165fa64b5dd3b; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlNmRjYTMzNWM4NGVlOWUyMDZkMzcxYTliY2VjODUyYzciCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--aa3e05a3529e6e6d5d2303cc78c165fa64b5dd3b
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
2.2s (9.3s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2E3ZjE2NGI2OjFmNmU%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlNmRjYTMzNWM4NGVlOWUyMDZkMzcxYTliY2VjODUyYzciCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--aa3e05a3529e6e6d5d2303cc78c165fa64b5dd3b; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=NWY2NWUwNTg6MTMzYTgwNjFkNTU6LWViZQ%3D%3D
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 345
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 16:58:23 GMT
response-header: content-length => 147
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 147 bytes (147 total)
Authorization key: NWY2NWUwNTg6MTMzYTgwNjFkNTU6LWViZQ%3D%3D
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=NWY2NWUwNTg6MTMzYTgwNjFkNTU6LWViZQ%3D%3D">redirected</a>.</body></html>
0.4s (9.8s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzYTgwNjFkNTU6LWViZQ%3D%3D ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzYTgwNjFkNTU6LWViZQ%3D%3D
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 100
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 16:58:24 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "1fca0926b6370d7a403d943f650147033d3aa934",
  "access_token": "11f3e7fcf5d8489c16a7a00ed0763074"
}
ACCESS TOKEN: 11f3e7fcf5d8489c16a7a00ed0763074
Refresh TOKEN: 1fca0926b6370d7a403d943f650147033d3aa934
0.8s (10.5s total) OK. Access token: 1fca0926b6370d7a403d943f650147033d3aa934...

NEXT TEST: device_info_json 22
3.0s (13.6s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=11f3e7fcf5d8489c16a7a00ed0763074
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=11f3e7fcf5d8489c16a7a00ed0763074
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=11f3e7fcf5d8489c16a7a00ed0763074
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
4.1s (17.7s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=11f3e7fcf5d8489c16a7a00ed0763074
Net::HTTP::Get: /1/devices/tel:123/info?access_token=11f3e7fcf5d8489c16a7a00ed0763074
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPInternalServerError 1.1 500 Internal Server Error
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 169
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 169 bytes (169 total)
500 => Net::HTTPInternalServerError
{"requestError": {

    "serviceException": {

        "messageId": "SVC0001",

        "text": "Internal platform error occurred " ,

        "variables" : " "    }

}}
122.1s (139.8s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (142.8s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=11f3e7fcf5d8489c16a7a00ed0763074
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=11f3e7fcf5d8489c16a7a00ed0763074
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
3.2s (146.0s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=11f3e7fcf5d8489c16a7a00ed0763074
Net::HTTP::Get: /1/devices/tel:123/info?access_token=11f3e7fcf5d8489c16a7a00ed0763074
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
0.2s (146.1s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (149.1s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=11f3e7fcf5d8489c16a7a00ed0763074&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=11f3e7fcf5d8489c16a7a00ed0763074&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
4.2s (153.4s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=11f3e7fcf5d8489c16a7a00ed0763074&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=11f3e7fcf5d8489c16a7a00ed0763074&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
1.6s (155.0s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (158.0s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x1023e9510>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=11f3e7fcf5d8489c16a7a00ed0763074
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=11f3e7fcf5d8489c16a7a00ed0763074
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
4.2s (162.2s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=11f3e7fcf5d8489c16a7a00ed0763074
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=11f3e7fcf5d8489c16a7a00ed0763074
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=11f3e7fcf5d8489c16a7a00ed0763074
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=11f3e7fcf5d8489c16a7a00ed0763074
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
6.4s (168.6s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=11f3e7fcf5d8489c16a7a00ed0763074&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=11f3e7fcf5d8489c16a7a00ed0763074&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=11f3e7fcf5d8489c16a7a00ed0763074&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=11f3e7fcf5d8489c16a7a00ed0763074&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
7.7s (176.3s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (179.3s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=11f3e7fcf5d8489c16a7a00ed0763074
Request: https://api.att.com/1/messages/outbox/sms?access_token=11f3e7fcf5d8489c16a7a00ed0763074
Net::HTTP::Post: /1/messages/outbox/sms?access_token=11f3e7fcf5d8489c16a7a00ed0763074
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzYTgwNjFkNTU6LWViZQ%3D%3D
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 17:01:14 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b487b5e055d187"
  },
  "id": "SMSa9b487b5e055d187"
}
0.7s (180.0s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (183.0s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=11f3e7fcf5d8489c16a7a00ed0763074
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=11f3e7fcf5d8489c16a7a00ed0763074
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=11f3e7fcf5d8489c16a7a00ed0763074
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 17:01:17 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b598c3c57f0a10"
  },
  "id": "SMSa9b598c3c57f0a10"
}
0.5s (183.6s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.0s (186.6s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=11f3e7fcf5d8489c16a7a00ed0763074
Request: https://api.att.com/1/messages/outbox/mms?access_token=11f3e7fcf5d8489c16a7a00ed0763074
Net::HTTP::Post: /1/messages/outbox/mms?access_token=11f3e7fcf5d8489c16a7a00ed0763074
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_16583752.1321376480997"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=11f3e7fcf5d8489c16a7a00ed0763074
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 17:01:21 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36ceca"
  },
  "id": "MMSa9b11c1e5b36ceca"
}
1.3s (187.9s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36ceca?access_token=11f3e7fcf5d8489c16a7a00ed0763074
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b11c1e5b36ceca?access_token=11f3e7fcf5d8489c16a7a00ed0763074
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 17:01:24 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b11c1e5b36ceca"
  }
}
3.4s (191.3s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.0s (194.3s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=11f3e7fcf5d8489c16a7a00ed0763074
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=11f3e7fcf5d8489c16a7a00ed0763074
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_11523375.1321376488713"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36ceca?access_token=11f3e7fcf5d8489c16a7a00ed0763074
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 17:01:29 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b1524324bb0326"
}
0.7s (194.9s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.1s (198.0s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=11f3e7fcf5d8489c16a7a00ed0763074
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321376492435",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=11f3e7fcf5d8489c16a7a00ed0763074
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=11f3e7fcf5d8489c16a7a00ed0763074
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Tue, 15 Nov 2011 17:01:33 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
10.6s (208.6s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=11f3e7fcf5d8489c16a7a00ed0763074
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321376503020</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=11f3e7fcf5d8489c16a7a00ed0763074
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=11f3e7fcf5d8489c16a7a00ed0763074
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Tue, 15 Nov 2011 17:01:43 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
3.5s (212.1s total) OK. New subscription request SEN1321376506498...
Request: : https://api.att.com/1/payments/transactions?access_token=11f3e7fcf5d8489c16a7a00ed0763074
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321376506498",
  "externalMerchantTransactionID": "SenchaTransId1321376506511",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=11f3e7fcf5d8489c16a7a00ed0763074
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=11f3e7fcf5d8489c16a7a00ed0763074
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Tue, 15 Nov 2011 17:01:46 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error		<p><SMALL>Refer to Craftguilds Privacy Policy for details on how this information may be used or shared.</SMALL>
			</p>
		</div>
	</form>
	<form action="" id="signup" method="post">
		<hr style="clear:both">   
		<h3>Existing Users</h3><!--move h3 to css and style center it-->
		<!--begin email address-->
		<p>To allow use with another account click  the <strong> Sign in to another account </strong> button.  To sign in and manage consent settings click <strong> Manage Consent</strong>. 
		</p>
		<!--begin SIGNIN/Manage Profile Buttons -->
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=true">SignIn to another account</a>
			</p>
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=mc">Manage Consent</a>
			</p>
		</div>
	</form>

<footer>
</footer>
</body>
</html>
#<NoMethodError: undefined method `value=' for nil:NilClass>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 12
response-header: date => Tue, 15 Nov 2011 17:57:57 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "413af1aa5b4aa1ed708a278dbe1d0f8f"
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 682
response-header: date => Tue, 15 Nov 2011 17:58:23 GMT
response-header: content-length => 1456
response-header: content-encoding => gzip
response-header: set-cookie => sessionId=EUID%3DLTExOWE0NWM2OjEzM2E3ZjdmZmJkOi1mYTI%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com; path=/
response-header: keep-alive => timeout=5, max=100
response-header: vary => Accept-Encoding
response-header: cache-control => private, max-age=0, must-revalidate
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 1438 bytes (1448 total)
Read 8 bytes (1456 total)
gzip body
saved cookie: sessionId=EUID%3DLTExOWE0NWM2OjEzM2E3ZjdmZmJkOi1mYTI%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Generic Checkout Page | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/effects.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/controls.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
	<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo" id="logo_title">Consent Request</h1>
<img src="/images/att.png" alt="" id="logo" height="28" width="28" />
</header>
	<form action="/off_net_consent_wireless" id="off_net_consent_wireless" method="post">
	<p><strong>Sencha API Poller</strong>  by Jason Cline, is requesting do the following: 
		<div id="firstCol_b">
			<ul>
				
				
					<li>Location - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
					<li>Device Capabilities - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
				
				
				
				
				
				
				
			</ul>
			<p>If ok, enter the wireless phone number and click Allow. A verification message will be sent.	</p>
		</div>
	<br><p></p>
	<b
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 7
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 17:58:20 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "80605eb881cf7b1051a3cf1582caa7e4"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 2124
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 17:58:21 GMT
response-header: content-length => 8556
response-header: set-cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2E4NDUyMmRmOi0zOGYz%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlZDQ0ZWZjYmIyNjBlZDYwMjVhYWI3MmZkY2QxOGVjMjk%3D--45a3a54dabaff87932c01822c6d9debd2b656b22; path=/; HttpOnly, BIGipServeruser_profile_443=269098924.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 7473 bytes (7473 total)
Read 1083 bytes (8556 total)
saved cookie: sessionId=EUID%3DLTE2MjkxNzcxOjEzM2E4NDUyMmRmOi0zOGYz%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlZDQ0ZWZjYmIyNjBlZDYwMjVhYWI3MmZkY2QxOGVjMjk%3D--45a3a54dabaff87932c01822c6d9debd2b656b22
saved cookie: BIGipServeruser_profile_443=269098924.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="10294436914210285" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKKqanqVvpNhJeXTERp2HJY9gPegC3RXnp8d61ds8un6Or26H5jseQj6kYAqhc+PtZuHZ7VYoI0U
Fl2hscgZyfcigD1GisfwtfXGpeHLS7u5PMnk37m2gZw7AcDjoBWxQAUUUUAFFFFABVe+vrfTbOS7
u5PLgjxubaTjJAHA56kVYrP1vTP7Z0eew87yfN2/Pt3YwwPTI9KAM/8A4Tfw7/0EP/IMn/xNH/Cb
+Hf+gh/5Bk/+Jrnz8MwASdYwB1P2b/7OuZ0/QRqniA6dZXJmt0OXudm0bR1OMn8PXigD2KCeO5t4
riFt0UqB0bGMgjIPNSVFbW8dpaw20WRHCixrk5OAMCpaACiiigAooooAKKKKACiiigAooooAKKKK
ACiiigAooooAK57xppsmpeHZFiZQ8DibDMACACCMn2J/KuhrifiQ10NMtBGWFsZD52PXA25/8eoA
yvDfjW10fRVsbi0lZ4yxRosYbJz82Tx196wm0+fUbHVNdKpFAr7tqnqzOPlx6AH+VdfoX/CIf8I9
F9p+xed5Y8/z8eZu74zz9MVwz3AjfUYrKQrZy8BXPLIHBXjuen60AdBoVr4p1TSooNPuTa2MW4I+
8xhiWJPIG48k+1avhrVdXsfFLaFqlw1xkEZZtxUhdwIY84I9a1fBV9aL4UtomuoBJCsjyoZBlF3s
csOwx3Nc/wDb7P8A4Wn9s+1wfZf+e3mDZ/qMfe6deKAJPGcOuabcy6lHqksdnNKsccUVw4Knb6dB
9096g06y8Za1aJMmoTQQ7R5bSTMhcAcH5Rk/U9a0viDqFlc6HBFBd28sguEfZHIGO0o2DgHpyOfc
Vv6HqVivhuyc3tuFgtollYyriM7QMNzwc8c0AYXg7WNTuL6/0fUJmkmgRirscspU7SCe/JFc5qj+
JNB1SC1l1a5muHVZEWOd3ByxAGD15HTFaXhq/s4PHer3E13BHBJ52yR5AFbMoIwTweOaPEt/Zz+O
9IuIbuCSCPyd8iSAquJSTkjgcc0ANn03xlFp8mpT6lLGIkMjRfaCG2jk8D5a6vwfq8+s6EJ7khp4
5DE7AY3YAOfyIqXXtSsf+EcvD9tt8XFrKIT5q/vDtIwvPPJ7Vh/Dq7tk0iW1a4iW4e5ZliLgOw2L
yB1PQ/lQBZ8e6ybDSVsoWxNd5BI6hB1/Pp+dS+BNJFhoS3Lr+/u/3hPov8I/r+Ncb4vnfVPGL26t
wjJbp7ev6k16vFEkMKRRjCIoVR6AcUAPooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACi
iigAqK4t4buB4LiNZInGGRhkGpaKAOUl+HuiSTb1N1GufuJIMfqCf1ouPh9oszKUNzCFXbtjkGD7
nIJzXV0UAc5p/gzTtNS7SGa6YXUDQPvdThT1IwvWqX/CuNH/AOfm+/77T/4muwooA5Of4faTcSB3
uL0EIqcOnRVCj+H0FWbfwZp1tpV5pyTXRhuihdi67htORj5a6OigDj/+FcaP/wA/N9/32n/xNH/C
uNH/AOfm+/77T/4muwooA5y78GadeafZWUk10I7MOIyrrk7iCc/L7Uml+CdN0jUor63nu2liztEj
qV5BHOFHrXSUUAc2fBWnNrP9qGe7M/2j7Rt3rt3bt2Pu5x+NdJRRQAUUUUAFFFFABRRRQAUUUUAF
FFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUU
UUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRR
QAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAf/9k=
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
9.6s (9.6s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2E4NDUyMmRmOi0zOGYz%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlZDQ0ZWZjYmIyNjBlZDYwMjVhYWI3MmZkY2QxOGVjMjk%3D--45a3a54dabaff87932c01822c6d9debd2b656b22; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 2157
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 17:58:24 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlZDQ0ZWZjYmIyNjBlZDYwMjVhYWI3MmZkY2QxOGVjMjkiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--213807dd8754c4b700fd832b459fd5d30b1b32c8; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4096 bytes (4096 total)
Read 338 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlZDQ0ZWZjYmIyNjBlZDYwMjVhYWI3MmZkY2QxOGVjMjkiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--213807dd8754c4b700fd832b459fd5d30b1b32c8
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
2.5s (12.1s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2E4NDUyMmRmOi0zOGYz%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlZDQ0ZWZjYmIyNjBlZDYwMjVhYWI3MmZkY2QxOGVjMjkiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--213807dd8754c4b700fd832b459fd5d30b1b32c8; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=NWY2NWUwNTg6MTMzYTg1NzZkYWQ6LTYxNGQ%3D
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 375
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 17:58:26 GMT
response-header: content-length => 145
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 145 bytes (145 total)
Authorization key: NWY2NWUwNTg6MTMzYTg1NzZkYWQ6LTYxNGQ%3D
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=NWY2NWUwNTg6MTMzYTg1NzZkYWQ6LTYxNGQ%3D">redirected</a>.</body></html>
0.6s (12.6s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzYTg1NzZkYWQ6LTYxNGQ%3D ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzYTg1NzZkYWQ6LTYxNGQ%3D
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 104
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 17:58:27 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "9d39e9b5b10b0efcfaeff853efa6bcef7e67a883",
  "access_token": "95c7a9fd282418f5ff2023a3cb532a0d"
}
ACCESS TOKEN: 95c7a9fd282418f5ff2023a3cb532a0d
Refresh TOKEN: 9d39e9b5b10b0efcfaeff853efa6bcef7e67a883
0.9s (13.6s total) OK. Access token: 9d39e9b5b10b0efcfaeff853efa6bcef7e67a883...

NEXT TEST: device_info_json 22
3.0s (16.6s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=95c7a9fd282418f5ff2023a3cb532a0d
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=95c7a9fd282418f5ff2023a3cb532a0d
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=95c7a9fd282418f5ff2023a3cb532a0d
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
4.1s (20.7s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=95c7a9fd282418f5ff2023a3cb532a0d
Net::HTTP::Get: /1/devices/tel:123/info?access_token=95c7a9fd282418f5ff2023a3cb532a0d
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
1.6s (22.3s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (25.4s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=95c7a9fd282418f5ff2023a3cb532a0d
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=95c7a9fd282418f5ff2023a3cb532a0d
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
3.3s (28.7s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=95c7a9fd282418f5ff2023a3cb532a0d
Net::HTTP::Get: /1/devices/tel:123/info?access_token=95c7a9fd282418f5ff2023a3cb532a0d
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
0.1s (28.8s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (31.8s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=95c7a9fd282418f5ff2023a3cb532a0d&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=95c7a9fd282418f5ff2023a3cb532a0d&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
4.2s (35.9s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=95c7a9fd282418f5ff2023a3cb532a0d&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=95c7a9fd282418f5ff2023a3cb532a0d&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
1.6s (37.6s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (40.6s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x1023c6b78>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=95c7a9fd282418f5ff2023a3cb532a0d
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=95c7a9fd282418f5ff2023a3cb532a0d
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
4.3s (44.9s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=95c7a9fd282418f5ff2023a3cb532a0d
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=95c7a9fd282418f5ff2023a3cb532a0d
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=95c7a9fd282418f5ff2023a3cb532a0d
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=95c7a9fd282418f5ff2023a3cb532a0d
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
7.8s (52.7s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=95c7a9fd282418f5ff2023a3cb532a0d&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=95c7a9fd282418f5ff2023a3cb532a0d&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=95c7a9fd282418f5ff2023a3cb532a0d&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=95c7a9fd282418f5ff2023a3cb532a0d&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
9.4s (62.1s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (65.1s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=95c7a9fd282418f5ff2023a3cb532a0d
Request: https://api.att.com/1/messages/outbox/sms?access_token=95c7a9fd282418f5ff2023a3cb532a0d
Net::HTTP::Post: /1/messages/outbox/sms?access_token=95c7a9fd282418f5ff2023a3cb532a0d
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzYTg1NzZkYWQ6LTYxNGQ%3D
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 17:59:26 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b1604502ecf4aa"
  },
  "id": "SMSa9b1604502ecf4aa"
}
7.4s (72.6s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (75.6s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=95c7a9fd282418f5ff2023a3cb532a0d
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=95c7a9fd282418f5ff2023a3cb532a0d
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=95c7a9fd282418f5ff2023a3cb532a0d
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 17:59:30 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b598c3c57f0a3c"
  },
  "id": "SMSa9b598c3c57f0a3c"
}
0.7s (76.2s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.0s (79.2s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=95c7a9fd282418f5ff2023a3cb532a0d
Request: https://api.att.com/1/messages/outbox/mms?access_token=95c7a9fd282418f5ff2023a3cb532a0d
Net::HTTP::Post: /1/messages/outbox/mms?access_token=95c7a9fd282418f5ff2023a3cb532a0d
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_19938147.1321379973684"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=95c7a9fd282418f5ff2023a3cb532a0d
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 17:59:34 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36ceec"
  },
  "id": "MMSa9b11c1e5b36ceec"
}
1.3s (80.6s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36ceec?access_token=95c7a9fd282418f5ff2023a3cb532a0d
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b11c1e5b36ceec?access_token=95c7a9fd282418f5ff2023a3cb532a0d
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 17:59:37 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b11c1e5b36ceec"
  }
}
3.4s (84.0s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.0s (87.0s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=95c7a9fd282418f5ff2023a3cb532a0d
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=95c7a9fd282418f5ff2023a3cb532a0d
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_15470186.1321379981451"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36ceec?access_token=95c7a9fd282418f5ff2023a3cb532a0d
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 17:59:40 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b1524324bb0334"
}
0.6s (87.6s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.0s (90.7s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=95c7a9fd282418f5ff2023a3cb532a0d
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321379985125",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=95c7a9fd282418f5ff2023a3cb532a0d
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=95c7a9fd282418f5ff2023a3cb532a0d
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Tue, 15 Nov 2011 17:59:49 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
14.0s (104.7s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=95c7a9fd282418f5ff2023a3cb532a0d
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321379999114</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=95c7a9fd282418f5ff2023a3cb532a0d
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=95c7a9fd282418f5ff2023a3cb532a0d
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Tue, 15 Nov 2011 18:00:00 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
4.6s (109.3s total) OK. New subscription request SEN1321380003759...
Request: : https://api.att.com/1/payments/transactions?access_token=95c7a9fd282418f5ff2023a3cb532a0d
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321380003759",
  "externalMerchantTransactionID": "SenchaTransId1321380003770",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=95c7a9fd282418f5ff2023a3cb532a0d
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=95c7a9fd282418f5ff2023a3cb532a0d
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Tue, 15 Nov 2011 18:00:03 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip bodyr>
	<form action="" id="signup" method="post">
		<div id="firstCol_b">
			<label for="phone"><span>Wireless Number</span></label> 
		</div>
		<div id="firstCol_a">
			<img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50">
		</div>
		<div class="input-c" id="firstCol_b" style="right: 9px; top: 9px">
			<input id="login_wireless" name="login[wireless]" size="30" style="color:silver;" type="text" />
			<input id="login_client_id" name="login[client_id]" type="hidden" value="cddc0328b4c56103f8febb0194df7fd8" />
			<input id="login_scope" name="login[scope]" type="hidden" value="TL,DC,WAP,SMS,MMS,PAYMENT" />
			<input id="login_id" name="login[id]" type="hidden" />
			<!--<input  name="phone" type="text" value="4252221234" style="color: silver;">-->
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="javascript:submit_off_net_wireless();">Allow</a>
			</p>
			<p>
				<a class="button cancel" href="/deny_pin">Cancel</a>
			</p>
			<p style="text-align:center; margin-left:10px;color:red;"></p>
			<br>
			<p><SMALL>Refer to Craftguilds Privacy Policy for details on how this information may be used or shared.</SMALL>
			</p>
		</div>
	</form>
	<form action="" id="signup" method="post">
		<hr style="clear:both">   
		<h3>Existing Users</h3><!--move h3 to css and style center it-->
		<!--begin email address-->
		<p>To allow use with another account click  the <strong> Sign in to another account </strong> button.  To sign in and manage consent settings click <strong> Manage Consent</strong>. 
		</p>
		<!--begin SIGNIN/Manage Profile Buttons -->
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=true">SignIn to another account</a>
			</p>
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=mc">Manage Consent</a>
			</p>
		</div>
	</form>

<footer>
</footer>
</body>
</html>
#<NoMethodError: undefined method `value=' for nil:NilClass>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 15
response-header: date => Tue, 15 Nov 2011 18:57:57 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "413af1aa5b4aa1ed708a278dbe1d0f8f"
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 663
response-header: date => Tue, 15 Nov 2011 18:58:23 GMT
response-header: content-length => 1456
response-header: content-encoding => gzip
response-header: set-cookie => sessionId=EUID%3DLTExOWE0NWM2OjEzM2E3ZjdmZmJkOjJkMWQ%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com; path=/
response-header: keep-alive => timeout=5, max=100
response-header: vary => Accept-Encoding
response-header: cache-control => private, max-age=0, must-revalidate
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 1438 bytes (1448 total)
Read 8 bytes (1456 total)
gzip body
saved cookie: sessionId=EUID%3DLTExOWE0NWM2OjEzM2E3ZjdmZmJkOjJkMWQ%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Generic Checkout Page | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/effects.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/controls.js?1321298628" t
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 7
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 18:58:17 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "143f37436e9f84648d2f5f633da327da"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1685
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 18:58:18 GMT
response-header: content-length => 8818
response-header: set-cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYTg1NzZkYWQ6NGE2Mw%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlOWZlN2Q1MTcxZDFhODgxMGRmMzljZTMzYWQ3MWVmODQ%3D--d8b9726becd6a81cfd2f99fb2c1c8bb9028d8c5f; path=/; HttpOnly, BIGipServeruser_profile_443=470425516.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4096 bytes (4096 total)
Read 4722 bytes (8818 total)
saved cookie: sessionId=EUID%3DNWY2NWUwNTg6MTMzYTg1NzZkYWQ6NGE2Mw%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlOWZlN2Q1MTcxZDFhODgxMGRmMzljZTMzYWQ3MWVmODQ%3D--d8b9726becd6a81cfd2f99fb2c1c8bb9028d8c5f
saved cookie: BIGipServeruser_profile_443=470425516.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="19948270501606098" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
Ky9S8RaVpFwtvfXXlSsgcL5bNxkjPAPoa1K8v+I//Iw2/wD16L/6G9AHpkE8dzbxXELbopUDo2MZ
BGQeakrnrLXdM0nQNLW9vEic2kRCYLNjYOcDJrWsNTstUhMtlcpMo67TyPqDyKALdFchrXjqGyu2
stOtzeXCnazZ+UH0GOTWcPGPiOF0lvdJWCz3r5krW0oCqSBnOfegD0CisqLxJo81g16t9GLdXMZd
wVy2AcAEAngjpTbPxRouoXAgtr+NpWOFVlZMn0G4DNAGvRWZqHiHSdLl8q8vY45P7gBZh9QAcVU/
4TPw/vC/2iuTjH7p8fnigDeopksqQQvLI22NFLMx7Ack1T0zWdP1hJGsLjzhGQH+Rlxnp1AoAv0V
mal4h0vSJkhvrrypHXcq7GbjOM8A1ZudRt7XTH1CRyLdY/MyRgkduD3PHFAFbUvEOlaRMsN9diKR
l3BdjMcevANX4J47m3iuIW3RSoHRsYyCMg814fql/Pqmoy3txkNMdwHYL0AHsMY/CvZNB/5F7TP+
vSL/ANAFAGhRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFeX/Ef/AJGG3/69F/8AQ3r1
CvL/AIj/APIw2/8A16L/AOhvQBtaR4L0698PQT3gkku7iFXWXzD8gI+UAdOBjrmuG0fVZ9JuJ5YH
KmSB4+D3I4P4HFev6D/yL2mf9ekX/oArxvTLF9SvhaxDMjRyFR6lUZgP0oA0fDeq3emTSnT9NF3e
OMBijOUXvgLzz61rap4wk1TQL/TdQtRb3nybdoIBIdSQQeQcCrHgHWNPsIrq0vJIreZ3DiSQ7Qwx
jaSfT+tY/jW+s9R8QNNYssiJEqPInRmBPOe/BAz7UATeC9Bt9cu5zeb3t7YA+WGI3M309l7e1V/G
Ok22i64sNkGSJ4VlC7idpyRwTz2rf+GX/MU/7Zf+z1n/ABH/AORht/8Ar0X/ANDegDa0fwZp99oM
d1febLe3cfm+cZDlS3I+vUdc15rXuGg/8i9pn/XpF/6AK8e0aw/tTU0sx96SOTZ/vBGI/UCgDvtX
1rzPhzHchv3t1GsBPq3Rv0VqyPAzTaX4jewuBt+1W6uB6naHH6FqwbCWfVF07QiD5Yuix9g2M/lh
j+NdZ41VtJ1zSdZhThPkYDjO05x+IJH4UAZepp/wkXxE+y/ehSQRN7KnLfru/OtHxbeza5rVv4cs
D8quPOI6bvf2Uc/X6UfDuyaae+1ablmPlqx7k/Mx/lUGp+ANVvNVvLqO4swk07yKGdsgFiRn5feg
DM8cWUOnanY2duuIorJFHv8AO+Sfc9a9J0H/AJF7TP8Ar0i/9AFeQ63olzoN6lrdPE7vGJAYiSME
kdwPSu28D+G7zTbhdUmkgaC5tBsVGJYbirDORjoPWgDuKKKKACiiigAooooAKKKKACiiigAooooA
KKKKACiiigArB1vwlYa9epdXU1yjpGIwImUDAJPcH1reooAhtLZLOygtYyxSGNY1LdSAMDP5Vg6V
4J03SNSivree7aWLO0SOpXkEc4UetdJRQBz+qeDNI1W4a4kjkhmY5ZoGC7j6kEEU2PwVpEWmz2SL
KPPCh5twMmAwbAJGByB2roqKAMfQvDdn4f8AtH2SSd/P27vNYHG3OMYA9TUOt+ErDXr1Lq6muUdI
xGBEygYBJ7g+tb1FAENpbJZ2UFrGWKQxrGpbqQBgZ/KsHSvBOm6RqUV9bz3bSxZ2iR1K8gjnCj1r
pKKAMGz8JadY622qwtP5xZmCMw2KWznAxnue9XdZ0W112yFrdGRUDhw0ZAYEZHcH1NaNFAFLStLt
9H0+Oytt5jQk7nILEk5ycAVdoooAwdb8JWGvXqXV1Nco6RiMCJlAwCT3B9a2LS2SzsoLWMsUhjWN
S3UgDAz+VTUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUU
AFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQA
UUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAf/Z
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
6.3s (6.4s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYTg1NzZkYWQ6NGE2Mw%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlOWZlN2Q1MTcxZDFhODgxMGRmMzljZTMzYWQ3MWVmODQ%3D--d8b9726becd6a81cfd2f99fb2c1c8bb9028d8c5f; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 2615
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 18:58:20 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlOWZlN2Q1MTcxZDFhODgxMGRmMzljZTMzYWQ3MWVmODQiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--b25878a564ab1a026cb2c75f7016d2c0bd1bae1f; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlOWZlN2Q1MTcxZDFhODgxMGRmMzljZTMzYWQ3MWVmODQiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--b25878a564ab1a026cb2c75f7016d2c0bd1bae1f
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
2.8s (9.2s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYTg1NzZkYWQ6NGE2Mw%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlOWZlN2Q1MTcxZDFhODgxMGRmMzljZTMzYWQ3MWVmODQiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--b25878a564ab1a026cb2c75f7016d2c0bd1bae1f; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzM2E4NDUyMmRmOjZkYzY%3D
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 348
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 18:58:23 GMT
response-header: content-length => 145
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 145 bytes (145 total)
Authorization key: LTE2MjkxNzcxOjEzM2E4NDUyMmRmOjZkYzY%3D
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzM2E4NDUyMmRmOjZkYzY%3D">redirected</a>.</body></html>
0.4s (9.6s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2E4NDUyMmRmOjZkYzY%3D ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2E4NDUyMmRmOjZkYzY%3D
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 107
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 18:58:24 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "1b937e83b37e72b88e0dd9a2dd2bb2ba9806ced5",
  "access_token": "310756f99ddb448b7893877e2891017e"
}
ACCESS TOKEN: 310756f99ddb448b7893877e2891017e
Refresh TOKEN: 1b937e83b37e72b88e0dd9a2dd2bb2ba9806ced5
0.8s (10.4s total) OK. Access token: 1b937e83b37e72b88e0dd9a2dd2bb2ba9806ced5...

NEXT TEST: device_info_json 22
3.0s (13.4s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=310756f99ddb448b7893877e2891017e
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=310756f99ddb448b7893877e2891017e
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=310756f99ddb448b7893877e2891017e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPInternalServerError 1.1 500 Internal Server Error
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 169
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 169 bytes (169 total)
500 => Net::HTTPInternalServerError
{"requestError": {

    "serviceException": {

        "messageId": "SVC0001",

        "text": "Internal platform error occurred " ,

        "variables" : " "    }

}}

NEXT TEST: device_info_json_error 21
124.9s (138.3s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=310756f99ddb448b7893877e2891017e
Net::HTTP::Get: /1/devices/tel:123/info?access_token=310756f99ddb448b7893877e2891017e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
0.2s (138.5s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (141.5s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=310756f99ddb448b7893877e2891017e
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=310756f99ddb448b7893877e2891017e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
4.7s (146.2s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=310756f99ddb448b7893877e2891017e
Net::HTTP::Get: /1/devices/tel:123/info?access_token=310756f99ddb448b7893877e2891017e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPInternalServerError 1.1 500 Internal Server Error
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 185
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 185 bytes (185 total)
500 => Net::HTTPInternalServerError
<RequestError>
<ServiceException>
    <MessageId>SVC0001</MessageId>
    <Text>Internal platform error occurred </Text>
    <Variables>  </Variables>
</ServiceException>
</RequestError>
120.2s (266.4s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (269.4s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=310756f99ddb448b7893877e2891017e&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=310756f99ddb448b7893877e2891017e&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
4.6s (274.0s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=310756f99ddb448b7893877e2891017e&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=310756f99ddb448b7893877e2891017e&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
1.3s (275.4s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (278.4s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x1023ad1a0>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=310756f99ddb448b7893877e2891017e
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=310756f99ddb448b7893877e2891017e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
4.6s (283.0s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=310756f99ddb448b7893877e2891017e
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=310756f99ddb448b7893877e2891017e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=310756f99ddb448b7893877e2891017e
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=310756f99ddb448b7893877e2891017e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
80.5s (363.5s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=310756f99ddb448b7893877e2891017e&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=310756f99ddb448b7893877e2891017e&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=310756f99ddb448b7893877e2891017e&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=310756f99ddb448b7893877e2891017e&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
8.5s (372.1s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (375.1s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=310756f99ddb448b7893877e2891017e
Request: https://api.att.com/1/messages/outbox/sms?access_token=310756f99ddb448b7893877e2891017e
Net::HTTP::Post: /1/messages/outbox/sms?access_token=310756f99ddb448b7893877e2891017e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2E4NDUyMmRmOjZkYzY%3D
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 19:04:29 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b487b5e055d1b3"
  },
  "id": "SMSa9b487b5e055d1b3"
}
0.7s (375.8s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (378.8s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=310756f99ddb448b7893877e2891017e
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=310756f99ddb448b7893877e2891017e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=310756f99ddb448b7893877e2891017e
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 19:04:33 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b598c3c57f0a3f"
  },
  "id": "SMSa9b598c3c57f0a3f"
}
0.6s (379.5s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.0s (382.5s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=310756f99ddb448b7893877e2891017e
Request: https://api.att.com/1/messages/outbox/mms?access_token=310756f99ddb448b7893877e2891017e
Net::HTTP::Post: /1/messages/outbox/mms?access_token=310756f99ddb448b7893877e2891017e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_16301538.1321383876902"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=310756f99ddb448b7893877e2891017e
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 19:04:37 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36ceef"
  },
  "id": "MMSa9b11c1e5b36ceef"
}
1.3s (383.8s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36ceef?access_token=310756f99ddb448b7893877e2891017e
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b11c1e5b36ceef?access_token=310756f99ddb448b7893877e2891017e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 19:04:41 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b11c1e5b36ceef"
  }
}
3.4s (387.2s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.0s (390.2s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=310756f99ddb448b7893877e2891017e
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=310756f99ddb448b7893877e2891017e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_17593548.1321383884604"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36ceef?access_token=310756f99ddb448b7893877e2891017e
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 19:04:44 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b4a1507be34a86"
}
0.8s (391.0s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.0s (394.0s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=310756f99ddb448b7893877e2891017e
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321383888414",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=310756f99ddb448b7893877e2891017e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=310756f99ddb448b7893877e2891017e
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Tue, 15 Nov 2011 19:04:49 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
10.6s (404.6s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=310756f99ddb448b7893877e2891017e
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321383899001</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=310756f99ddb448b7893877e2891017e
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=310756f99ddb448b7893877e2891017e
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Tue, 15 Nov 2011 19:05:00 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
5.0s (409.5s total) OK. New subscription request SEN1321383903973...
Request: : https://api.att.com/1/payments/transactions?access_token=310756f99ddb448b7893877e2891017e
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321383903973",
  "externalMerchantTransactionID": "SenchaTransId1321383904024",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=310756f99ddb448b7893877e2891017e
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=310756f99ddb448b7ype="text/javascript"></script>
<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
	<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo" id="logo_title">Consent Request</h1>
<img src="/images/att.png" alt="" id="logo" height="28" width="28" />
</header>
	<form action="/off_net_consent_wireless" id="off_net_consent_wireless" method="post">
	<p><strong>Sencha API Poller</strong>  by Jason Cline, is requesting do the following: 
		<div id="firstCol_b">
			<ul>
				
				
					<li>Location - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
					<li>Device Capabilities - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
				
				
				
				
				
				
				
			</ul>
			<p>If ok, enter the wireless phone number and click Allow. A verification message will be sent.	</p>
		</div>
	<br><p></p>
	<br>
	<form action="" id="signup" method="post">
		<div id="firstCol_b">
			<label for="phone"><span>Wireless Number</span></label> 
		</div>
		<div id="firstCol_a">
			<img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50">
		</div>
		<div class="input-c" id="firstCol_b" style="right: 9px; top: 9px">
			<input id="login_wireless" name="login[wireless]" size="30" style="color:silver;" type="text" />
			<input id="login_client_id" name="login[client_id]" type="hidden" value="cddc0328b4c56103f8febb0194df7fd8" />
			<input id="login_scope" name="login[scope]" type="hidden" value="TL,DC,WAP,SMS,MMS,PAYMENT" />
			<input id="login_id" name="login[id]" type="hidden" />
			<!--<input  name="phone" type="text" value="4252221234" style="color: silver;">-->
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="javascript:submit_off_net_wireless();">Allow</a>
			</p>
			<p>
				<a class="button cancel" href="/deny_pin">Cancel</a>
			</p>
			<p style="text-align:center; margin-left:10px;color:red;"></p>
			<br>
			<p><SMALL>Refer to Craftguilds Privacy Policy for details on how this information may be used or shared.</SMALL>
			</p>
		</div>
	</form>
	<form action="" id="signup" method="post">
		<hr style="clear:both">   
		<h3>Existing Users</h3><!--move h3 to css and style center it-->
		<!--begin email address-->
		<p>To allow use with another account click  the <strong> Sign in to another account </strong> button.  To sign in and manage consent settings click <strong> Manage Consent</strong>. 
		</p>
		<!--begin SIGNIN/Manage Profile Buttons -->
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=true">SignIn to another account</a>
			</p>
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=mc">Manage Consent</a>
			</p>
		</div>
	</form>

<footer>
</footer>
</body>
</html>
#<NoMethodError: undefined method `value=' for nil:NilClass>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test =893877e2891017e
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Tue, 15 Nov 2011 19:05:04 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 7
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 19:58:19 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "e09140c0cb72a37f582f1bf227fd21a6"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 868
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 19:58:21 GMT
response-header: content-length => 8380
response-header: set-cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYThhOGFmYmI6LTgxYg%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlYmQ2NzY0ZWU0ZGJjZjU5ODMzYmEzNmQ3NjhmNzcxNmQ%3D--f99693e28cfbdc9db840927ac560cb9914f48349; path=/; HttpOnly, BIGipServeruser_profile_443=470425516.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 8000 bytes (8000 total)
Read 380 bytes (8380 total)
saved cookie: sessionId=EUID%3DNWY2NWUwNTg6MTMzYThhOGFmYmI6LTgxYg%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlYmQ2NzY0ZWU0ZGJjZjU5ODMzYmEzNmQ3NjhmNzcxNmQ%3D--f99693e28cfbdc9db840927ac560cb9914f48349
saved cookie: BIGipServeruser_profile_443=470425516.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="10301635179536498" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKK4/wAU+KdS0bWYLGxt4JvNiVgHRmYsWYYGCPQUAdhRXnz+LPF0aM76EFVRksbSUAD161b0Hxy1
zFcz6z5FvbxsiI8UTnLNuODyeymgDtqKx5PFWiRWsNy9+gimBMfyNkgEgnbjPUHtVldYs5tJn1K1
lWeCFGclePujJHPQ0AX6K86stY8Za8kt1pzRJAr7doWMAHGcfNk9CK6Tw2fEbyznXNqoqgRqFTLE
9TlfT+tAHQ0UUUAFFZ+p63p2jeV9vuPJ83Oz5GbOMZ6A+oqO58R6RZwQzT30aLMgkQYJYqRkHaBk
flQBqUVQ07WtO1YN9hu45ivJUZDAeuDzV+gAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKK
KACiiigAqlcaTYXd7Fez2ySXMOPLkOcrg5H61dooA5jx3qf2Dw88CNiW6PlD/d6sfy4/GuU1LTf7
P+HVizLiW5u1mb6FH2/pj86seInbxH44t9LjJMMLCI47d3P5cfhWz8RVVPDdsqgBVulAA7DY9AHN
eEvC0XiCOee7nlSCEhFEZGSep5IOBz+tbOveF9QstPI0q/aLTba1YyxPOwaQ5ZmJCjByCBz6Vd+H
H/IvXH/X23/oCVseI7+zg0a/t5ruCOeS0k2RvIAzZUgYB5PPFAHn/hvRde1LTpJtL1P7LAspVk89
0y2Ac4UY6EflTdTbxJoeq29nLq1xNO4V0CXLspyxAB3Y7iug8AanYWehTx3V7bQOblmCyyqpI2rz
gn2rM8WX1pc+MtNnguoJYUSLdIkgZVxIxOSPagCve6j4p8PaiLae/eWe4jDBd3mAbiRxkcHI7VOu
o+IfDeu2cepXjzpPtZ42kLjaTgjnoR7VL4znhfxbpU6So0JiiYSBgVx5jc56Yo8dzxS67pc0cqPE
YlYOrAqRvPOaALPxN/5hf/bX/wBko8J+E9P1TRRfaiskzzErH+8I2KvyjoevHf2qP4jzw3MOkzW8
scsTedteNgyn7g4IrpPBH/IoWP8A20/9GNQB55pIfSvG0FvE5/d3v2cn1XdtP6V7HXj/APzUP/uK
/wDtWvYKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigDC0rwpY6RqUl/F
LcTXEgILTMp6nJPAHNW9b0S216yS1unlREkEgMRAOQCO4PrWlRQBm6JoltoNk9ravK6PIZCZSCck
AdgPSqet+ErDXr1Lq6muUdIxGBEygYBJ7g+tb1FAHH/8K40f/n5vv++0/wDiaP8AhXGj/wDPzff9
9p/8TXYUUAcze+B9MvltVlnuwLaAQJtdeVBJ5+XrzS3vgnTb6G0ilnuwtrEIk2uuSM55+XrzXS0U
Ac3c+CdNudNsrF57sRWe/wAsq67jvOTn5a2NK02HSNNisbdpGiiztMhBbkk84A9auUUAc3/whOm/
2z/ann3fn/aPtG3eu3du3Y+7nGfeukoooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiig
AooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAC
iiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKK
KKACiiigAooooAKKKKAP/9k=
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
8.0s (8.1s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYThhOGFmYmI6LTgxYg%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlYmQ2NzY0ZWU0ZGJjZjU5ODMzYmEzNmQ3NjhmNzcxNmQ%3D--f99693e28cfbdc9db840927ac560cb9914f48349; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 2257
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 19:58:22 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlYmQ2NzY0ZWU0ZGJjZjU5ODMzYmEzNmQ3NjhmNzcxNmQiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--a532eb5d94d6fd5c8704fb4a5e4cd59b78aeb044; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlYmQ2NzY0ZWU0ZGJjZjU5ODMzYmEzNmQ3NjhmNzcxNmQiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--a532eb5d94d6fd5c8704fb4a5e4cd59b78aeb044
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
2.5s (10.6s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYThhOGFmYmI6LTgxYg%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlYmQ2NzY0ZWU0ZGJjZjU5ODMzYmEzNmQ3NjhmNzcxNmQiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--a532eb5d94d6fd5c8704fb4a5e4cd59b78aeb044; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzM2E4OTk0NGMzOjE0OTA%3D
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 431
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 19:58:25 GMT
response-header: content-length => 145
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 145 bytes (145 total)
Authorization key: LTE2MjkxNzcxOjEzM2E4OTk0NGMzOjE0OTA%3D
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzM2E4OTk0NGMzOjE0OTA%3D">redirected</a>.</body></html>
0.6s (11.2s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2E4OTk0NGMzOjE0OTA%3D ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2E4OTk0NGMzOjE0OTA%3D
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 110
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 19:58:26 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "6c860252011797b55eae56cf837f25abfd4084da",
  "access_token": "62c4034fe7fdc291d6700602e341ebd1"
}
ACCESS TOKEN: 62c4034fe7fdc291d6700602e341ebd1
Refresh TOKEN: 6c860252011797b55eae56cf837f25abfd4084da
0.9s (12.1s total) OK. Access token: 6c860252011797b55eae56cf837f25abfd4084da...

NEXT TEST: device_info_json 22
3.1s (15.2s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=62c4034fe7fdc291d6700602e341ebd1
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=62c4034fe7fdc291d6700602e341ebd1
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=62c4034fe7fdc291d6700602e341ebd1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
4.6s (19.8s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=62c4034fe7fdc291d6700602e341ebd1
Net::HTTP::Get: /1/devices/tel:123/info?access_token=62c4034fe7fdc291d6700602e341ebd1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPInternalServerError 1.1 500 Internal Server Error
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 169
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 169 bytes (169 total)
500 => Net::HTTPInternalServerError
{"requestError": {

    "serviceException": {

        "messageId": "SVC0001",

        "text": "Internal platform error occurred " ,

        "variables" : " "    }

}}
122.3s (142.1s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (145.1s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=62c4034fe7fdc291d6700602e341ebd1
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=62c4034fe7fdc291d6700602e341ebd1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
3.3s (148.4s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=62c4034fe7fdc291d6700602e341ebd1
Net::HTTP::Get: /1/devices/tel:123/info?access_token=62c4034fe7fdc291d6700602e341ebd1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
0.2s (148.6s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (151.7s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=62c4034fe7fdc291d6700602e341ebd1&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=62c4034fe7fdc291d6700602e341ebd1&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
4.5s (156.2s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=62c4034fe7fdc291d6700602e341ebd1&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=62c4034fe7fdc291d6700602e341ebd1&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
0.1s (156.3s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (159.3s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x10237afe8>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=62c4034fe7fdc291d6700602e341ebd1
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=62c4034fe7fdc291d6700602e341ebd1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
4.6s (163.9s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=62c4034fe7fdc291d6700602e341ebd1
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=62c4034fe7fdc291d6700602e341ebd1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=62c4034fe7fdc291d6700602e341ebd1
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=62c4034fe7fdc291d6700602e341ebd1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
7.7s (171.6s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=62c4034fe7fdc291d6700602e341ebd1&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=62c4034fe7fdc291d6700602e341ebd1&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=62c4034fe7fdc291d6700602e341ebd1&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=62c4034fe7fdc291d6700602e341ebd1&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
10.2s (181.8s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (184.8s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=62c4034fe7fdc291d6700602e341ebd1
Request: https://api.att.com/1/messages/outbox/sms?access_token=62c4034fe7fdc291d6700602e341ebd1
Net::HTTP::Post: /1/messages/outbox/sms?access_token=62c4034fe7fdc291d6700602e341ebd1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2E4OTk0NGMzOjE0OTA%3D
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 20:01:19 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b487b5e055d1bb"
  },
  "id": "SMSa9b487b5e055d1bb"
}
0.5s (185.4s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (188.4s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=62c4034fe7fdc291d6700602e341ebd1
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=62c4034fe7fdc291d6700602e341ebd1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=62c4034fe7fdc291d6700602e341ebd1
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 20:01:23 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b487b5e055d1bc"
  },
  "id": "SMSa9b487b5e055d1bc"
}
0.5s (188.9s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.0s (191.9s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=62c4034fe7fdc291d6700602e341ebd1
Request: https://api.att.com/1/messages/outbox/mms?access_token=62c4034fe7fdc291d6700602e341ebd1
Net::HTTP::Post: /1/messages/outbox/mms?access_token=62c4034fe7fdc291d6700602e341ebd1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_13520823.1321387286377"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=62c4034fe7fdc291d6700602e341ebd1
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 20:01:27 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf677621"
  },
  "id": "MMSa9b50d45cf677621"
}
1.2s (193.1s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf677621?access_token=62c4034fe7fdc291d6700602e341ebd1
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b50d45cf677621?access_token=62c4034fe7fdc291d6700602e341ebd1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 20:01:30 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b50d45cf677621"
  }
}
3.4s (196.5s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.0s (199.5s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=62c4034fe7fdc291d6700602e341ebd1
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=62c4034fe7fdc291d6700602e341ebd1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_10549846.1321387293949"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf677621?access_token=62c4034fe7fdc291d6700602e341ebd1
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 20:01:33 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b5c707572daaf2"
}
0.7s (200.2s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.0s (203.2s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=62c4034fe7fdc291d6700602e341ebd1
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321387297671",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=62c4034fe7fdc291d6700602e341ebd1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=62c4034fe7fdc291d6700602e341ebd1
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Tue, 15 Nov 2011 20:01:39 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
11.0s (214.2s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=62c4034fe7fdc291d6700602e341ebd1
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321387308705</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=62c4034fe7fdc291d6700602e341ebd1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=62c4034fe7fdc291d6700602e341ebd1
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Tue, 15 Nov 2011 20:01:50 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
5.5s (219.8s total) OK. New subscription request SEN1321387314232...
Request: : https://api.att.com/1/payments/transactions?access_token=62c4034fe7fdc291d6700602e341ebd1
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321387314232",
  "externalMerchantTransactionID": "SenchaTransId1321387314284",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=62c4034fe7fdc291d6700602e341ebd1
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  applicati device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.2s (0.2s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<Errno::ENETUNREACH: Network is unreachable - connect(2)>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 14
response-header: date => Tue, 15 Nov 2011 20:57:59 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "413af1aa5b4aa1ed708a278dbe1d0f8f"
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 872
response-header: date => Tue, 15 Nov 2011 20:58:25 GMT
response-header: content-length => 1456
response-header: content-encoding => gzip
response-header: set-cookie => sessionId=EUID%3DLTU4MTg3YWFlOjEzM2E4ZmM4NDU1Oi03MDg0%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com; path=/
response-header: keep-alive => timeout=5, max=100
response-header: vary => Accept-Encoding
response-header: cache-control => private, max-age=0, must-revalidate
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 1438 bytes (1448 total)
Read 8 bytes (1456 total)
gzip body
saved cookie: sessionId=EUID%3DLTU4MTg3YWFlOjEzM2E4ZmM4NDU1Oi03MDg0%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Generic Checkout Page | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/effects.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/controls.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
	<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo" id="logo_title">Consent Request</h1>
<img src="/images/att.png" alt="" id="logo" height="28" width="28" />
</header>
	<form action=on/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=62c4034fe7fdc291d6700602e341ebd1
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Tue, 15 Nov 2011 20:01:54 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.1s (0.1s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 7
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 20:58:21 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "fa2314a26c6dfe37f6a2817805eb5144"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 863
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 20:58:22 GMT
response-header: content-length => 8462
response-header: set-cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYThmOWQ4YWI6LTVhYjA%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlNmI0ODU0N2EzM2ExMzlmMjFhNDlmNjE3YmQ4NmI0NzA%3D--b80b24d7e82929a325c9b9e94d71a5bff28b673f; path=/; HttpOnly, BIGipServeruser_profile_443=470425516.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 7472 bytes (7472 total)
Read 990 bytes (8462 total)
saved cookie: sessionId=EUID%3DNWY2NWUwNTg6MTMzYThmOWQ4YWI6LTVhYjA%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlNmI0ODU0N2EzM2ExMzlmMjFhNDlmNjE3YmQ4NmI0NzA%3D--b80b24d7e82929a325c9b9e94d71a5bff28b673f
saved cookie: BIGipServeruser_profile_443=470425516.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="19955472960596965" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKKjnnitoHnmdUijUszN0AoAkorhLrx/c3Fy0Oi6Y0+OjOrMW/4CvT86IfGWt2nmT6vozx2ypwUt
3T5sgAFmOAKAO7orz0+N/EDobqLRV+x9d5ikIx/vdP0plz431bUIhJpNv5fkxF7lSofaB/Fn0xQB
6LRXOeC9VvNY0ea4vpRJItwyAhQuF2qccfU10dABRWbrmsR6HprXksMkqghQqDuemT2HvXHnxv4g
dDdRaKv2PrvMUhGP97p+lAHoVFYXhvxPb+IYnURmG5iALxk5GPUHuKs+INZi0PSpLp8NIfliQ/xN
2/DuaANSiuX8H+JLzxB9t+1xwJ5Gzb5SkZ3bs5yT6CuooAKKKKACiiigAooooAKKKKACiiigAooo
oAKKKKACiiigAooooAK4r4j3rw6Xa2iEgXEhZsdwuOPzIP4V2tcX8RrCS40u2vEUsLZyHx2Vsc/m
B+dAHP6H4i1PTNLEel6OkkKEtPMY3fcfUkYA4rtvD3iC28TWUiyQKs0eBLC3zA+hHqOPwql4Z8R6
PH4ct45bqC2kt49skbsFJI7gd89ePWub8MapZafr2panKxgsJGaNAFJwWfcowPQKaANzxN4zl0e9
m063s0aQIMTM+QMj+7j+tYHhSzh/sPXb37Qhn+xSxeSOqqVzk/kK7x/EGgz2rGTUbJ4iPmR3BJH+
6ef0ry+xngTV9Te2kWG0e3uVQO23cpRti89TnbxQBc8NxeI76yks9IlMFr5heSXOwbiAMbuvQDgV
q2F/rvh/xTa6Zqd41zHcMqkNIXBDHAIJ5GDV/wCHN1bro81s08QuGuWZYi43kbF5A644P5Vm+Jb+
zn8d6RcQ3cEkEfk75EkBVcSknJHA45oA9GkjSVCkiK6HqrDINcd4m8Zy6Pezadb2aNIEGJmfIGR/
dx/WuivNd02xsY72W6Q20j7EkjO8E8+npg1E/iDQZ7VjJqNk8RHzI7gkj/dPP6UAcl8Oba3ja8v3
uo/MVNhizgouQSx9uBSRFvG/i3ewJ0uy5APRhn+bEfkK5/TtPuNY1u9t9GbyYZPMwXJUCLdwDgE+
grT/AOEb1fRmMH/CR2FiX+cx/bniz2zjA9KANH4Zf8xT/tl/7PXoFeO+F4rqS9zb6tDYqske9JLk
xGYZPAA+93/P3r2KgAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigApskaSxtHIq
ujDDKwyCPQ06igDlp/h/ok05kUXEIJzsjkG39QT+taJ8L6MdOSxaxQwoSRyd2T1O7rngVsUUAckf
h3opk3CS7A/uCQY/9Bz+tT3XgTRbmKGJFmt1iz/qmGWJxyxYEnpXTUUAc5pPgzTtH1BL23mumkQE
ASOpHIx2UVS/4Vxo/wDz833/AH2n/wATXYUUAYyeF9LGjwaZNC1xBBuKNKfnG4knkY9ayz8O9FMm
4SXYH9wSDH/oOf1rraKAKWm6TY6RbmGygWJTyx6lj7k8ms7WvCVhrt6t1dTXKSLGIwImUDAJPdT6
1vUUAcnB8PdJt7iOZLi9LRsHALpjIOf7tdZRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUA
FFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAU
UUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRR
RQAUUUUAFFFFABRRRQAUUUUAf//Z
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
8.8s (8.9s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYThmOWQ4YWI6LTVhYjA%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlNmI0ODU0N2EzM2ExMzlmMjFhNDlmNjE3YmQ4NmI0NzA%3D--b80b24d7e82929a325c9b9e94d71a5bff28b673f; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 2214
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 20:58:23 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlNmI0ODU0N2EzM2ExMzlmMjFhNDlmNjE3YmQ4NmI0NzAiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--abc6bd5d29c3b4506778c559aaa0e2bba5a22cfe; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4096 bytes (4096 total)
Read 338 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlNmI0ODU0N2EzM2ExMzlmMjFhNDlmNjE3YmQ4NmI0NzAiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--abc6bd5d29c3b4506778c559aaa0e2bba5a22cfe
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
2.5s (11.4s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYThmOWQ4YWI6LTVhYjA%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlNmI0ODU0N2EzM2ExMzlmMjFhNDlmNjE3YmQ4NmI0NzAiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--abc6bd5d29c3b4506778c559aaa0e2bba5a22cfe; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzM2E4ZWRhZmY0Oi00NTRh
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 344
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 20:58:25 GMT
response-header: content-length => 143
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 143 bytes (143 total)
Authorization key: LTE2MjkxNzcxOjEzM2E4ZWRhZmY0Oi00NTRh
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzM2E4ZWRhZmY0Oi00NTRh">redirected</a>.</body></html>
0.5s (11.9s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2E4ZWRhZmY0Oi00NTRh ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2E4ZWRhZmY0Oi00NTRh
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 109
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 20:58:27 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "5acb7547cfd69dc699eeea44c233f607e9734ae2",
  "access_token": "742bfd7217ed0d02a8cfe0b04592f087"
}
ACCESS TOKEN: 742bfd7217ed0d02a8cfe0b04592f087
Refresh TOKEN: 5acb7547cfd69dc699eeea44c233f607e9734ae2
1.2s (13.0s total) OK. Access token: 5acb7547cfd69dc699eeea44c233f607e9734ae2...

NEXT TEST: device_info_json 22
3.0s (16.1s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=742bfd7217ed0d02a8cfe0b04592f087
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=742bfd7217ed0d02a8cfe0b04592f087
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=742bfd7217ed0d02a8cfe0b04592f087
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
14.8s (30.9s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=742bfd7217ed0d02a8cfe0b04592f087
Net::HTTP::Get: /1/devices/tel:123/info?access_token=742bfd7217ed0d02a8cfe0b04592f087
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
1.5s (32.4s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (35.4s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=742bfd7217ed0d02a8cfe0b04592f087
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=742bfd7217ed0d02a8cfe0b04592f087
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
3.1s (38.5s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=742bfd7217ed0d02a8cfe0b04592f087
Net::HTTP::Get: /1/devices/tel:123/info?access_token=742bfd7217ed0d02a8cfe0b04592f087
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPInternalServerError 1.1 500 Internal Server Error
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 185
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 185 bytes (185 total)
500 => Net::HTTPInternalServerError
<RequestError>
<ServiceException>
    <MessageId>SVC0001</MessageId>
    <Text>Internal platform error occurred </Text>
    <Variables>  </Variables>
</ServiceException>
</RequestError>
121.2s (159.7s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (162.7s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=742bfd7217ed0d02a8cfe0b04592f087&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=742bfd7217ed0d02a8cfe0b04592f087&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
4.2s (166.9s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=742bfd7217ed0d02a8cfe0b04592f087&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=742bfd7217ed0d02a8cfe0b04592f087&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
0.1s (167.0s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (170.0s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x10236cc40>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=742bfd7217ed0d02a8cfe0b04592f087
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=742bfd7217ed0d02a8cfe0b04592f087
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
8.1s (178.1s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=742bfd7217ed0d02a8cfe0b04592f087
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=742bfd7217ed0d02a8cfe0b04592f087
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=742bfd7217ed0d02a8cfe0b04592f087
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=742bfd7217ed0d02a8cfe0b04592f087
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
7.4s (185.5s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=742bfd7217ed0d02a8cfe0b04592f087&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=742bfd7217ed0d02a8cfe0b04592f087&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=742bfd7217ed0d02a8cfe0b04592f087&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=742bfd7217ed0d02a8cfe0b04592f087&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
8.6s (194.2s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (197.2s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=742bfd7217ed0d02a8cfe0b04592f087
Request: https://api.att.com/1/messages/outbox/sms?access_token=742bfd7217ed0d02a8cfe0b04592f087
Net::HTTP::Post: /1/messages/outbox/sms?access_token=742bfd7217ed0d02a8cfe0b04592f087
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2E4ZWRhZmY0Oi00NTRh
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 21:01:32 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b598c3c57f0a4b"
  },
  "id": "SMSa9b598c3c57f0a4b"
}
0.6s (197.8s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (200.8s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=742bfd7217ed0d02a8cfe0b04592f087
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=742bfd7217ed0d02a8cfe0b04592f087
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=742bfd7217ed0d02a8cfe0b04592f087
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 21:01:35 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b1604502ecf4b9"
  },
  "id": "SMSa9b1604502ecf4b9"
}
0.8s (201.5s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.0s (204.6s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=742bfd7217ed0d02a8cfe0b04592f087
Request: https://api.att.com/1/messages/outbox/mms?access_token=742bfd7217ed0d02a8cfe0b04592f087
Net::HTTP::Post: /1/messages/outbox/mms?access_token=742bfd7217ed0d02a8cfe0b04592f087
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_15212904.1321390899055"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=742bfd7217ed0d02a8cfe0b04592f087
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 21:01:39 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36cef0"
  },
  "id": "MMSa9b11c1e5b36cef0"
}
1.3s (205.8s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36cef0?access_token=742bfd7217ed0d02a8cfe0b04592f087
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b11c1e5b36cef0?access_token=742bfd7217ed0d02a8cfe0b04592f087
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 21:01:43 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b11c1e5b36cef0"
  }
}
3.7s (209.5s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.0s (212.5s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=742bfd7217ed0d02a8cfe0b04592f087
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=742bfd7217ed0d02a8cfe0b04592f087
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_11386833.1321390907050"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36cef0?access_token=742bfd7217ed0d02a8cfe0b04592f087
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 21:01:46 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b5c707572daaf3"
}
0.7s (213.3s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.0s (216.3s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=742bfd7217ed0d02a8cfe0b04592f087
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321390910791",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=742bfd7217ed0d02a8cfe0b04592f087
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=742bfd7217ed0d02a8cfe0b04592f087
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Tue, 15 Nov 2011 21:01:52 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
10.7s (227.0s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=742bfd7217ed0d02a8cfe0b04592f087
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321390921514</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=742bfd7217ed0d02a8cfe0b04592f087
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=742bfd7217ed0d02a8cfe0b04592f087
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Tue, 15 Nov 2011 21:02:01 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
3.5s (230.5s total) OK. New subscription request SEN1321390925019...
Request: : https://api.att.com/1/payments/transactions?access_token=742bfd7217ed0d02a8cfe0b04592f087
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321390925019",
  "externalMerchantTransactionID": "SenchaTransId1321390925066",
  "transactionStatusCallbackUrl": "/payments/notify127.0.0.1 - - [15/Nov/2011 15:53:05] "GET / HTTP/1.1" 404 436 0.0180
touch2 - - [15/Nov/2011:15:53:05 CST] "GET / HTTP/1.1" 404 436
- -> /
127.0.0.1 - - [15/Nov/2011 15:53:05] "GET /__sinatra__/404.png HTTP/1.1" 200 23305 0.4582
touch2 - - [15/Nov/2011:15:53:05 CST] "GET /__sinatra__/404.png HTTP/1.1" 200 23305
Referer -> /__sinatra__/404.png
127.0.0.1 - - [15/Nov/2011 15:53:05] "GET /favicon.ico HTTP/1.1" 404 447 0.0008
touch2 - - [15/Nov/2011:15:53:05 CST] "GET /favicon.ico HTTP/1.1" 404 447
- -> /favicon.ico
"/off_net_consent_wireless" id="off_net_consent_wireless" method="post">
	<p><strong>Sencha API Poller</strong>  by Jason Cline, is requesting do the following: 
		<div id="firstCol_b">
			<ul>
				
				
					<li>Location - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
					<li>Device Capabilities - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
				
				
				
				
				
				
				
			</ul>
			<p>If ok, enter the wireless phone number and click Allow. A verification message will be sent.	</p>
		</div>
	<br><p></p>
	<br>
	<form action="" id="signup" method="post">
		<div id="firstCol_b">
			<label for="phone"><span>Wireless Number</span></label> 
		</div>
		<div id="firstCol_a">
			<img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50">
		</div>
		<div class="input-c" id="firstCol_b" style="right: 9px; top: 9px">
			<input id="login_wireless" name="login[wireless]" size="30" style="color:silver;" type="text" />
			<input id="login_client_id" name="login[client_id]" type="hidden" value="cddc0328b4c56103f8febb0194df7fd8" />
			<input id="login_scope" name="login[scope]" type="hidden" value="TL,DC,WAP,SMS,MMS,PAYMENT" />
			<input id="login_id" name="login[id]" type="hidden" />
			<!--<input  name="phone" type="text" value="4252221234" style="color: silver;">-->
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="javascript:submit_off_net_wireless();">Allow</a>
			</p>
			<p>
				<a class="button cancel" href="/deny_pin">Cancel</a>
			</p>
			<p style="text-align:center; margin-left:10px;color:red;"></p>
			<br>
			<p><SMALL>Refer to Craftguilds Privacy Policy for details on how this information may be used or shared.</SMALL>
			</p>
		</div>
	</form>
	<form action="" id="signup" method="post">
		<hr style="clear:both">   
		<h3>Existing Users</h3><!--move h3 to css and style center it-->
		<!--begin email address-->
		<p>To allow use with another account click  the <strong> Sign in to another account </strong> button.  To sign in and manage consent settings click <strong> Manage Consent</strong>. 
		</p>
		<!--begin SIGNIN/Manage Profile Buttons -->
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=true">SignIn to another account</a>
			</p>
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=mc">Manage Consent</a>
			</p>
		</div>
	</form>

<footer>
</footer>
</body>
</html>
#<NoMethodError: undefined method `value=' for nil:NilClass>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.1s (0.1s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 14
response-header: date => Tue, 15 Nov 2011 21:57:57 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "413af1aa5b4aa1ed708a278dbe1d0f8f"
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 609
response-header: date => Tue, 15 Nov 2011 21:58:24 GMT
response-header: content-length => 1456
response-header: content-encoding => gzip
response-header: set-cookie => sessionId=EUID%3DLTMwN2UyMTQ0OjEzM2E4ZGNmNmMzOi02YjRi%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com; path=/
response-header: keep-alive => timeout=5, max=100
response-header: vary => Accept-Encoding
response-header: cache-control => private, max-age=0, must-revalidate
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 1438 bytes (1448 total)
Read 8 bytes (1456 total)
gzip body
saved cookie: sessionId=EUID%3DLTMwN2UyMTQ0OjEzM2E4ZGNmNmMzOi02YjRi%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Generic Checko",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=742bfd7217ed0d02a8cfe0b04592f087
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=742bfd7217ed0d02a8cfe0b04592f087
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Tue, 15 Nov 2011 21:02:06 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.1s (0.1s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 7
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 21:58:18 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "54404bdaae18c98940916f55b5789279"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1351
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 21:58:21 GMT
response-header: content-length => 8614
response-header: set-cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2E4ZWRhZmY0OjYyNTY%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlNjc5MjI1ODExODM1NjJhNjIzYjg1OWNhYjU1YTIxODY%3D--b425226637013d7e47863b86776178f8c7806b86; path=/; HttpOnly, BIGipServeruser_profile_443=269098924.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 7471 bytes (7471 total)
Read 1143 bytes (8614 total)
saved cookie: sessionId=EUID%3DLTE2MjkxNzcxOjEzM2E4ZWRhZmY0OjYyNTY%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlNjc5MjI1ODExODM1NjJhNjIzYjg1OWNhYjU1YTIxODY%3D--b425226637013d7e47863b86776178f8c7806b86
saved cookie: BIGipServeruser_profile_443=269098924.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="10308836159709953" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKKz9T1vTtG8r7fceT5udnyM2cYz0B9RQBoUVk3PibRrSKKSe/jUSosiDBLFSMg7QMjj1q1p+rWG
qxl7G6jmC9QvBH1B5FAFyisHxD4rs9AAjZTPdMMrEpxgepPaucHjDxRcDzLXQw0R6EW8r/qCKAPQ
aKq6bPcXOmW091F5Vw8YaSPaV2nuMHkVaoAKKKxfE15qdjpiS6VAZpzKFZRGXO3B5wPfFAG1RXmt
t4n8Srrun2d+TbieaMNG8AUshbB6jPrXZ3vifR9OvGtLu7MUy4ypifv05AxQBr0VFPcwW9q9zLKq
wIu9nJ4x61R03xDperzNDY3JmdF3N+6dQB9SAKANOiiigAooooAKKKKACiiigAooooAKKKKACiii
gAooooAKKKKACvP/AIm/8wv/ALa/+yV6BXn/AMTf+YX/ANtf/ZKAE8JeErDU9GF/qKPM0xKxjeVC
Kvy9u/BrnyZPCfjBkikYpBKAc/xRnBwfwP511XgnxFp8OgrZXd1FbyW7NjzWChlJJyM9eSeK5TUX
HiXxk5tQWS4mVFOP4QAN35DNAEI1dpfE0mpvbC7kaUtHE2cZ6Lx3xxx7CustfHd/a30cOt6b9mjf
+IRsjKPXDZyKxdEeDwz40li1FQqLvjWRh9zP3W/EfzrV8f6tpt/ZWltaTxXNwJd+6Jg21cEEZHqc
ce1AFLxFaeItHja/fWpTbTTlY1hupMgHJHHAxgU+yv8AxV4lhigsJXt7eGNY3nLldzAAEl+pJ68e
tT+LLy1fwbptml7bzXMLxCRI5VZgRGwJIB9a6XQ9X0i30HT4m1GxiZbeMMhnRSG2jORnrnOaAOeg
1TX/AAtZXMmsN9oRiUthLLvLPnrnrtxk8+3TNVrK18YeIIf7Qj1FreNiSgMpjDfRVHT61pfEW1lu
dMsr2H54IWbeV5GGxhvpx+tXvDPibSn0G1hmu4baW3iWN0lcLnaMZGeuevFAHGvLqj+M9Li1fP2q
CeGPJA+ZfMyDkcHr1rsvG2gf2rpv2uBM3dsCQB1dO4/qPx9a5fWNbs9T8daddQOBbQSwoZW+UEB8
lueg5/Suk8W+KoLLSxFp1zHLcXIIWSJwwRehOR37D8fSgDg31vUtQ0m10QEvGr4UL95/7qn2Hb8P
SvUPDWhpoWlLDwbiT5pnHdvT6D/PWvM5fD+pafo1trYyis4YBeGjH8LH6/4eteleGNeTXtLWRiBd
RYWZB6+o9j/jQBt0UUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAV5/8AE3/mF/8A
bX/2SvQKx9d8OWfiD7P9rknTyN23ymAzuxnOQfQUAc9oPhjTNc8JafJdRukwEg82I7WI8xuDwQa6
LRvDWm6GWe1iZpmGDLIdzY9PQfhVvS9Nh0jTYrG3Z2iiztMhBbkk84A9auUAZer+HtO1tV+2QkyK
MLKh2sB6Z7/jVHTPBWj6XdLcoks8qHKGdgQp9QAAK6KigDkX+HWkSSM5ub7LEk4dP/iab/wrjR/+
fm+/77T/AOJrsKKAIUtoktFtSu+JUEeHAO4YxzXOXHgDRJ5zKouIQTkpHINv6gmupooA5a68AaLc
mPb9ogEabNsTj5uScnIJJ5/lTIfh7o8M8chlu5QjA7JHUqfY4XpXWUUARzQRXEDwSorxOpVkI4IP
asPSPCFjot/9rtLm8DEFWRnUqwPY/LmugooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACii
igAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKK
ACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA
KKKKACiiigAooooAKKKKAP/Z
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
8.8s (8.9s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2E4ZWRhZmY0OjYyNTY%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlNjc5MjI1ODExODM1NjJhNjIzYjg1OWNhYjU1YTIxODY%3D--b425226637013d7e47863b86776178f8c7806b86; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 2979
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 21:58:23 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlNjc5MjI1ODExODM1NjJhNjIzYjg1OWNhYjU1YTIxODYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--a4f1f8e6139a1aa1b9725d1199b801a9abb5243b; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlNjc5MjI1ODExODM1NjJhNjIzYjg1OWNhYjU1YTIxODYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--a4f1f8e6139a1aa1b9725d1199b801a9abb5243b
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
3.2s (12.1s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2E4ZWRhZmY0OjYyNTY%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlNjc5MjI1ODExODM1NjJhNjIzYjg1OWNhYjU1YTIxODYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--a4f1f8e6139a1aa1b9725d1199b801a9abb5243b; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=NWY2NWUwNTg6MTMzYThmOWQ4YWI6NTI4Zg%3D%3D
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 444
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 21:58:26 GMT
response-header: content-length => 147
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 147 bytes (147 total)
Authorization key: NWY2NWUwNTg6MTMzYThmOWQ4YWI6NTI4Zg%3D%3D
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=NWY2NWUwNTg6MTMzYThmOWQ4YWI6NTI4Zg%3D%3D">redirected</a>.</body></html>
0.6s (12.6s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzYThmOWQ4YWI6NTI4Zg%3D%3D ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzYThmOWQ4YWI6NTI4Zg%3D%3D
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encodinut Page | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/effects.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/controls.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
	<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo" id="logo_title">Consent Request</h1>
<img src="/images/att.png" alt="" id="logo" height="28" width="28" />
</header>
	<form action="/off_net_consent_wireless" id="off_net_consent_wireless" method="post">
	<p><strong>Sencha API Poller</strong>  by Jason Cline, is requesting do the following: 
		<div id="firstCol_b">
			<ul>
				
				
					<li>Location - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
					<li>Device Capabilities - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
				
				
				
				
				
				
				
			</ul>
			<p>If ok, enter the wireless phone number and click Allow. A verification message will be sent.	</p>
		</div>
	<br><p></p>
	<br>
	<form action="" id="signup" method="post">
		<div id="firstCol_b">
			<label for="phone"><span>Wireless Number</span></label> 
		</div>
		<div id="firstCol_a">
			<img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50">
		</div>
		<div class="input-c" id="firstCol_b" style="right: 9px; top: 9px">
			<input id="login_wireless" name="login[wireless]" size="30" style="color:silver;" type="text" />
			<input id="login_client_id" name="login[client_id]" type="hidden" value="cddc0328b4c56103f8febb0194df7fd8" />
			<input id="login_scope" name="login[scope]" type="hidden" value="TL,DC,WAP,SMS,MMS,PAYMENT" />
			<input id="login_id" name="login[id]" type="hidden" />
			<!--<input  name="phone" type="text" value="4252221234" style="color: silver;">-->
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="javascript:submit_off_net_wireless();">Allow</a>
			</p>
			<p>
				<a class="button cancel" href="/deny_pin">Cancel</a>
			</p>
			<p style="text-align:center; margin-left:10px;color:red;"></p>
			<br>
			<p><SMALL>Refer to Craftguilds Privacy Policy for details on how this information may be used or shared.</SMALL>
			</p>
		</div>
	</form>
	<form action="" id="signup" method="post">
		<hr style="clear:both">   
		<h3>Existing Users</h3><!--move h3 to css and style center it-->
		<!--begin email address-->
		<p>To allow use with another account click  the <strong> Sign in to another account </strong> button.  To sign in and manage consent settings click <strong> Manage Consent</strong>. 
		</p>
		<!--begin SIGNIN/Manage Profile Buttons -->
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=true">SignIn to another account</a>
			</p>
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=mc">Manage Consent</a>
			</p>
		</div>
	</form>

<footer>
</footer>
</body>
</html>
#<NoMethodError: undefined method `value=' for nil:NilClass>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_infog => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 103
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 21:58:27 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "62d454c124d5a1ca89617f3f31f30f80077f7788",
  "access_token": "765b61c75b9d42b924b35cdc7f171b85"
}
ACCESS TOKEN: 765b61c75b9d42b924b35cdc7f171b85
Refresh TOKEN: 62d454c124d5a1ca89617f3f31f30f80077f7788
0.7s (13.3s total) OK. Access token: 62d454c124d5a1ca89617f3f31f30f80077f7788...

NEXT TEST: device_info_json 22
3.0s (16.4s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=765b61c75b9d42b924b35cdc7f171b85
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=765b61c75b9d42b924b35cdc7f171b85
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=765b61c75b9d42b924b35cdc7f171b85
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
4.4s (20.8s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=765b61c75b9d42b924b35cdc7f171b85
Net::HTTP::Get: /1/devices/tel:123/info?access_token=765b61c75b9d42b924b35cdc7f171b85
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
1.5s (22.3s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (25.3s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=765b61c75b9d42b924b35cdc7f171b85
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=765b61c75b9d42b924b35cdc7f171b85
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
3.1s (28.4s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=765b61c75b9d42b924b35cdc7f171b85
Net::HTTP::Get: /1/devices/tel:123/info?access_token=765b61c75b9d42b924b35cdc7f171b85
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
0.1s (28.5s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (31.5s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=765b61c75b9d42b924b35cdc7f171b85&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=765b61c75b9d42b924b35cdc7f171b85&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
4.8s (36.4s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=765b61c75b9d42b924b35cdc7f171b85&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=765b61c75b9d42b924b35cdc7f171b85&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
1.6s (38.0s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (41.0s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x10235ac70>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=765b61c75b9d42b924b35cdc7f171b85
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=765b61c75b9d42b924b35cdc7f171b85
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
4.4s (45.4s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=765b61c75b9d42b924b35cdc7f171b85
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=765b61c75b9d42b924b35cdc7f171b85
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=765b61c75b9d42b924b35cdc7f171b85
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=765b61c75b9d42b924b35cdc7f171b85
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
7.7s (53.1s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=765b61c75b9d42b924b35cdc7f171b85&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=765b61c75b9d42b924b35cdc7f171b85&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=765b61c75b9d42b924b35cdc7f171b85&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=765b61c75b9d42b924b35cdc7f171b85&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
9.2s (62.3s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (65.3s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=765b61c75b9d42b924b35cdc7f171b85
Request: https://api.att.com/1/messages/outbox/sms?access_token=765b61c75b9d42b924b35cdc7f171b85
Net::HTTP::Post: /1/messages/outbox/sms?access_token=765b61c75b9d42b924b35cdc7f171b85
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzYThmOWQ4YWI6NTI4Zg%3D%3D
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 21:59:19 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b598c3c57f0a52"
  },
  "id": "SMSa9b598c3c57f0a52"
}
0.6s (65.9s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (68.9s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=765b61c75b9d42b924b35cdc7f171b85
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=765b61c75b9d42b924b35cdc7f171b85
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=765b61c75b9d42b924b35cdc7f171b85
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 21:59:23 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b1604502ecf4c0"
  },
  "id": "SMSa9b1604502ecf4c0"
}
0.7s (69.7s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.0s (72.7s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=765b61c75b9d42b924b35cdc7f171b85
Request: https://api.att.com/1/messages/outbox/mms?access_token=765b61c75b9d42b924b35cdc7f171b85
Net::HTTP::Post: /1/messages/outbox/mms?access_token=765b61c75b9d42b924b35cdc7f171b85
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_12338474.1321394367213"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=765b61c75b9d42b924b35cdc7f171b85
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 21:59:27 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf677625"
  },
  "id": "MMSa9b50d45cf677625"
}
1.1s (73.8s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf677625?access_token=765b61c75b9d42b924b35cdc7f171b85
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b50d45cf677625?access_token=765b61c75b9d42b924b35cdc7f171b85
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 21:59:31 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b50d45cf677625"
  }
}
3.4s (77.2s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.0s (80.2s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=765b61c75b9d42b924b35cdc7f171b85
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=765b61c75b9d42b924b35cdc7f171b85
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_16035435.1321394374786"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf677625?access_token=765b61c75b9d42b924b35cdc7f171b85
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 21:59:34 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b1524324bb0336"
}
0.9s (81.1s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.0s (84.1s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=765b61c75b9d42b924b35cdc7f171b85
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321394378667",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=765b61c75b9d42b924b35cdc7f171b85
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=765b61c75b9d42b924b35cdc7f171b85
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Tue, 15 Nov 2011 21:59:43 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
13.9s (98.0s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=765b61c75b9d42b924b35cdc7f171b85
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321394392591</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=765b61c75b9d42b924b35cdc7f171b85
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=765b61c75b9d42b924b35cdc7f171b85
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Tue, 15 Nov 2011 21:59:54 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
4.5s (102.6s total) OK. New subscription request SEN1321394397129...
Request: : https://api.att.com/1/payments/transactions?access_token=765b61c75b9d42b924b35cdc7f171b85
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321394397129",
  "externalMerchantTransactionID": "SenchaTransId1321394397177",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=765b61c75b9d42b924b35cdc7f171b85
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=765b61c75b9d42b924b35cdc7f171b85
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Tue, 15 Nov 2011 21:59:57 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 12
response-header: date => Tue, 15 Nov 2011 22:57:58 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "413af1aa5b4aa1ed708a278dbe1d0f8f"
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 341
response-header: date => Tue, 15 Nov 2011 22:58:24 GMT
response-header: content-length => 1456
response-header: content-encoding => gzip
response-header: set-cookie => sessionId=EUID%3DLTU4MTg3YWFlOjEzM2E4ZmM4NDU1Oi02YTEx%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com; path=/
response-header: keep-alive => timeout=5, max=100
response-header: vary => Accept-Encoding
response-header: cache-control => private, max-age=0, must-revalidate
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 1438 bytes (1448 total)
Read 8 bytes (1456 total)
gzip body
saved cookie: sessionId=EUID%3DLTU4MTg3YWFlOjEzM2E4ZmM4NDU1Oi02YTEx%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Generic Checkout Page | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/effects.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/controls.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
	<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo" id="logo_title">Consent Request</h1>
<img src="/images/att.png" alt="" id="logo" height="28" width="28" />
</header>
	<form action="/off_net_consent_wireless" id="off_net_consent_wireless" method="post">
	<p><strong>Sencha API Poller</strong>  by Jason Cline, is requesting do the following: 
		<div id="firstCol_b">
			<ul>
				
				
					<li>Location - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
					<li>Device Capabilities - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
				
				
				
				
				
				
				
			</ul>
			<p>If ok, enter the wireless phone number and click Allow. A verification message will be sent.	</p>
		</div>
	<br><p></p>
	<br>
	<form action="" id="signup" method="post">
		<div id="firstCol_b">
			<label for="phone"><span>Wireless Number</span></label> 
		</div>
		<div id="firstCol_a">
			<img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50">
		</div>
		<div class="input-c" id="firstCol_b" style="right: 9px; top: 9px">
			<input id="login_wireless" name="login[wireless]" size="30" style="color:silver;" type="text" />
			<input id="login_client_id" name="login[client_id]" type="hidden" value="cddc0328b4c56103f8febb0194df7fd8" />
			<input id="login_scope" name="login[scope]" type="hidden" value="TL,DC,WAP,SMS,MMS,PAYMENT" />
			<input id="login_id" name="login[id]" type="hidden" />
			<!--<input  name="phone" type="text" value="4252221234" style="color: silver;">-->
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="javascript:submit_off_net_wireless();">Allow</a>
			</p>
			<p>
				<a class="button cancel" href="/deny_pin">Cancel</a>
			</p>
			<p style="text-align:center; margin-left:10px;color:red;"></p>
			<br>
			<p><SMALL>Refer to Craftguilds Privacy Policy for details on how this information may be used or shared.</SMALL>
			</p>
		</div>
	</form>
	<form action="" id="5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 8
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 22:58:20 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "6662c795361cfae44ed87f9ad779bff4"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 890
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 22:58:21 GMT
response-header: content-length => 8564
response-header: set-cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2E5NDFkYjgzOjhjNQ%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlYjhjMTkxYzZiMDVkMjIxYmQwOGZkMjk1MTE5Mzc0NWI%3D--f0547226aac1aa53acdf632433bae5bb7b787763; path=/; HttpOnly, BIGipServeruser_profile_443=470425516.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 8000 bytes (8000 total)
Read 564 bytes (8564 total)
saved cookie: sessionId=EUID%3DLTE2MjkxNzcxOjEzM2E5NDFkYjgzOjhjNQ%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlYjhjMTkxYzZiMDVkMjIxYmQwOGZkMjk1MTE5Mzc0NWI%3D--f0547226aac1aa53acdf632433bae5bb7b787763
saved cookie: BIGipServeruser_profile_443=470425516.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="10312435276202504" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKKqanqVvpNhJeXTERp2HJY9gPegC3RXnp8d61ds8un6Or26H5jseQj6kYAqjcePNZujJJaLDbxx
oGdcBj1AyM9eSOKAPUKKx/C19cal4ctLu7k8yeTfubaBnDsBwOOgFbFADJZY4ImlmkWONRlmY4AH
uax18X6A03lDUo92cZKsF/76xj9axvHlrq+oLbW1jayy2qgvIY+ct0AI68f1rA1Dwcun+EV1SWWV
bwBWeJgAAGIGMdQRkfrQB6krK6B0YMrDIIOQRS1xPw4vZ59Ou7WQlo7d1MZPbdnI/TP4121ABRRR
QAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFc94002TUvDsixMoeBxNh
mABABBGT7E/lXQ1xPxIa6GmWgjLC2Mh87Hrgbc/+PUAZXhvxra6Poq2NxaSs8ZYo0WMNk5+bJ46+
9YTafPqNjqmulUigV921T1ZnHy49AD/Kuv0L/hEP+Eei+0/YvO8sef5+PM3d8Z5+mK4Z7gRvqMVl
IVs5eArnlkDgrx3PT9aAN/QYPE+raXHbadc/ZbKDcqybzGCSSx5Ayev0qzJqnibwjeRDUZjd2zn+
N94f1wx5B+tafgrxJpsWixafdXEdtNCWwZTtVwSTnJ471R8ea9Y6jb2+n2Uq3DrL5jSR8gcEAA98
57elAHfWd3FfWcN1AcxSoHU+xrhPHcWuTTTNskOkRbT8pXGcDJIHOMnvxVC71TxD4WsLGxWRYomh
3qTGCQSSSpJ7jNbOqeONMu/DU8SFzeXEJjMOw/KSME56YFADvD+vaJpfhWea1SRXgIMsTkb5HPA5
9D+mKzLW48WeLGee1ufslsGwCrmNQfQEfMa5ux0e8vtKvryBGMNuFLAD73rj1wOa7bwV4j0yDRI9
PubiO2mhZuZTtDgknOenfH4UAYeur4q0O1hS81OR4Xf5ZIpiTuA6FsBuhPtVzUPFt80NjpWju8k7
Qxh5z8zu5UcDP15P8sV0Os+LdBtodrtFfuDlYowHGfXPQVxYuodH8bx6k6E2cshnjIX/AJZyA8ge
2entQBrSad400m2a/N+04VS0kPnGQgd+CMfkao+F11/W7wyRavP5VrJG0qy3MnzKSeAOc/dPWu2v
vFmjW2nvcLfQTkqdkSMGZj2BHUfjXN/DL/mKf9sv/Z6APQKKKKACiiigAooooAKKKKACiiigAooo
oAKKKKACiiigAooooAKiuLeG7geC4jWSJxhkYZBqWigDlJfh7okk29TdRrn7iSDH6gn9aLj4faLM
ylDcwhV27Y5Bg+5yCc11dFAHMP4C0R7OKArMGjBHnBwHbJJ54wevpVnS/B+kaTMs8UTzTKcq87bi
v0GAP0reooAqahptnqtqbe9gWWM8jPBB9Qe1c8nw80RZd5a6Zf7hkGP0Gf1rrKKAIbW0t7K2S3to
lihQYCKOKw9Q8E6LfytL5L27tyTA20H8CCP0roqKAOd07wVounSiUQvcSDkG4bdj8MAfpWZ401fT
ILuHT9Q003SGPf5iPsaPJxxx7evpXa02SOOVCkiK6nqGGRQB5ELjwpAjyRWepTzYOyOd0CA9slec
V1Hw4sZ4LG8u5EKx3DII8jG4Lnn6fN+ldUNG0sPvGm2e/wDveQuf5VdAAGBwKACiiigAooooAKKK
KACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAoooo
AKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigA
ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9k=
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
7.9s (8.0s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2E5NDFkYjgzOjhjNQ%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlYjhjMTkxYzZiMDVkMjIxYmQwOGZkMjk1MTE5Mzc0NWI%3D--f0547226aac1aa53acdf632433bae5bb7b787763; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 2199
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 22:58:22 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlYjhjMTkxYzZiMDVkMjIxYmQwOGZkMjk1MTE5Mzc0NWIiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--05e08f58e45d852ebe499fb6b39ced3f1449603e; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlYjhjMTkxYzZiMDVkMjIxYmQwOGZkMjk1MTE5Mzc0NWIiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--05e08f58e45d852ebe499fb6b39ced3f1449603e
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
2.4s (10.4s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2E5NDFkYjgzOjhjNQ%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlYjhjMTkxYzZiMDVkMjIxYmQwOGZkMjk1MTE5Mzc0NWIiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--05e08f58e45d852ebe499fb6b39ced3f1449603e; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=NWY2NWUwNTg6MTMzYTk0YjNlYWQ6LWVm
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 396
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 22:58:25 GMT
response-header: content-length => 139
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 139 bytes (139 total)
Authorization key: NWY2NWUwNTg6MTMzYTk0YjNlYWQ6LWVm
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=NWY2NWUwNTg6MTMzYTk0YjNlYWQ6LWVm">redirected</a>.</body></html>
0.5s (10.9s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzYTk0YjNlYWQ6LWVm ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzYTk0YjNlYWQ6LWVm
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 104
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 22:58:26 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "b6589fc6ab0dc82cf12099d1c2d40ab994e8410c",
  "access_token": "be7a7612cb41e5e5e1355a78870923fd"
}
ACCESS TOKEN: be7a7612cb41e5e5e1355a78870923fd
Refresh TOKEN: b6589fc6ab0dc82cf12099d1c2d40ab994e8410c
1.2s (12.1s total) OK. Access token: b6589fc6ab0dc82cf12099d1c2d40ab994e8410c...

NEXT TEST: device_info_json 22
3.1s (15.1s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=be7a7612cb41e5e5e1355a78870923fd
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=be7a7612cb41e5e5e1355a78870923fd
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=be7a7612cb41e5e5e1355a78870923fd
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
4.9s (20.0s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=be7a7612cb41e5e5e1355a78870923fd
Net::HTTP::Get: /1/devices/tel:123/info?access_token=be7a7612cb41e5e5e1355a78870923fd
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
1.6s (21.7s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (24.7s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=be7a7612cb41e5e5e1355a78870923fd
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=be7a7612cb41e5e5e1355a78870923fd
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
3.1s (27.8s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=be7a7612cb41e5e5e1355a78870923fd
Net::HTTP::Get: /1/devices/tel:123/info?access_token=be7a7612cb41e5e5e1355a78870923fd
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
0.1s (27.8s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (30.9s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=be7a7612cb41e5e5e1355a78870923fd&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=be7a7612cb41e5e5e1355a78870923fd&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
5.2s (36.1s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=be7a7612cb41e5e5e1355a78870923fd&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=be7a7612cb41e5e5e1355a78870923fd&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
1.1s (37.2s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (40.2s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x10233d350>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=be7a7612cb41e5e5e1355a78870923fd
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=be7a7612cb41e5e5e1355a78870923fd
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
4.2s (44.3s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=be7a7612cb41e5e5e1355a78870923fd
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=be7a7612cb41e5e5e1355a78870923fd
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=be7a7612cb41e5e5e1355a78870923fd
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=be7a7612cb41e5e5e1355a78870923fd
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
7.5s (51.8s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=be7a7612cb41e5e5e1355a78870923fd&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=be7a7612cb41e5e5e1355a78870923fd&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=be7a7612cb41e5e5e1355a78870923fd&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=be7a7612cb41e5e5e1355a78870923fd&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
10.4s (62.2s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (65.2s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=be7a7612cb41e5e5e1355a78870923fd
Request: https://api.att.com/1/messages/outbox/sms?access_token=be7a7612cb41e5e5e1355a78870923fd
Net::HTTP::Post: /1/messages/outbox/sms?access_token=be7a7612cb41e5e5e1355a78870923fd
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzYTk0YjNlYWQ6LWVm
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 22:59:19 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b487b5e055d1ca"
  },
  "id": "SMSa9b487b5e055d1ca"
}
0.7s (65.9s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (68.9s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=be7a7612cb41e5e5e1355a78870923fd
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=be7a7612cb41e5e5e1355a78870923fd
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=be7a7612cb41e5e5e1355a78870923fd
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 22:59:23 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b598c3c57f0a54"
  },
  "id": "SMSa9b598c3c57f0a54"
}
0.7s (69.6s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.0s (72.6s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=be7a7612cb41e5e5e1355a78870923fd
Request: https://api.att.com/1/messages/outbox/mms?access_token=be7a7612cb41e5e5e1355a78870923fd
Net::HTTP::Post: /1/messages/outbox/mms?access_token=be7a7612cb41e5e5e1355a78870923fd
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_14949373.1321397967192"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=be7a7612cb41e5e5e1355a78870923fd
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 22:59:27 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b701f"
  },
  "id": "MMSa9b4644d651b701f"
}
1.3s (73.9s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b701f?access_token=be7a7612cb41e5e5e1355a78870923fd
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b4644d651b701f?access_token=be7a7612cb41e5e5e1355a78870923fd
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 22:59:31 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b4644d651b701f"
  }
}
3.5s (77.4s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.0s (80.4s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=be7a7612cb41e5e5e1355a78870923fd
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=be7a7612cb41e5e5e1355a78870923fd
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_14966663.1321397975017"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b701f?access_token=be7a7612cb41e5e5e1355a78870923fd
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Tue, 15 Nov 2011 22:59:35 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b4a1507be34a87"
}
0.9s (81.2s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.0s (84.3s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=be7a7612cb41e5e5e1355a78870923fd
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321397978887",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=be7a7612cb41e5e5e1355a78870923fd
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=be7a7612cb41e5e5e1355a78870923fd
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Tue, 15 Nov 2011 22:59:43 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
13.7s (98.0s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=be7a7612cb41e5e5e1355a78870923fd
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321397992611</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=be7a7612cb41e5e5e1355a78870923fd
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=be7a7612cb41e5e5e1355a78870923fd
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Tue, 15 Nov 2011 22:59:54 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
5.1s (103.1s total) OK. New subscription request SEN1321397997749...
Request: : https://api.att.com/1/payments/transactions?access_token=be7a7612cb41e5e5e1355a78870923fd
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321397997749",
  "externalMerchantTransactionID": "SenchaTransId1321397997762",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=be7a7612cb41e5e5e1355a78870923fd
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=be7a7612cb41e5e5e1355a78870923fd
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Tue, 15 Nov 2011 22:59:58 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = paymentsignup" method="post">
		<hr style="clear:both">   
		<h3>Existing Users</h3><!--move h3 to css and style center it-->
		<!--begin email address-->
		<p>To allow use with another account click  the <strong> Sign in to another account </strong> button.  To sign in and manage consent settings click <strong> Manage Consent</strong>. 
		</p>
		<!--begin SIGNIN/Manage Profile Buttons -->
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=true">SignIn to another account</a>
			</p>
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=mc">Manage Consent</a>
			</p>
		</div>
	</form>

<footer>
</footer>
</body>
</html>
#<NoMethodError: undefined method `value=' for nil:NilClass>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.4s (0.4s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 12
response-header: date => Tue, 15 Nov 2011 23:57:58 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "413af1aa5b4aa1ed708a278dbe1d0f8f"
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1170
response-header: date => Tue, 15 Nov 2011 23:58:25 GMT
response-header: content-length => 1456
response-header: content-encoding => gzip
response-header: set-cookie => sessionId=EUID%3DLTU4MTg3YWFlOjEzM2E4ZmM4NDU1Oi02MzBj%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com; path=/
response-header: keep-alive => timeout=5, max=100
response-header: vary => Accept-Encoding
response-header: cache-control => private, max-age=0, must-revalidate
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 1438 bytes (1448 total)
Read 8 bytes (1456 total)
gzip body
saved cookie: sessionId=EUID%3DLTU4MTg3YWFlOjEzM2E4ZmM4NDU1Oi02MzBj%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Generic Checkout Page | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/effects.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/controls.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
	<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo" id="logo_title">Consent Request</h1>
<img src="/images/att.png" alt="" id="logo" height="28" width="28" />
</header>
	<form action="/off_net_consent_wireless" id="off_net_consent_wireless" method="post">
	<p><strong>Sencha API Poller</strong>  by Jason Cline, is requesting do the following: 
		<div id="firstCol_b">
			<ul>
				
				
					<li>Location - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
					<li>Device Capabilities - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
				
				
				
				
				
				
				
			</ul>
			<p>If ok, enter the wireless phone number and click Allow. A verification message will be sent.	</p>
		</div>
	<br><p></p>
	<br>
	<form action="" id="signup" method="post">
		<div id="firstCol_b">
			<label for="phone"><span>Wireless Number</span></label> 
		</div>
		<div id="firstCol_a">_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.4s (0.4s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 7
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 23:58:19 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "3c1d1738d90d057fb3ebf013df58a303"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 981
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 23:58:22 GMT
response-header: content-length => 8606
response-header: set-cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2E5OTY4MTllOi01MTQ2%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlY2E4ZmU1MDg5YTQ0YTI5YjMzNDVlZDM3MTc5YzUxMmI%3D--dd2449890bad2ef6f9ca7b32a86b9be863015276; path=/; HttpOnly, BIGipServeruser_profile_443=269098924.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 7474 bytes (7474 total)
Read 1132 bytes (8606 total)
saved cookie: sessionId=EUID%3DLTE2MjkxNzcxOjEzM2E5OTY4MTllOi01MTQ2%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlY2E4ZmU1MDg5YTQ0YTI5YjMzNDVlZDM3MTc5YzUxMmI%3D--dd2449890bad2ef6f9ca7b32a86b9be863015276
saved cookie: BIGipServeruser_profile_443=269098924.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="19966272630989532" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKKKACiuCvvEPiDUvEV1pmieXGLcsDlVJO04JJbjr6VFcXXj2ziklm2mKJWkd9sJAUDJ6UAehUVz
ngvVbzWNHmuL6USSLcMgIULhdqnHH1NdHQAUUUUAFFFRzyrBBJM33Y1LH6AZoAxpvGOg288kMt/i
SNijAROcEHB5C0z/AITfw7/0EP8AyDJ/8TXmuiaVJ4i1k2xm8ouGkeTbux+GR3NdV/wrL/qL/wDk
t/8AZ0AdB/wm/h3/AKCH/kGT/wCJo/4Tfw7/ANBD/wAgyf8AxNc//wAKy/6i/wD5Lf8A2dcxcaED
4hXSNPuvtcm7Y0nl7VU9+54Hc0Aev2N9b6lZx3dpJ5kEmdrbSM4JB4PPUGrFU9K06LSdLgsYWZki
XG5upJOSfzJq5QAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABWP4k0/UtS06OHS7v7L
OsoZn8xkyuCMZUZ6kflWxUNzd21nGJLq4igQnaGlcKCfTJ+lAHkulaVrF14hvbOzv/JvovM86bzn
XfhwG+YDJycHmumj0PX9PsNUn1PVPtNv9gmXy/tEj/Nt4OGGPWqPhq/s4PHer3E13BHBJ52yR5AF
bMoIwTweOa6rWta0qXQtQjj1Ozd3tpFVVnUkkqcADNAHBeG18Q31pJYaRL5FuJDJJLnbgkAfe69u
grRu5fFnhN47i5vDdW7NglpDIhPod3IqXwH4gsLC0msLyVYGaXzEkfhTkAYJ7dO9XfG3iPTZtFk0
+1uI7maZlyYmDBACDnI4zxigDmdV1TWNsepx6rcJb30kjRwx3L5iwRlSOAMZHSrV/f8AinQpLW+u
r9ibpSyxl9yjGOCvQdR0rHvUWLQNNj86NpTLPI0auC0YOwAMO2dpNdJ49nhudP0WSCWOVNsg3IwY
ZATPIoAp3V/4o0T7HqV3fSMLnLCJnJGBjhl6DIPb9K73WXnvPC1y1nE8ktxb4RF64Yf4GuQ8dTw3
OiaPJBLHKnzDcjBhkKuRkVv32p3EXg2O80aeGWS3SMSFMSYAUbh7EZBoA4nTPCGvXZmCRNZjbtYz
kpvHXHA5HA9qdo2rah4X10Wdy7CFZBHPCzZUA/xD+fvW74d8eIUnTXLgh926ORYuMf3cKP8AOa5u
9dvFPi92tY2C3MqquRyFAA3H8BmgD0XxbrB0bQ5JImxcTHyovYnqfwH64rE+HelCOzm1WVcyTExx
k9lHU/if5Vk/Ea8M2tQWgPyQRZx/tMef0Ar0DRbQWOiWVsBjZCoP1xk/rmgC9RRRQAUUUUAFFFFA
BRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABWbreiW2vWSWt08qIkgkBiIByAR3B9a0qKAOP/4Vxo//
AD833/faf/E0f8K40f8A5+b7/vtP/ia7CigDmE8BaKtkbZlnc7y4mZwHGQBjIAGOO47mn2HgbRbC
cTeXLcMpyvnsGA/AAA/jXSUUAcreeAdKvb2e6kuLwPNI0jBXXAJOePlqSbwPpk+nWtk092IrYuyE
OuTuIJz8vtXTUUAc1L4J02bTLewae7EUDs6kOu4luuflrS0XQ7XQrGS0tnlkjeQyHzSCckAdgOOK
06KAOYvPAWiXc5lVZ7csclYXAX8iDj8K09I8Padoit9jhxIww0rncxHpnt+FalFAHOar4K07WNRl
vrie7WWTGRG6hRgAcZU+ldHRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAU
UUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRR
RQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFF
ABRRRQAUUUUAf//Z
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
8.1s (8.5s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2E5OTY4MTllOi01MTQ2%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlY2E4ZmU1MDg5YTQ0YTI5YjMzNDVlZDM3MTc5YzUxMmI%3D--dd2449890bad2ef6f9ca7b32a86b9be863015276; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 2740
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 23:58:23 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlY2E4ZmU1MDg5YTQ0YTI5YjMzNDVlZDM3MTc5YzUxMmIiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--06e16b66ebbf31f264b6390ea48300729e18f3ca; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlY2E4ZmU1MDg5YTQ0YTI5YjMzNDVlZDM3MTc5YzUxMmIiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--06e16b66ebbf31f264b6390ea48300729e18f3ca
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
3.1s (11.6s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2E5OTY4MTllOi01MTQ2%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlY2E4ZmU1MDg5YTQ0YTI5YjMzNDVlZDM3MTc5YzUxMmIiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--06e16b66ebbf31f264b6390ea48300729e18f3ca; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=NWY2NWUwNTg6MTMzYTk5Y2ExNmM6LTUzY2E%3D
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 344
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 23:58:26 GMT
response-header: content-length => 145
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 145 bytes (145 total)
Authorization key: NWY2NWUwNTg6MTMzYTk5Y2ExNmM6LTUzY2E%3D
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=NWY2NWUwNTg6MTMzYTk5Y2ExNmM6LTUzY2E%3D">redirected</a>.</body></html>
0.5s (12.1s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzYTk5Y2ExNmM6LTUzY2E%3D ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzYTk5Y2ExNmM6LTUzY2E%3D
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 194
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Tue, 15 Nov 2011 23:58:27 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "7b1191cecf164d21e7d2296c98eafc6377b7cebc",
  "access_token": "92c91a9c044154dc949c9e9e97516c22"
}
ACCESS TOKEN: 92c91a9c044154dc949c9e9e97516c22
Refresh TOKEN: 7b1191cecf164d21e7d2296c98eafc6377b7cebc
1.0s (13.2s total) OK. Access token: 7b1191cecf164d21e7d2296c98eafc6377b7cebc...

NEXT TEST: device_info_json 22
3.0s (16.2s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=92c91a9c044154dc949c9e9e97516c22
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=92c91a9c044154dc949c9e9e97516c22
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=92c91a9c044154dc949c9e9e97516c22
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
4.4s (20.6s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=92c91a9c044154dc949c9e9e97516c22
Net::HTTP::Get: /1/devices/tel:123/info?access_token=92c91a9c044154dc949c9e9e97516c22
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
1.3s (21.9s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (24.9s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=92c91a9c044154dc949c9e9e97516c22
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=92c91a9c044154dc949c9e9e97516c22
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPInternalServerError 1.1 500 Internal Server Error
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 185
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 185 bytes (185 total)
500 => Net::HTTPInternalServerError
<RequestError>
<ServiceException>
    <MessageId>SVC0001</MessageId>
    <Text>Internal platform error occurred </Text>
    <Variables>  </Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
124.2s (149.2s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=92c91a9c044154dc949c9e9e97516c22
Net::HTTP::Get: /1/devices/tel:123/info?access_token=92c91a9c044154dc949c9e9e97516c22
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
0.2s (149.3s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (152.3s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=92c91a9c044154dc949c9e9e97516c22&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=92c91a9c044154dc949c9e9e97516c22&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
4.6s (156.9s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=92c91a9c044154dc949c9e9e97516c22&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=92c91a9c044154dc949c9e9e97516c22&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
1.6s (158.4s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (161.4s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x10231e3d8>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=92c91a9c044154dc949c9e9e97516c22
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=92c91a9c044154dc949c9e9e97516c22
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
4.5s (165.9s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=92c91a9c044154dc949c9e9e97516c22
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=92c91a9c044154dc949c9e9e97516c22
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=92c91a9c044154dc949c9e9e97516c22
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=92c91a9c044154dc949c9e9e97516c22
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
6.3s (172.2s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=92c91a9c044154dc949c9e9e97516c22&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=92c91a9c044154dc949c9e9e97516c22&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=92c91a9c044154dc949c9e9e97516c22&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=92c91a9c044154dc949c9e9e97516c22&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
11.4s (183.6s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (186.6s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=92c91a9c044154dc949c9e9e97516c22
Request: https://api.att.com/1/messages/outbox/sms?access_token=92c91a9c044154dc949c9e9e97516c22
Net::HTTP::Post: /1/messages/outbox/sms?access_token=92c91a9c044154dc949c9e9e97516c22
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzYTk5Y2ExNmM6LTUzY2E%3D
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 00:01:22 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b1604502ecf4c3"
  },
  "id": "SMSa9b1604502ecf4c3"
}
1.0s (187.6s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (190.6s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=92c91a9c044154dc949c9e9e97516c22
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=92c91a9c044154dc949c9e9e97516c22
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=92c91a9c044154dc949c9e9e97516c22
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 00:01:25 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b487b5e055d1cb"
  },
  "id": "SMSa9b487b5e055d1cb"
}
0.5s (191.1s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.0s (194.1s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=92c91a9c044154dc949c9e9e97516c22
Request: https://api.att.com/1/messages/outbox/mms?access_token=92c91a9c044154dc949c9e9e97516c22
Net::HTTP::Post: /1/messages/outbox/mms?access_token=92c91a9c044154dc949c9e9e97516c22
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_10642727.1321401688744"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=92c91a9c044154dc949c9e9e97516c22
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 00:01:31 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36cefa"
  },
  "id": "MMSa9b11c1e5b36cefa"
}
4.0s (198.2s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36cefa?access_token=92c91a9c044154dc949c9e9e97516c22
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b11c1e5b36cefa?access_token=92c91a9c044154dc949c9e9e97516c22
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 00:01:35 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b11c1e5b36cefa"
  }
}
3.5s (201.6s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.0s (204.6s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=92c91a9c044154dc949c9e9e97516c22
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=92c91a9c044154dc949c9e9e97516c22
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_13742236.1321401699320"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36cefa?access_token=92c91a9c044154dc949c9e9e97516c22
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 00:01:39 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b5c707572daaf4"
}
0.8s (205.4s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.0s (208.5s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=92c91a9c044154dc949c9e9e97516c22
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321401703104",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=92c91a9c044154dc949c9e9e97516c22
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=92c91a9c044154dc949c9e9e97516c22
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Wed, 16 Nov 2011 00:01:44 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
11.1s (219.5s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=92c91a9c044154dc949c9e9e97516c22
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321401714172</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=92c91a9c044154dc949c9e9e97516c22
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=92c91a9c044154dc949c9e9e97516c22
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Wed, 16 Nov 2011 00:01:54 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
3.5s (223.0s total) OK. New subscription request SEN1321401717666...
Request: : https://api.att.com/1/payments/transactions?access_token=92c91a9c044154dc949c9e9e97516c22
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321401717666",
  "externalMerchantTransactionID": "SenchaTransId1321401717679",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=92c91a9c044154dc949c9e9e97516c22
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=92c91a9c044154dc949c9e9e97516c22
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Wed, 16 Nov 2011 00:01:57 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test =
			<img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50">
		</div>
		<div class="input-c" id="firstCol_b" style="right: 9px; top: 9px">
			<input id="login_wireless" name="login[wireless]" size="30" style="color:silver;" type="text" />
			<input id="login_client_id" name="login[client_id]" type="hidden" value="cddc0328b4c56103f8febb0194df7fd8" />
			<input id="login_scope" name="login[scope]" type="hidden" value="TL,DC,WAP,SMS,MMS,PAYMENT" />
			<input id="login_id" name="login[id]" type="hidden" />
			<!--<input  name="phone" type="text" value="4252221234" style="color: silver;">-->
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="javascript:submit_off_net_wireless();">Allow</a>
			</p>
			<p>
				<a class="button cancel" href="/deny_pin">Cancel</a>
			</p>
			<p style="text-align:center; margin-left:10px;color:red;"></p>
			<br>
			<p><SMALL>Refer to Craftguilds Privacy Policy for details on how this information may be used or shared.</SMALL>
			</p>
		</div>
	</form>
	<form action="" id="signup" method="post">
		<hr style="clear:both">   
		<h3>Existing Users</h3><!--move h3 to css and style center it-->
		<!--begin email address-->
		<p>To allow use with another account click  the <strong> Sign in to another account </strong> button.  To sign in and manage consent settings click <strong> Manage Consent</strong>. 
		</p>
		<!--begin SIGNIN/Manage Profile Buttons -->
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=true">SignIn to another account</a>
			</p>
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=mc">Manage Consent</a>
			</p>
		</div>
	</form>

<footer>
</footer>
</body>
</html>
#<NoMethodError: undefined method `value=' for nil:NilClass>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.4s (0.4s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/aut device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.4s (0.4s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: device_info_json 22

NEXT TEST: device_info_json_error 21

NEXT TEST: device_info_xml 20

NEXT TEST: device_info_xml_error 19

NEXT TEST: device_info_jsonp 18

NEXT TEST: device_info_jsonp_error 17

NEXT TEST: device_location_json 16

NEXT TEST: device_location_json_error 15

NEXT TEST: device_location_xml 14

NEXT TEST: device_location_xml_error 13

NEXT TEST: device_location_jsonp 12

NEXT TEST: device_location_jsonp_error 11

NEXT TEST: sms_send_json 10

NEXT TEST: sms_send_form 9

NEXT TEST: mms_send_json 8

NEXT TEST: mms_status 7

NEXT TEST: wap_push 6

NEXT TEST: payment_new_json 5

NEXT TEST: payment_status_json 4

NEXT TEST: payment_refund_json 3

NEXT TEST: payment_new_xml 2

NEXT TEST: payment_new_subscription 1

NEXT TEST: payment_subscription_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.1s (0.1s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: achorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.1s (0.1s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 14
response-header: date => Wed, 16 Nov 2011 03:04:02 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "413af1aa5b4aa1ed708a278dbe1d0f8f"
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1154
response-header: date => Wed, 16 Nov 2011 03:04:29 GMT
response-header: content-length => 1456
response-header: content-encoding => gzip
response-header: set-cookie => sessionId=EUID%3DLTU4MTg3YWFlOjEzM2E4ZmM4NDU1Oi0zZTAz%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com; path=/
response-header: keep-alive => timeout=5, max=100
response-header: vary => Accept-Encoding
response-header: cache-control => private, max-age=0, must-revalidate
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 1438 bytes (1448 total)
Read 8 bytes (1456 total)
gzip body
saved cookie: sessionId=EUID%3DLTU4MTg3YWFlOjEzM2E4ZmM4NDU1Oi0zZTAz%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Generic Checkout Page | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/effects.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/controls.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
	<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo" id="logo_title">Consent Request</h1>
<img src="/images/att.png" alt="" id="logo" height="28" width="28" />
</header>
	<form action="/off_net_consent_wireless" id="off_net_consent_wireless" method="post">
	<p><strong>Sencha API Poller</strong>  by Jason Cline, is requesting do the following: 
		<div id="firstCol_b">
			<ul>
				
				
					<li>Location - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
					<li>Device Capabilities - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
				
				
				
				
				
				
				
			</ul>
			<p>If ok, enter the wireless phone number and click Allow. A verification message will be sent.	</p>
		</div>
	<br><p></p>
	<br>
	<form action="" id="signup" method="post">
		<div id="firstCol_b">
			<label for="phone"><span>Wireless Number</span></label> 
		</div>
		<div id="firstCol_a">
			<img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50">
		</div>
		<div class="input-c" id="firstCol_b" style="right: 9px; top: 9px">
			<input id="login_wireless" name="login[wireless]" size="30" style="color:silver;" type="text" />
			<input id="login_client_id" name="login[client_id]" type="hidden" value="cddc0328b4c56103f8febb0194df7fd8" />
			<cept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 7
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 03:04:23 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "7720787a0e535ec986636f409442918c"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 870
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 03:04:24 GMT
response-header: content-length => 8556
response-header: set-cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYWEzZmI4MjE6LTNkMWU%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlZWY0MjU1NmIyMDgyZjAzODY1NGFmMDU1ZDZmYTkwNGU%3D--ef6646bfad4083ee00d7abb12e0eec2f231c0282; path=/; HttpOnly, BIGipServeruser_profile_443=470425516.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 7472 bytes (7472 total)
Read 1084 bytes (8556 total)
saved cookie: sessionId=EUID%3DNWY2NWUwNTg6MTMzYWEzZmI4MjE6LTNkMWU%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlZWY0MjU1NmIyMDgyZjAzODY1NGFmMDU1ZDZmYTkwNGU%3D--ef6646bfad4083ee00d7abb12e0eec2f231c0282
saved cookie: BIGipServeruser_profile_443=470425516.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="19977434401800231" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
Khuru3sbdp7qZIYl6s5wKmrzX4gaza3z21na3BdreSQTptYbWGAOo5/i6UAdjbeK9DvLlLeC/VpX
YKqlGGSegyRWzXnXgyHw5KLFZCW1rezgfvOCCSP9n7ozXotABRRVPUtVstIt1uL6byomcIG2lucE
44B9DQBcorKbxJo6WEV699GsEufLLAgtgkHC4z1B7U7T/EOk6pL5VnexySf3CCpP0BAzQBp0VkXn
ijRbCcwXN/GsoOCqgvg++0HFaFne21/bie0nSaI/xIc/h7UAT0UUUAFFZ2oa9peltsvb2OJ+uzlm
/IZNR2XiXRtRlEVtfxtIxwFYFCfpuAzQBq0UUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFA
BRRRQAV5n8QdKsrC4tLi2h8uW6eV5m3E7jlTnk8dT0r0yvP/AIm/8wv/ALa/+yUAaHgjRNO/sex1
b7P/AKd+8/e72/vMvTOOnHSqOseKdU1LWG0jQBgqxQygDcxHU5PAA9a3vBH/ACKFj/20/wDRjV5n
/ZccGuS2GqXTWYViDMYi4z2JGRwfWgDqZdG8a2ERu01Np2UbjGs7Of8Avlhg/SszWfE7a94XSG5V
Vu4bpCxXgOu1+cdvenP4V0WOLzD4stCvosYJ/IPmsO9tdNhhc2eoyXLrIq4a38sMCDkj5ieMDqB1
oA6XwV4as9ZtZrvUFeWON/Kjj3lQOMnpz/EP1rB8QWa6L4kubazd0WFlaNgx3LlQ3X2zXc/Dj/kX
rj/r7b/0BK4/xv8A8jfff9s//Ra0AdRe+CNNtPC9xKVc30MDStMXPLAZIx0xxiuN0TX77RftCWWC
1wAoBG7BzwQO56ivWte/5F7U/wDr0l/9ANeIxhDIokYqhI3MBkgdzjvQB3i6H41uYxcvqjROefKN
wyn8lG2obfxrqulreafq0e67jRhE5Ayr443Y4I75/wAapQ+F9EnhEq+K7UKRnDxBW/Ivms+50nSk
m+z2mstdzsCEC221C2OF3Fu544B60AX/AAhokXiPUrqfUWeWOIBnG4guzE9T17Gt3Vfh5FNdxvpU
qWsWPnWRmbB7Fe/5msfwFrFrpd/dQXkqwpcKuHfgBlzwT26n8q3df8eR6fexQ6aLe8QKTKwYkZ7A
Ecevr1FAHWWEM9tYQQ3M/nzIgVpduN3vViqum3M15ptvczweRLKgYx5ztz0/SrVABRRRQAUUUUAF
FFFABRRRQAUUUUAFFFFABRRRQAUUUUAFY+u+G7PxB9n+1yTp5G7b5TAZ3YznIPoK2KKAKelabDpG
mxWNu0jRRZ2mQgtySecAetQ6roWnayoF7bh3UYWQHaw/EVpUUAcmnw70VJNzPduP7jSDH6AGrt34
O0e609bNIDbRq4fdDjeSARgswJI5rfooAzdE0S20Gye1tXldHkMhMpBOSAOwHpWbqvgnTdX1KW+u
J7tZZcbhG6heABxlT6V0lFAEN3bJeWU9rIWCTRtGxXqARg4/OufsfAmjWUkrETXKyRmMpOykAZBy
MAEHjrXTUUAcnJ8PNFeTer3aL/cWQY/UE/rWrpvhnSNKYPbWaeaP+Wknzt+BPT8K16KAMDVPB2j6
rO08kTwzMcs8Dbdx9SCCP0qPT/BGi6fOswikuHU5UzsGAP0AA/OujooAKKKKACiiigAooooAKKKK
ACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA
KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAo
oooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/Z
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
8.2s (8.2s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYWEzZmI4MjE6LTNkMWU%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlZWY0MjU1NmIyMDgyZjAzODY1NGFmMDU1ZDZmYTkwNGU%3D--ef6646bfad4083ee00d7abb12e0eec2f231c0282; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1426
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 03:04:25 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlZWY0MjU1NmIyMDgyZjAzODY1NGFmMDU1ZDZmYTkwNGUiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--05c9f42723c51c0d61048172fd8f74da02360777; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlZWY0MjU1NmIyMDgyZjAzODY1NGFmMDU1ZDZmYTkwNGUiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--05c9f42723c51c0d61048172fd8f74da02360777
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
1.7s (9.9s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYWEzZmI4MjE6LTNkMWU%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlZWY0MjU1NmIyMDgyZjAzODY1NGFmMDU1ZDZmYTkwNGUiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--05c9f42723c51c0d61048172fd8f74da02360777; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzM2FhM2YyMDJjOi00YmIy
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 343
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 03:04:26 GMT
response-header: content-length => 143
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 143 bytes (143 total)
Authorization key: LTE2MjkxNzcxOjEzM2FhM2YyMDJjOi00YmIy
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzM2FhM2YyMDJjOi00YmIy">redirected</a>.</body></html>
0.5s (10.4s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2FhM2YyMDJjOi00YmIy ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2FhM2YyMDJjOi00YmIy
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 102
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 03:04:27 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "c5fd68cf8f7000fc26ec72849b7525904491bd8d",
  "access_token": "9d86397cd3c643a920af4d0a47213890"
}
ACCESS TOKEN: 9d86397cd3c643a920af4d0a47213890
Refresh TOKEN: c5fd68cf8f7000fc26ec72849b7525904491bd8d
0.8s (11.1s total) OK. Access token: c5fd68cf8f7000fc26ec72849b7525904491bd8d...

NEXT TEST: device_info_json 22
3.0s (14.1s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=9d86397cd3c643a920af4d0a47213890
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=9d86397cd3c643a920af4d0a47213890
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=9d86397cd3c643a920af4d0a47213890
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
4.5s (18.7s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=9d86397cd3c643a920af4d0a47213890
Net::HTTP::Get: /1/devices/tel:123/info?access_token=9d86397cd3c643a920af4d0a47213890
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
0.1s (18.8s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (21.8s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=9d86397cd3c643a920af4d0a47213890
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=9d86397cd3c643a920af4d0a47213890
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
3.1s (24.9s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=9d86397cd3c643a920af4d0a47213890
Net::HTTP::Get: /1/devices/tel:123/info?access_token=9d86397cd3c643a920af4d0a47213890
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
1.4s (26.3s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (29.3s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=9d86397cd3c643a920af4d0a47213890&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=9d86397cd3c643a920af4d0a47213890&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
4.5s (33.8s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=9d86397cd3c643a920af4d0a47213890&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=9d86397cd3c643a920af4d0a47213890&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
1.3s (35.1s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (38.1s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x102417988>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=9d86397cd3c643a920af4d0a47213890
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=9d86397cd3c643a920af4d0a47213890
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
4.7s (42.8s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=9d86397cd3c643a920af4d0a47213890
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=9d86397cd3c643a920af4d0a47213890
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=9d86397cd3c643a920af4d0a47213890
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=9d86397cd3c643a920af4d0a47213890
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
7.3s (50.1s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=9d86397cd3c643a920af4d0a47213890&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=9d86397cd3c643a920af4d0a47213890&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=9d86397cd3c643a920af4d0a47213890&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=9d86397cd3c643a920af4d0a47213890&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
10.7s (60.8s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (63.8s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=9d86397cd3c643a920af4d0a47213890
Request: https://api.att.com/1/messages/outbox/sms?access_token=9d86397cd3c643a920af4d0a47213890
Net::HTTP::Post: /1/messages/outbox/sms?access_token=9d86397cd3c643a920af4d0a47213890
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2FhM2YyMDJjOi00YmIy
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 03:05:20 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b487b5e055d1d2"
  },
  "id": "SMSa9b487b5e055d1d2"
}
0.5s (64.4s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (67.4s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=9d86397cd3c643a920af4d0a47213890
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=9d86397cd3c643a920af4d0a47213890
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=9d86397cd3c643a920af4d0a47213890
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 03:05:24 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b598c3c57f0a5b"
  },
  "id": "SMSa9b598c3c57f0a5b"
}
1.3s (68.7s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.0s (71.7s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=9d86397cd3c643a920af4d0a47213890
Request: https://api.att.com/1/messages/outbox/mms?access_token=9d86397cd3c643a920af4d0a47213890
Net::HTTP::Post: /1/messages/outbox/mms?access_token=9d86397cd3c643a920af4d0a47213890
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_12051157.1321412728548"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=9d86397cd3c643a920af4d0a47213890
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 03:05:28 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf67762b"
  },
  "id": "MMSa9b50d45cf67762b"
}
1.2s (72.9s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf67762b?access_token=9d86397cd3c643a920af4d0a47213890
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b50d45cf67762b?access_token=9d86397cd3c643a920af4d0a47213890
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 03:05:32 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b50d45cf67762b"
  }
}
3.7s (76.6s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.0s (79.6s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=9d86397cd3c643a920af4d0a47213890
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=9d86397cd3c643a920af4d0a47213890
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_15755819.1321412736500"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf67762b?access_token=9d86397cd3c643a920af4d0a47213890
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 03:05:36 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b4a1507be34a88"
}
0.7s (80.3s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.0s (83.3s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=9d86397cd3c643a920af4d0a47213890
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321412740190",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=9d86397cd3c643a920af4d0a47213890
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=9d86397cd3c643a920af4d0a47213890
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Wed, 16 Nov 2011 03:05:42 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
11.7s (95.0s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=9d86397cd3c643a920af4d0a47213890
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321412751880</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=9d86397cd3c643a920af4d0a47213890
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=9d86397cd3c643a920af4d0a47213890
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Wed, 16 Nov 2011 03:05:53 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
5.0s (100.0s total) OK. New subscription request SEN1321412756874...
Request: : https://api.att.com/1/payments/transactions?access_token=9d86397cd3c643a920af4d0a47213890
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321412756874",
  "externalMerchantTransactionID": "SenchaTransId1321412756888",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=9d86397cd3c643a920af4d0a47213890
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=9d86397cd3c643a920af4d0a47213890
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Wed, 16 Nov 2011 03:05:57 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.1s (0.1s total) OK. Requesting login pinput id="login_scope" name="login[scope]" type="hidden" value="TL,DC,WAP,SMS,MMS,PAYMENT" />
			<input id="login_id" name="login[id]" type="hidden" />
			<!--<input  name="phone" type="text" value="4252221234" style="color: silver;">-->
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="javascript:submit_off_net_wireless();">Allow</a>
			</p>
			<p>
				<a class="button cancel" href="/deny_pin">Cancel</a>
			</p>
			<p style="text-align:center; margin-left:10px;color:red;"></p>
			<br>
			<p><SMALL>Refer to Craftguilds Privacy Policy for details on how this information may be used or shared.</SMALL>
			</p>
		</div>
	</form>
	<form action="" id="signup" method="post">
		<hr style="clear:both">   
		<h3>Existing Users</h3><!--move h3 to css and style center it-->
		<!--begin email address-->
		<p>To allow use with another account click  the <strong> Sign in to another account </strong> button.  To sign in and manage consent settings click <strong> Manage Consent</strong>. 
		</p>
		<!--begin SIGNIN/Manage Profile Buttons -->
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=true">SignIn to another account</a>
			</p>
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=mc">Manage Consent</a>
			</p>
		</div>
	</form>

<footer>
</footer>
</body>
</html>
#<NoMethodError: undefined method `value=' for nil:NilClass>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.1s (0.1s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 15
response-header: date => Wed, 16 Nov 2011 04:03:59 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "413af1aa5b4aa1ed708a278dbe1d0f8f"
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 734
response-header: date => Wed, 16 Nov 2011 04:04:27 GMT
response-header: content-length => 1456
response-header: content-encoding => gzip
response-header: set-cookie => sessionId=EUID%3DLTMwN2UyMTQ0OjEzM2E4ZGNmNmMzOi0yM2Yy%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com; path=/
response-header: keep-alive => timeout=5, max=100
response-header: vary => Accept-Encoding
response-header: cache-control => private, max-age=0, must-revalidate
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 1438 bytes (1448 total)
Read 8 bytes (1456 total)
gzip body
saved cookie: sessionId=EUID%3DLTMwN2UyMTQ0OjEzM2E4ZGNmNmMzOi0yM2Yy%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Generic Checkout Page | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/effects.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/controls.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
	<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo" id="logo_title">Consent Request</h1>
<img src="/images/att.png" alt="" id="logo" height="28" width="28" />
</header>
	<form action="/off_net_consent_wireless" id="off_net_consent_wireless" method="post">
	<p><strong>Sencha API Poller</strong>  by Jason Cline, is requesting do the followage...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 7
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 04:04:21 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "58df03afd56dab3f39297475daabe108"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 848
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 04:04:21 GMT
response-header: content-length => 8642
response-header: set-cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYWEzZmI4MjE6NmZmOA%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlZmE5YmVkOTdkMGNiYmM0YzBiNTgxMjNmYzIyMzZiZTM%3D--5802615dc3ac0d89cc5d4b26c7af8eae38d3ee38; path=/; HttpOnly, BIGipServeruser_profile_443=470425516.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 7470 bytes (7470 total)
Read 1172 bytes (8642 total)
saved cookie: sessionId=EUID%3DNWY2NWUwNTg6MTMzYWEzZmI4MjE6NmZmOA%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlZmE5YmVkOTdkMGNiYmM0YzBiNTgxMjNmYzIyMzZiZTM%3D--5802615dc3ac0d89cc5d4b26c7af8eae38d3ee38
saved cookie: BIGipServeruser_profile_443=470425516.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="10330795346068886" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKK4PxPrPijSLiaZfKisDL5cMgVGJyCRxyex7dqAO8oqnpM8l1o1jcTNullt43dsYySoJNXKACio
bq7t7KAz3UyQxDqztgVlReMNAll8tdSjDZxllZR+ZGKANuiuV8V6nrll5U2kRh7XyjJLKIw4XHOc
+mKn8F6reaxo81xfSiSRbhkBChcLtU44+poA6Oiiorq5hs7WW5ncJFEpZmPYCgCWiuAk8e6ne3Dr
o+k+bGn95GkbHqQvT9a0vD3jVNUvBYXtv9muiSFIPysR255BoA62iiigAooooAKKKKACiiigAooo
oAKKKKACiiigAooooAKKKKACiiigArj/AIj/APIvW/8A19r/AOgPXYVxHxFvLWTR4rVLmFrhLpS8
SuC6jY3JHUdR+dAGXpln4t1rToGt737JaRxrHD+8Me4KMfwjJ6dTT4PEOueF9USz1tmuLdsEljuO
3+8rdT9D+lb/AIa8UaVLotrBNdw200ESxskzBM4GMgng5rmPGuq2+vanZ2mm/vzFlQ6D77MRwPXp
+tAFTxTqTa34mNubhUtI5BDGS2FXnBY9uuefStfWNC8LR6JK1hqFt9shQsrC7DGUjtjOMn2A5rmt
U0s6HrqQXsZlhBR2wSPMXjdg/mK66a18BQ2H2vbFIMZESXDmQ+23dkfjQBm+FtUlk8Oa5pkrlkjs
pZYsn7o2kMPpyP1ql4bi8R31lJZ6RKYLXzC8kudg3EAY3degHArbgu/CSaXqjaWPs109lLHiZ2BY
EdBuJBOQOnNWfhzdW66PNbNPELhrlmWIuN5GxeQOuOD+VAFCwv8AXfD/AIptdM1O8a5juGVSGkLg
hjgEE8jBrsvEGnvqmg3dnGwV5EypJwMgggH8q4rxLf2c/jvSLiG7gkgj8nfIkgKriUk5I4HHNb3j
W6kn8JPNp0yywPIBLJE24FOQeR74B/GgDl/Cviq38O29zZ3ds7hpC4eHaTnAGDz049axtVv5tR1S
51qBDbqZlClHwyNj5enOflJz611HhD/hF/7G/wBP+x/bMt5v2rHTPG3d7Y6d65HWvsP9sXP9mZ+x
7/3fX05xntnOPagDbmu/FFjpdnrMuoyiCQhI1MhJPBILL0OcHk80tzfeKY9Pi1+W/kSGWTaiB8Dv
g7OmOKu67PDN8OdLWKWORo5Y1cKwO07G4Poadq88M3w1sFiljdo3jVwrAlTg8H0NAHcaNfNqejWl
4yhXljBYDpnof1q9WB4OuYJvDVpFHNG8kSYkRWBKZJxkdq36ACiiigAooooAKKKKACiiigAooooA
KKKKACiiigAooooAK5nUvA+mapqE17PPdrJKQWCOoA4xxlT6V01FAHMXHgLRLiOJQs0TIioXjcAv
gYyeMZ9cAVf0jwvpeiv5ltCWmxjzZTub8Ow/AVsUUAUdT0ex1iARXsCyBfut0ZfoRWAPh1ook3GS
8I/umRcf+g5rraKAObvfBGj3kMEKrNbxw5wIWA3E4ySSCSeKXSfBmnaPqCXtvNdNIgIAkdSORjso
ro6KAOP/AOFcaP8A8/N9/wB9p/8AE10Wm6Vb6ZpUenRbpIEDD97glgxJIPGO9XqKAOWuvAGiXExk
QXEGeSsUgx+oNRP8OtGdsrNeIPRZFx+q111FAHMjwPpg0ptO8+78lpxOW3ru3BSv93pg0qeCdNTS
ZNOE935MkolLF13ZAx/dxj8K6WigDH0Lw3Z+H/tH2SSd/P27vNYHG3OMYA9TWxRRQAUUUUAFFFFA
BRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAF
FFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUU
UUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQB//2Q==
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
5.8s (5.9s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYWEzZmI4MjE6NmZmOA%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlZmE5YmVkOTdkMGNiYmM0YzBiNTgxMjNmYzIyMzZiZTM%3D--5802615dc3ac0d89cc5d4b26c7af8eae38d3ee38; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1441
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 04:04:22 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlZmE5YmVkOTdkMGNiYmM0YzBiNTgxMjNmYzIyMzZiZTMiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--a8561ba6527bce67cd80fec4429b17c9a7aa5ee7; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4096 bytes (4096 total)
Read 338 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlZmE5YmVkOTdkMGNiYmM0YzBiNTgxMjNmYzIyMzZiZTMiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--a8561ba6527bce67cd80fec4429b17c9a7aa5ee7
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
1.7s (7.5s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYWEzZmI4MjE6NmZmOA%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlZmE5YmVkOTdkMGNiYmM0YzBiNTgxMjNmYzIyMzZiZTMiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--a8561ba6527bce67cd80fec4429b17c9a7aa5ee7; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzM2FhM2YyMDJjOjVhZTc%3D
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 422
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 04:04:24 GMT
response-header: content-length => 145
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 145 bytes (145 total)
Authorization key: LTE2MjkxNzcxOjEzM2FhM2YyMDJjOjVhZTc%3D
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzM2FhM2YyMDJjOjVhZTc%3D">redirected</a>.</body></html>
0.5s (8.1s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2FhM2YyMDJjOjVhZTc%3D ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2FhM2YyMDJjOjVhZTc%3D
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 183
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 04:04:25 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "e44c5f545db21a6352db27409937aaee1c72b506",
  "access_token": "ef480a121eadd6306846b48bfb9b55b1"
}
ACCESS TOKEN: ef480a121eadd6306846b48bfb9b55b1
Refresh TOKEN: e44c5f545db21a6352db27409937aaee1c72b506
0.8s (8.9s total) OK. Access token: e44c5f545db21a6352db27409937aaee1c72b506...

NEXT TEST: device_info_json 22
3.0s (11.9s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=ef480a121eadd6306846b48bfb9b55b1
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=ef480a121eadd6306846b48bfb9b55b1
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=ef480a121eadd6306846b48bfb9b55b1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
4.3s (16.2s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=ef480a121eadd6306846b48bfb9b55b1
Net::HTTP::Get: /1/devices/tel:123/info?access_token=ef480a121eadd6306846b48bfb9b55b1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
0.1s (16.3s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (19.3s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=ef480a121eadd6306846b48bfb9b55b1
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=ef480a121eadd6306846b48bfb9b55b1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
4.0s (23.3s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=ef480a121eadd6306846b48bfb9b55b1
Net::HTTP::Get: /1/devices/tel:123/info?access_token=ef480a121eadd6306846b48bfb9b55b1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
0.1s (23.4s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (26.4s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=ef480a121eadd6306846b48bfb9b55b1&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=ef480a121eadd6306846b48bfb9b55b1&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
4.6s (30.9s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=ef480a121eadd6306846b48bfb9b55b1&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=ef480a121eadd6306846b48bfb9b55b1&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
1.7s (32.6s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.1s (35.7s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x1023fb2d8>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=ef480a121eadd6306846b48bfb9b55b1
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=ef480a121eadd6306846b48bfb9b55b1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
4.6s (40.3s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=ef480a121eadd6306846b48bfb9b55b1
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=ef480a121eadd6306846b48bfb9b55b1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=ef480a121eadd6306846b48bfb9b55b1
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=ef480a121eadd6306846b48bfb9b55b1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
8.1s (48.4s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=ef480a121eadd6306846b48bfb9b55b1&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=ef480a121eadd6306846b48bfb9b55b1&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=ef480a121eadd6306846b48bfb9b55b1&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=ef480a121eadd6306846b48bfb9b55b1&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
12.2s (60.5s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (63.5s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=ef480a121eadd6306846b48bfb9b55b1
Request: https://api.att.com/1/messages/outbox/sms?access_token=ef480a121eadd6306846b48bfb9b55b1
Net::HTTP::Post: /1/messages/outbox/sms?access_token=ef480a121eadd6306846b48bfb9b55b1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2FhM2YyMDJjOjVhZTc%3D
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 04:05:20 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b1604502ecf4cc"
  },
  "id": "SMSa9b1604502ecf4cc"
}
0.9s (64.4s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (67.4s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=ef480a121eadd6306846b48bfb9b55b1
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=ef480a121eadd6306846b48bfb9b55b1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=ef480a121eadd6306846b48bfb9b55b1
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 04:05:24 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b1604502ecf4cd"
  },
  "id": "SMSa9b1604502ecf4cd"
}
1.0s (68.4s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.0s (71.5s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=ef480a121eadd6306846b48bfb9b55b1
Request: https://api.att.com/1/messages/outbox/mms?access_token=ef480a121eadd6306846b48bfb9b55b1
Net::HTTP::Post: /1/messages/outbox/mms?access_token=ef480a121eadd6306846b48bfb9b55b1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_13424064.1321416328396"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=ef480a121eadd6306846b48bfb9b55b1
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 04:05:28 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36cefc"
  },
  "id": "MMSa9b11c1e5b36cefc"
}
1.3s (72.8s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36cefc?access_token=ef480a121eadd6306846b48bfb9b55b1
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b11c1e5b36cefc?access_token=ef480a121eadd6306846b48bfb9b55b1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 04:05:33 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b11c1e5b36cefc"
  }
}
3.7s (76.5s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.0s (79.5s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=ef480a121eadd6306846b48bfb9b55b1
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=ef480a121eadd6306846b48bfb9b55b1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_15495204.1321416336419"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36cefc?access_token=ef480a121eadd6306846b48bfb9b55b1
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 04:05:36 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b5c707572daaf5"
}
0.7s (80.1s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.0s (83.2s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=ef480a121eadd6306846b48bfb9b55b1
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321416340126",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=ef480a121eadd6306846b48bfb9b55b1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=ef480a121eadd6306846b48bfb9b55b1
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Wed, 16 Nov 2011 04:05:41 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
10.7s (93.9s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=ef480a121eadd6306846b48bfb9b55b1
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321416350861</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=ef480a121eadd6306846b48bfb9b55b1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=ef480a121eadd6306846b48bfb9b55b1
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Wed, 16 Nov 2011 04:05:51 GMT
response-header: content-length => ing: 
		<div id="firstCol_b">
			<ul>
				
				
					<li>Location - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
					<li>Device Capabilities - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
				
				
				
				
				
				
				
			</ul>
			<p>If ok, enter the wireless phone number and click Allow. A verification message will be sent.	</p>
		</div>
	<br><p></p>
	<br>
	<form action="" id="signup" method="post">
		<div id="firstCol_b">
			<label for="phone"><span>Wireless Number</span></label> 
		</div>
		<div id="firstCol_a">
			<img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50">
		</div>
		<div class="input-c" id="firstCol_b" style="right: 9px; top: 9px">
			<input id="login_wireless" name="login[wireless]" size="30" style="color:silver;" type="text" />
			<input id="login_client_id" name="login[client_id]" type="hidden" value="cddc0328b4c56103f8febb0194df7fd8" />
			<input id="login_scope" name="login[scope]" type="hidden" value="TL,DC,WAP,SMS,MMS,PAYMENT" />
			<input id="login_id" name="login[id]" type="hidden" />
			<!--<input  name="phone" type="text" value="4252221234" style="color: silver;">-->
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="javascript:submit_off_net_wireless();">Allow</a>
			</p>
			<p>
				<a class="button cancel" href="/deny_pin">Cancel</a>
			</p>
			<p style="text-align:center; margin-left:10px;color:red;"></p>
			<br>
			<p><SMALL>Refer to Craftguilds Privacy Policy for details on how this information may be used or shared.</SMALL>
			</p>
		</div>
	</form>
	<form action="" id="signup" method="post">
		<hr style="clear:both">   
		<h3>Existing Users</h3><!--move h3 to css and style center it-->
		<!--begin email address-->
		<p>To allow use with another account click  the <strong> Sign in to another account </strong> button.  To sign in and manage consent settings click <strong> Manage Consent</strong>. 
		</p>
		<!--begin SIGNIN/Manage Profile Buttons -->
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=true">SignIn to another account</a>
			</p>
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=mc">Manage Consent</a>
			</p>
		</div>
	</form>

<footer>
</footer>
</body>
</html>
#<NoMethodError: undefined method `value=' for nil:NilClass>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
addin229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
4.7s (98.6s total) OK. New subscription request SEN1321416355532...
Request: : https://api.att.com/1/payments/transactions?access_token=ef480a121eadd6306846b48bfb9b55b1
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321416355532",
  "externalMerchantTransactionID": "SenchaTransId1321416355546",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=ef480a121eadd6306846b48bfb9b55b1
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=ef480a121eadd6306846b48bfb9b55b1
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Wed, 16 Nov 2011 04:05:55 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
addg to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.1s (0.1s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 108
response-header: date => Wed, 16 Nov 2011 05:04:00 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "413af1aa5b4aa1ed708a278dbe1d0f8f"
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1184
response-header: date => Wed, 16 Nov 2011 05:04:27 GMT
response-header: content-length => 1456
response-header: content-encoding => gzip
response-header: set-cookie => sessionId=EUID%3DLTU4MTg3YWFlOjEzM2E4ZmM4NDU1Oi0yNTk0%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com; path=/
response-header: keep-alive => timeout=5, max=100
response-header: vary => Accept-Encoding
response-header: cache-control => private, max-age=0, must-revalidate
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 1438 bytes (1448 total)
Read 8 bytes (1456 total)
gzip body
saved cookie: sessionId=EUID%3DLTU4MTg3YWFlOjEzM2E4ZmM4NDU1Oi0yNTk0%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Generic Checkout Page | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobileing to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.1s (0.1s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 7
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 05:04:23 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "b9c2dfb59dd91ab9742a8a4803dce4bf"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1609
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 05:04:23 GMT
response-header: content-length => 8576
response-header: set-cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYWE5MDgyM2I6MWM2NQ%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlNTlkMDdjM2Y0NjdkMjQyOTY1MDQwMzM5MTYyYWZmYTI%3D--44b02212dde71942a474b41aa34cb3c80183d902; path=/; HttpOnly, BIGipServeruser_profile_443=470425516.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 8000 bytes (8000 total)
Read 576 bytes (8576 total)
saved cookie: sessionId=EUID%3DNWY2NWUwNTg6MTMzYWE5MDgyM2I6MWM2NQ%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlNTlkMDdjM2Y0NjdkMjQyOTY1MDQwMzM5MTYyYWZmYTI%3D--44b02212dde71942a474b41aa34cb3c80183d902
saved cookie: BIGipServeruser_profile_443=470425516.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="10334398149461280" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
Kz9T1vTtG8r7fceT5udnyM2cYz0B9RWhXn/xN/5hf/bX/wBkoA7ixvrfUrOO7tJPMgkztbaRnBIP
B56g1YrnvBbqng2yd2CqokJJOAB5jVbsPEukandi1s7ozTEE7RE4GB3yRgUAa1FFFABRRRQAUUUU
AFFFFABRRXL+LPFZ0Hybe0SKW7f5mEgJCr74I5P9KAOoorL8O6lNq+g219cLGssu7cIwQvDEcZJ9
K1KACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAK8/8Aib/zC/8Atr/7JXoFef8AxN/5
hf8A21/9koAwJfEL/wDCK2OiWzbPvG4c8Zy7EL9MEE//AK6v6x4d1Hwzp0V9Y37pGUVbhoZWUs5J
54/h6DrVT/hGVk8Ex6zCztPvZpF7CMMV4+mM/nXQaBe/8JF4NvNIlO66gi2oD1YDlD+BAH4CgB2h
31/onhu61rUrxr6KZYzbxtOzEHJBHzDjqOmelGuXt/rfhu11rTbxrKKFZDcRrOyknIAHyjnoeuOt
c3Y3MmtWGkeHU3YW5dpP93rn8AXovrmTRdP1bw6+4g3KtH/u9c/iAlAHR+CYdavIptQudQlltpIn
iiSWd2IfIw2Dx2Iz1rB12HxJ4f8As/2vWp38/dt8q6kONuM5zj1Fej6NaLpWg2lu5CCGEGQngA9W
P5k1xHxEv7O9/s37JdwXGzzd3lSB9udmM46dDQA6Obxb4qLXFpKbK052Ycxg+wI5b69PpVe503xp
HpxvJry6VYlwY0uTv28nJCnn8Tn8q72PWtGUJHFqdgAMKqrOn4ADNQaz4l07RYZDLOklwvAt0cFy
SMjI7D3NAHOeA9WeSLUH1HVTIQFZUnmYlFGdzfNxjkdPTntXN6dJ4i1bUTZ2WrXcpB5lFxIEA9ST
zj8M1Npvh+48WXF7fRyWtqMlhEn949BtHKjg8n9a0PB/iK20WWTSr5YERn4uo2DDP+0w4I9D2oA7
Se+GgeHI57+TzJYIVRzuJMkmAOCeTk9/xrzx7CfUfD2reJL/AOaWVlWHP/XRQSPYD5R+NdZ4o0W6
8Uw2b6Ze2rWqbiSZCVZs4yCoIOMEVx2p6bqNhpksM3iG0mhhwjWcV6zHhgMBCOx59sUAd74I/wCR
Qsf+2n/oxq6CvPfAUV0J4ZDq0LWxjfFiLkl0O7r5fQdz+NehUAFFFFABRRRQAUUUUAFFFFABRRRQ
AUUUUAFFFFABRRRQAVj674bs/EH2f7XJOnkbtvlMBndjOcg+grYooAo6dpVtpukppse+S3UMv73B
LBiSQcAeprM0rwdYaNqC3tpc3gcAgozqVIPY/Ln/APVXQ0UAYemeFdO0nVJdQtzMZZAwCuwKpk5O
MD8KNT8KadquqRahcGZZY9uVRgFfByM5H4VuUUAR3EK3NtLA5IWRChI64IxXJ/8ACuNH/wCfm+/7
7T/4muwooA5GP4d6RFKki3F9lWDDLp2/4DVrVfBOm6vqUt9cT3ayy43CN1C8ADjKn0rpKKAMfQvD
dn4f+0fZJJ38/bu81gcbc4xgD1NY/wDwrjR/+fm+/wC+0/8Aia7CigCnpWmw6RpsVjbtI0UWdpkI
LcknnAHrWDdeANKu7ye5kuL0PNI0jBXXAJOTj5a6qigDn9H8H6fol/8AbLaa6eTaUxIykYP0UV0F
FFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUU
UAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQ
AUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAH/9k=
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
8.7s (8.7s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYWE5MDgyM2I6MWM2NQ%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlNTlkMDdjM2Y0NjdkMjQyOTY1MDQwMzM5MTYyYWZmYTI%3D--44b02212dde71942a474b41aa34cb3c80183d902; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1366
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 05:04:25 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlNTlkMDdjM2Y0NjdkMjQyOTY1MDQwMzM5MTYyYWZmYTIiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--5bb02274b7c9aed02251fe5b3dd938cdd211bbfc; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlNTlkMDdjM2Y0NjdkMjQyOTY1MDQwMzM5MTYyYWZmYTIiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--5bb02274b7c9aed02251fe5b3dd938cdd211bbfc
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
1.7s (10.5s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYWE5MDgyM2I6MWM2NQ%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlNTlkMDdjM2Y0NjdkMjQyOTY1MDQwMzM5MTYyYWZmYTIiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--5bb02274b7c9aed02251fe5b3dd938cdd211bbfc; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzM2FhOTM0NWE5OjJhNg%3D%3D
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 336
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 05:04:27 GMT
response-header: content-length => 147
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 147 bytes (147 total)
Authorization key: LTE2MjkxNzcxOjEzM2FhOTM0NWE5OjJhNg%3D%3D
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzM2FhOTM0NWE5OjJhNg%3D%3D">redirected</a>.</body></html>
0.5s (11.0s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2FhOTM0NWE5OjJhNg%3D%3D ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2FhOTM0NWE5OjJhNg%3D%3D
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 197
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 05:04:28 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "0b4e5ff8e59b3b8117ec68ad0f9d7557f1e49167",
  "access_token": "f8050d6f035502cbdb5853edf03a2591"
}
ACCESS TOKEN: f8050d6f035502cbdb5853edf03a2591
Refresh TOKEN: 0b4e5ff8e59b3b8117ec68ad0f9d7557f1e49167
0.9s (11.9s total) OK. Access token: 0b4e5ff8e59b3b8117ec68ad0f9d7557f1e49167...

NEXT TEST: device_info_json 22
3.0s (14.9s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=f8050d6f035502cbdb5853edf03a2591
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=f8050d6f035502cbdb5853edf03a2591
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=f8050d6f035502cbdb5853edf03a2591
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
4.4s (19.2s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=f8050d6f035502cbdb5853edf03a2591
Net::HTTP::Get: /1/devices/tel:123/info?access_token=f8050d6f035502cbdb5853edf03a2591
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzi-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/effects.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/controls.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
	<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo" id="logo_title">Consent Request</h1>
<img src="/images/att.png" alt="" id="logo" height="28" width="28" />
</header>
	<form action="/off_net_consent_wireless" id="off_net_consent_wireless" method="post">
	<p><strong>Sencha API Poller</strong>  by Jason Cline, is requesting do the following: 
		<div id="firstCol_b">
			<ul>
				
				
					<li>Location - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
					<li>Device Capabilities - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
				
				
				
				
				
				
				
			</ul>
			<p>If ok, enter the wireless phone number and click Allow. A verification message will be sent.	</p>
		</div>
	<br><p></p>
	<br>
	<form action="" id="signup" method="post">
		<div id="firstCol_b">
			<label for="phone"><span>Wireless Number</span></label> 
		</div>
		<div id="firstCol_a">
			<img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50">
		</div>
		<div class="input-c" id="firstCol_b" style="right: 9px; top: 9px">
			<input id="login_wireless" name="login[wireless]" size="30" style="color:silver;" type="text" />
			<input id="login_client_id" name="login[client_id]" type="hidden" value="cddc0328b4c56103f8febb0194df7fd8" />
			<input id="login_scope" name="login[scope]" type="hidden" value="TL,DC,WAP,SMS,MMS,PAYMENT" />
			<input id="login_id" name="login[id]" type="hidden" />
			<!--<input  name="phone" type="text" value="4252221234" style="color: silver;">-->
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="javascript:submit_off_net_wireless();">Allow</a>
			</p>
			<p>
				<a class="button cancel" href="/deny_pin">Cancel</a>
			</p>
			<p style="text-align:center; margin-left:10px;color:red;"></p>
			<br>
			<p><SMALL>Refer to Craftguilds Privacy Policy for details on how this information may be used or shared.</SMALL>
			</p>
		</div>
	</form>
	<form action="" id="signup" method="post">
		<hr style="clear:both">   
		<h3>Existing Users</h3><!--move h3 to css and style center it-->
		<!--begin email address-->
		<p>To allow use with another account click  the <strong> Sign in to another account </strong> button.  To sign in and manage consent settings click <strong> Manage Consent</strong>. 
		</p>
		<!--begin SIGNIN/Manage Profile Buttons -->
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=true">SignIn to another account</a>
			</p>
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=mc">Manage Consent</a>
			</p>
		</div>
	</form>

<footer>
</footer>
</body>
</html>
#<NoMethodError: undefined method `value=' for nil:NilClass>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_p,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
0.1s (19.3s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (22.3s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=f8050d6f035502cbdb5853edf03a2591
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=f8050d6f035502cbdb5853edf03a2591
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
4.2s (26.6s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=f8050d6f035502cbdb5853edf03a2591
Net::HTTP::Get: /1/devices/tel:123/info?access_token=f8050d6f035502cbdb5853edf03a2591
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
0.1s (26.7s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (29.7s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=f8050d6f035502cbdb5853edf03a2591&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=f8050d6f035502cbdb5853edf03a2591&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
4.6s (34.3s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=f8050d6f035502cbdb5853edf03a2591&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=f8050d6f035502cbdb5853edf03a2591&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
1.4s (35.7s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (38.7s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x1023e7aa8>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=f8050d6f035502cbdb5853edf03a2591
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=f8050d6f035502cbdb5853edf03a2591
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
4.9s (43.6s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=f8050d6f035502cbdb5853edf03a2591
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=f8050d6f035502cbdb5853edf03a2591
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=f8050d6f035502cbdb5853edf03a2591
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=f8050d6f035502cbdb5853edf03a2591
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
7.7s (51.3s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=f8050d6f035502cbdb5853edf03a2591&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=f8050d6f035502cbdb5853edf03a2591&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=f8050d6f035502cbdb5853edf03a2591&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=f8050d6f035502cbdb5853edf03a2591&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
11.4s (62.6s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (65.6s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=f8050d6f035502cbdb5853edf03a2591
Request: https://api.att.com/1/messages/outbox/sms?access_token=f8050d6f035502cbdb5853edf03a2591
Net::HTTP::Post: /1/messages/outbox/sms?access_token=f8050d6f035502cbdb5853edf03a2591
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2FhOTM0NWE5OjJhNg%3D%3D
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 05:05:22 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b487b5e055d1d5"
  },
  "id": "SMSa9b487b5e055d1d5"
}
0.6s (66.3s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (69.3s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=f8050d6f035502cbdb5853edf03a2591
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=f8050d6f035502cbdb5853edf03a2591
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=f8050d6f035502cbdb5853edf03a2591
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 05:05:26 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b1604502ecf4ce"
  },
  "id": "SMSa9b1604502ecf4ce"
}
1.0s (70.3s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.0s (73.3s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=f8050d6f035502cbdb5853edf03a2591
Request: https://api.att.com/1/messages/outbox/mms?access_token=f8050d6f035502cbdb5853edf03a2591
Net::HTTP::Post: /1/messages/outbox/mms?access_token=f8050d6f035502cbdb5853edf03a2591
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_14354981.1321419930282"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=f8050d6f035502cbdb5853edf03a2591
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 05:05:30 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b7025"
  },
  "id": "MMSa9b4644d651b7025"
}
1.0s (74.3s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b7025?access_token=f8050d6f035502cbdb5853edf03a2591
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b4644d651b7025?access_token=f8050d6f035502cbdb5853edf03a2591
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 05:05:33 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b4644d651b7025"
  }
}
3.4s (77.7s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.0s (80.7s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=f8050d6f035502cbdb5853edf03a2591
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=f8050d6f035502cbdb5853edf03a2591
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_15783778.1321419937675"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b7025?access_token=f8050d6f035502cbdb5853edf03a2591
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 05:05:37 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b5c707572daaf6"
}
0.8s (81.4s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.1s (84.5s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=f8050d6f035502cbdb5853edf03a2591
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321419941505",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=f8050d6f035502cbdb5853edf03a2591
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=f8050d6f035502cbdb5853edf03a2591
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Wed, 16 Nov 2011 05:05:42 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
10.6s (95.1s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=f8050d6f035502cbdb5853edf03a2591
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321419952140</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=f8050d6f035502cbdb5853edf03a2591
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=f8050d6f035502cbdb5853edf03a2591
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Wed, 16 Nov 2011 05:05:53 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
4.6s (99.7s total) OK. New subscription request SEN1321419956745...
Request: : https://api.att.com/1/payments/transactions?access_token=f8050d6f035502cbdb5853edf03a2591
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321419956745",
  "externalMerchantTransactionID": "SenchaTransId1321419956759",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=f8050d6f035502cbdb5853edf03a2591
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=f8050d6f035502cbdb5853edf03a2591
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Wed, 16 Nov 2011 05:05:56 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, teerror 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 15
response-header: date => Wed, 16 Nov 2011 06:04:00 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "413af1aa5b4aa1ed708a278dbe1d0f8f"
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 565
response-header: date => Wed, 16 Nov 2011 06:04:27 GMT
response-header: content-length => 1456
response-header: content-encoding => gzip
response-header: set-cookie => sessionId=EUID%3DLTU4MTg3YWFlOjEzM2E4ZmM4NDU1Oi0xOTNh%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com; path=/
response-header: keep-alive => timeout=5, max=100
response-header: vary => Accept-Encoding
response-header: cache-control => private, max-age=0, must-revalidate
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 1438 bytes (1448 total)
Read 8 bytes (1456 total)
gzip body
saved cookie: sessionId=EUID%3DLTU4MTg3YWFlOjEzM2E4ZmM4NDU1Oi0xOTNh%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Generic Checkout Page | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/effects.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/controls.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
	<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo" id="logo_title">Consent Request</h1>
<img src="/images/att.png" alt="" id="logo" height="28" width="28" />
</header>
	<form action="/off_net_consent_wireless" id="off_net_consent_wireless" method="post">
	<p><strong>Sencha API Poller</strong>  by Jason Cline, is requesting do the following: 
		<div id="firstCol_b">
			<ul>
				
				
					<li>Location - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
					<li>Device Capabilities - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
				
				
				
				
				
				
				
			</ul>
			<p>If ok, enter the wireless phone number and click Allow. A verification message will be sent.	</p>
		</div>
	<br><p></p>
	<br>
	<form action="" id="signup" method="post">
		<div id="firstCol_b">
			<label for="phone"><span>Wireless Number</span></label> 
		</div>
		<div id="firstCol_a">
			<img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50">
		</div>
		<div class="input-c" id="firstCol_b" style="right: 9px; top: 9px">
			<input id="login_wireless" name="login[wireless]" size="30" style="color:silver;" type="text" />
			<input id="login_client_id" name="login[client_id]" type="hidden" value="cddc0328b4c56103f8febb0194df7fd8" />
			<input id="login_scope" name="login[scope]" type="hidden" value="TL,DC,WAP,SMS,MMS,PAYMENT" />
			<input id="login_id" name="login[id]" type="hidden" />
			<!--<input  name="phone" type="text" value="4252221234" style="color: silver;">-->
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="javascript:submit_off_net_wireless();">Allow</a>
			</p>
			<p>
				<a class="button cancel" href="/deny_pin">Cancel</a>
			</p>
			<p style="text-align:center; margin-left:10px;color:red;"></p>
			<br>
			<p><SMALL>Refer to Craftguilds Privacy Policy for details on how this information may be used or shared.</SMALL>
			</p>
		</div>
	</form>
	<form action="" id="signup" method="post">
		<hr style="clear:both">   
		<h3>Existing Users</h3><!--move h3 to css and style center it-->
		<!--begin email address-->
		<st = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 7
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 06:04:21 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "66aa0120335f2e1d0f093fb37927f5f5"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1364
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 06:04:21 GMT
response-header: content-length => 8646
response-header: set-cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2FhZTcyM2I0Oi01NWJh%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlMjc2ZjRmODRlZTUxOTAzODIwOTNiOTlhMjBhNGQxYjc%3D--136136bf6cce9aebffaa5bb2ccb5bd165e242b98; path=/; HttpOnly, BIGipServeruser_profile_443=269098924.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4096 bytes (4096 total)
Read 4550 bytes (8646 total)
saved cookie: sessionId=EUID%3DLTE2MjkxNzcxOjEzM2FhZTcyM2I0Oi01NWJh%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlMjc2ZjRmODRlZTUxOTAzODIwOTNiOTlhMjBhNGQxYjc%3D--136136bf6cce9aebffaa5bb2ccb5bd165e242b98
saved cookie: BIGipServeruser_profile_443=269098924.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="19988232171265038" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKKxfEfiFPD1rHK1tJM8pKoBwufc9qANqivPW8b+IIVFzPoyraH+IxSKMf7xOP0qzd+KNX1Ow+3a
FEiQQRs12sm0tGRz3PIx6DtQB3NFc54L1W81jR5ri+lEki3DICFC4Xapxx9TXR0AZepeItK0i4W3
vrrypWQOF8tm4yRngH0NaEE8dzbxXELbopUDo2MZBGQea8z+I/8AyMNv/wBei/8Aob13elXMNn4V
sLi4kEcMdnEzMew2CgDVrGufFeh2c5hm1GMSA4IQM+D9QCKzdW15Na0a5tvDzyXN0wCvsjZdiHqc
sAPb15rnNC8Cy39pdSaj59pIp2xKVxk4zk5HI57e9AHo9peW19AJ7WdJoj0ZDkVPXlPgC9ng8Rpa
oSYbhGDr24BIP6Y/GvVqACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAp
rxRy7fMRX2ncNwzg+tOrO1PXNP0h4Evp/KMxO07Senrjp1oA43xR40mzf6PFZonLQtKz7sr0OBjg
/iaXwxZww+CNauUuEllnt5A6L/yz2o2Affk102o654em02UXV7aTwlTmMOGY/Qdc1554ZuFt7TWx
LcRxRy2EiKruF3vjgAHqevT1oAnsLp7fwLIINSFlONQLjEjKzqIwCBt5PJHtVrS9H8X6pbC4XU7m
3jP3ftF1IpYeoAzxVbQfDEWreHLvUBcmC5hlIRmYBAFUMcnt169sV1PhrxjBd27Wuq3EMF3DwZXc
BJR0yD0z/PqKAOd+I/8AyMNv/wBei/8Aob1Wv9Zk1uDSNCtZBFAkcMTs5wGk2gc+wP8AnpU/xEkS
XXbWSN1dHs0ZWU5BBZ8EGq+seGhp/hvTdVt2d/NjVpyf4SwBUj0Hb8qAPStG0i20TT0tLYdOXcjl
27k1l+L49bmsoodHVyHD+fsKg7cDAyefXpWJP4s1OTwpa39i6edC/k3mU3EHHyt9D/M1Y0Lx7anT
WGsTsLtCeVi/1g6jGBgHtzigDF8ItZmK8sYjJb61PE0cU0jbVB9ARyp4/Sqk9x4m03XjpqaldXF4
uFCpM0ituXPRvY9xxUOkO2o+MUvVxDH9pN1IzHCxoG3HJ7DtW19vs/8Ahaf2z7XB9l/57eYNn+ox
97p14oAj1Cz8X6RYnVLjVJNqEboxOWK5OBlcbeuPWu68P6i+raFaXsgAkkU78dMgkH9RWT42vrQ+
F7qAXUBmlWN44/MG513ryB3HB59qd4Gu7Z/DVnarcRNcIJGaIOC6jzG5I6jqPzoA6aiiigAooooA
KKKKACiiigAooooAKKKKACiiigAooooAKKKKACs3VNB03WQPttsHdRhXBKsB9RWlRQByS/DvRVk3
GS7Yf3DIMfoM/rVu/wDBWkX8NvCFlto4AQqwEDOcZJyCSeK6KigDH0/w3Z6bo11pcMk7QXO/ezsC
w3KFOMDHQelY/wDwrjR/+fm+/wC+0/8Aia7CigDm9Q8E6bqX2Xzp7tfs1ulumx1GVXOCcr15rXbS
rZ9FGlPue3EIhySN2AMA/XjP1q7RQBgaR4RsNHecwy3Esc6bJIpirIw9wFHv+dVJ/h9ok0xkX7TC
Cc7I5Bt/UE/rXVUUAZEHhrTLXS7iwt4TFHcIUkkBy7A+5/8A1Vjf8K40f/n5vv8AvtP/AImuwooA
5zU/Bmnaq9u8810pggWBdjqMqucE5U881LonhKw0G9e6tZrl3aMxkSspGCQewHpW9RQAUUUUAFFF
FABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUU
AFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQA
UUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAf/Z
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
6.3s (6.3s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2FhZTcyM2I0Oi01NWJh%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlMjc2ZjRmODRlZTUxOTAzODIwOTNiOTlhMjBhNGQxYjc%3D--136136bf6cce9aebffaa5bb2ccb5bd165e242b98; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 2099
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 06:04:23 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlMjc2ZjRmODRlZTUxOTAzODIwOTNiOTlhMjBhNGQxYjciCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--7ea5fd67303786f36dd9f4c954a650d5a81f2f2d; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlMjc2ZjRmODRlZTUxOTAzODIwOTNiOTlhMjBhNGQxYjciCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--7ea5fd67303786f36dd9f4c954a650d5a81f2f2d
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
2.4s (8.7s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2FhZTcyM2I0Oi01NWJh%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlMjc2ZjRmODRlZTUxOTAzODIwOTNiOTlhMjBhNGQxYjciCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--7ea5fd67303786f36dd9f4c954a650d5a81f2f2d; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 257
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 06:04:25 GMT
response-header: content-length => 73
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 73 bytes (73 total)
Authorization key: 
<html><body>You are being <a href="http://">redirected</a>.</body></html>
0.4s (9.0s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code= ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: content-type => application/json
response-header: content-length => 29
response-header: x-cnection => close
Read 29 bytes (29 total)
401 => Net::HTTPUnauthorized
{
	"error":"invalid_client"
}
{
	"error":"invalid_client"
}

NEXT TEST: device_info_json 22
3.1s (12.1s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 170
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 170 bytes (170 total)
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "Invalid value for part %1" ,

        "variables" : "accesstoken"    }

}}

NEXT TEST: device_info_json_error 21
3.1s (15.2s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=
Net::HTTP::Get: /1/devices/tel:123/info?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 170
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 170 bytes (170 total)
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "Invalid value for part %1" ,

        "variables" : "accesstoken"    }

}}
0.1s (15.3s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (18.3s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 185
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 185 bytes (185 total)
401 => Net::HTTPUnauthorized
<RequestError>
<PolicyException>
    <MessageId>POL0001</MessageId>
    <Text>Invalid value for part %1</Text>
    <Variables> accesstoken</Variables>
</PolicyException>
</RequestError>

NEXT TEST: device_info_xml_error 19
3.1s (21.4s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=
Net::HTTP::Get: /1/devices/tel:123/info?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 185
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 185 bytes (185 total)
401 => Net::HTTPUnauthorized
<RequestError>
<PolicyException>
    <MessageId>POL0001</MessageId>
    <Text>Invalid value for part %1</Text>
    <Variables> accesstoken</Variables>
</PolicyException>
</RequestError>
0.1s (21.5s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (24.5s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 183
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 183 bytes (183 total)
401 => Net::HTTPUnauthorized
jsonpCallback({"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "Invalid value for part %1" ,

        "variables" : "accesstoken"  }

}})

NEXT TEST: device_info_jsonp_error 17
3.1s (27.6s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 183
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 183 bytes (183 total)
401 => Net::HTTPUnauthorized
jsonpCallback({"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "Invalid value for part %1" ,

        "variables" : "accesstoken"  }

}})
0.1s (27.6s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (30.6s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x1023d3490>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 170
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 170 bytes (170 total)
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "Invalid value for part %1" ,

        "variables" : "accesstoken"    }

}}
3.1s (33.8s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 185
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 185 bytes (185 total)
401 => Net::HTTPUnauthorized
<RequestError>
<PolicyException>
    <MessageId>POL0001</MessageId>
    <Text>Invalid value for part %1</Text>
    <Variables> accesstoken</Variables>
</PolicyException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 185
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 185 bytes (185 total)
401 => Net::HTTPUnauthorized
<RequestError>
<PolicyException>
    <MessageId>POL0001</MessageId>
    <Text>Invalid value for part %1</Text>
    <Variables> accesstoken</Variables>
</PolicyException>
</RequestError>
6.2s (40.0s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 183
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 183 bytes (183 total)
401 => Net::HTTPUnauthorized
jsonpCallback({"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "Invalid value for part %1" ,

        "variables" : "accesstoken"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 183
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 183 bytes (183 total)
401 => Net::HTTPUnauthorized
jsonpCallback({"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "Invalid value for part %1" ,

        "variables" : "accesstoken"  }

}})
6.2s (46.2s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (49.2s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=
Request: https://api.att.com/1/messages/outbox/sms?access_token=
Net::HTTP::Post: /1/messages/outbox/sms?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://auth-api.att.com/consent_confirmation
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 155
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 155 bytes (155 total)
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "UnAuthorized Request" ,

        "variables" : " "    }

}}
0.1s (49.3s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (52.3s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://auth-api.att.com/consent_confirmation
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 155
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 155 bytes (155 total)
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "UnAuthorized Request" ,

        "variables" : " "    }

}}
0.1s (52.5s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.0s (55.5s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=
Request: https://api.att.com/1/messages/outbox/mms?access_token=
Net::HTTP::Post: /1/messages/outbox/mms?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_13235420.1321423512535"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://auth-api.att.com/consent_confirmation
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 155
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 155 bytes (155 total)
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "UnAuthorized Request" ,

        "variables" : " "    }

}}
0.4s (55.9s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/?access_token=
Net::HTTP::Get: /1/messages/outbox/mms/?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 155
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 155 bytes (155 total)
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "UnAuthorized Request" ,

        "variables" : " "    }

}}

NEXT TEST: wap_push 6
6.1s (62.0s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_16145567.1321423519105"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://auth-api.att.com/consent_confirmation
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 155
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 155 bytes (155 total)
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "UnAuthorized Request" ,

        "variables" : " "    }

}}

NEXT TEST: payment_new_json 5
3.1s (65.2s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321423522209",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://auth-api.att.com/consent_confirmation
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 145
response-header: content-encoding => gzip
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 145 bytes (145 total)
gzip body
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "Invalid value for part %1" ,

        "variables" : "accesstoken"    }

}}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
9.3s (74.4s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321423531471</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://auth-api.att.com/consent_confirmation
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 146
response-header: content-encoding => gzip
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 146 bytes (146 total)
gzip body
401 => Net::HTTPUnauthorized
<RequestError>
<policyException>
    <MessageId>POL0001</MessageId>
    <Text>Invalid value for part %1</Text>
    <Variables> accesstoken</Variables>
</policyException>
</RequestError>

NEXT TEST: payment_new_subscription 1
3.2s (77.6s total) OK. New subscription request SEN1321423534658...
Request: : https://api.att.com/1/payments/transactions?access_token=
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321423534658",
  "externalMerchantTransactionID": "SenchaTransId1321423534670",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://auth-api.att.com/consent_confirmation
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Np>To allow use with another account click  the <strong> Sign in to another account </strong> button.  To sign in and manage consent settings click <strong> Manage Consent</strong>. 
		</p>
		<!--begin SIGNIN/Manage Profile Buttons -->
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=true">SignIn to another account</a>
			</p>
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=mc">Manage Consent</a>
			</p>
		</div>
	</form>

<footer>
</footer>
</body>
</html>
#<NoMethodError: undefined method `value=' for nil:NilClass>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 13
response-header: date => Wed, 16 Nov 2011 07:04:00 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "413af1aa5b4aa1ed708a278dbe1d0f8f"
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1053
response-header: date => Wed, 16 Nov 2011 07:04:27 GMT
response-header: content-length => 1456
response-header: content-encoding => gzip
response-header: set-cookie => sessionId=EUID%3DLTU4MTg3YWFlOjEzM2E4ZmM4NDU1Oi1jYjM%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com; path=/
response-header: keep-alive => timeout=5, max=100
response-header: vary => Accept-Encoding
response-header: cache-control => private, max-age=0, must-revalidate
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 1438 bytes (1448 total)
Read 8 bytes (1456 total)
gzip body
saved cookie: sessionId=EUID%3DLTU4MTg3YWFlOjEzM2E4ZmM4NDU1Oi1jYjM%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Generic Checkout Page | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/effects.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/controls.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
	<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo" id="logo_title">Consent Request</h1>
<img src="/images/att.png" alt="" id="logo" height="28" width="28" />
</header>
	<form action="/off_net_consent_wireless" id="off_net_consent_wireless" method="post">
	<p><strong>Sencha API Poller</strong>  by Jason Cline, is requesting do the following: 
		<div id="firstCol_b">
			<ul>
				
				
					<li>Location - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
					<li>Device Capabilities - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
				
				
				
				
				
				
				
			</ul>
			<p>If ok, enter the wireless phone number and click Allow. A verification message will be sent.	</p>
		</div>
	<br><p></p>
	<br>
	<form action="" id="signup" method="post">
		<div id="firstCol_b">
			<label for="phone"><span>Wireless Number</span></label> 
		</div>
		<div id="firstCol_a">
			<img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50">
		</div>
		<div class="input-c" id="firstCol_b" style="right: 9px; top: 9px">
et::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 145
response-header: content-encoding => gzip
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 145 bytes (145 total)
gzip body
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "Invalid value for part %1" ,

        "variables" : "accesstoken"    }

}}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 7
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 07:04:23 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "1287b060c3dcb859df93f16fcf685dc8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 940
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 07:04:23 GMT
response-header: content-length => 8638
response-header: set-cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2FhZTcyM2I0OjUxMTU%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlMGE5MzM2ODhhMjBkZDVlOTc4NjM0ODQyOGM5N2Q3Mjc%3D--bfbdad3ac0163ecef61a427da21f4cd1b59cfa18; path=/; HttpOnly, BIGipServeruser_profile_443=269098924.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 7472 bytes (7472 total)
Read 1166 bytes (8638 total)
saved cookie: sessionId=EUID%3DLTE2MjkxNzcxOjEzM2FhZTcyM2I0OjUxMTU%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlMGE5MzM2ODhhMjBkZDVlOTc4NjM0ODQyOGM5N2Q3Mjc%3D--bfbdad3ac0163ecef61a427da21f4cd1b59cfa18
saved cookie: BIGipServeruser_profile_443=269098924.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="19991833995695506" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKKKACiiigArIvvFGjabdta3d6I5lALKI2bGfoDU2uatFoukzXkmCyjEan+Jz0H+e1eK3M01xcyT
3DM0sh3sW6knnNAHvdFISFUsxAAGST2rGPi3QRceQdSi35xnB2/99Yx+tADr7xTo2m3klpd3nlzx
43L5TnGQCOQMdCK2K8e8asr+Lb1lIZSIyCDkEeWtew0AFFFFABRRRQAUUUUAFFFFABRRRQAUUUUA
FFFFABRRRQAUUUUAFFFFABRRRQAVx/jDxXNpUqafp4H2p1DPIRnYD0AHrXYV5j4xik0zxpDqbxl4
XaOVfQ7MAr+n60AW49I8bxw/bhqDmTG77O05J+m0jb+FY+lS+IvEOpz29vq08MoVpWV7iRVA3AEA
DOOvSvQv+Er0P7F9q/tGHbjOzd8/029c1yHga4F54y1G5VdgmilkC+mZFOKAHag8vi/xRBpcTk2V
oP3jqeDj7zfieB+dYXjKJIfFV3FEoSNFiVVHQARrgVp/8K41j/n5sf8Avt//AImub1XTZtI1KWxu
GjaWLG4xkleQDxkD1oA9C+Imoy2uk29pExX7U53kd1XGR+ZFZ/hHwjp+o6KL7UI2laYsIwHKhQDj
PHfIPWsTV/B2oaLprXdw8Mqh1U+SSdoOeTkDvgfjXT+CvEOnQaAtndXUVvJbs3ErBdyklsjPXqeK
AOG13TzpetXVlvZxEwCs3XaQCv6EVpXF14l0vXTpo1O5nu1IUKszOrFlzwG9j3HFUPEWoR6pr95e
RZ8uRwEJGMgAKD+ldBquoxaT8TZL2ZS0UbIGx1AMQGfwzmgCy+h+No4ftQ1N3kAz5K3LE/TGNp/O
mWet6v4oshpUV0LTUopBJ5wdovMQAgg7R1yQcdOPauuk8U6JHaG5/tKBlxkKrZc+23rXE+DopdT8
ZT6pHGUgRpJW9BvyAv6/pQBBo0+uN4st9OudVuVeKceYktw+1wpyV98gHGeDWr8QLvULHUbWW21G
WCOSLb5MUzKcgnLEDjuBn29qf4802S0u7bX7P5ZEZRKR2Yfdb+n5VQ0xJPGni83txHi0gCsUPIAH
3V/E5J/GgDe8I6ZrsEwvtTv5Jrea3+SGSd3ZWJBBIPA4B79666iigAooooAKKKKACiiigAooooAK
KKKACiiigAooooAKKKKACuW8aatZWNvb219p4vYpyxKltpTGOQcdea6mkZVdSrKGU9QRmgDyJJvC
Ct5jWmqsevlF02fTIwa2/h7aSyare6ksPlWxQxoO2SwOB64Artm0bS2fe2m2Zb1MC5/lVxEWNAiK
FUDAAGAKAFrm9V8E6bq+pS31xPdrLLjcI3ULwAOMqfSukooAZLFHPE0UqK8bjDKwyCK5iT4faJJO
ZB9pjXOfLWQbf1BP611VFAHI634P0NLM3kguoYbSDHl2zLyASc/MDk8nqa4+61rTL3xlJqlzbSy6
fIMNEyjcf3e3pnHXnrXrkkUc0TRyorxsMMrDII9CKo/2FpH/AECrH/wHT/CgDjND0Dwx4hlnktE1
GNYSu6OV1CnOcYxk9vWusuZtO8KaMZEtmS2jYDZCAWJPGeTz9Sav21jaWW77LawQb8bvKjC5x0zi
nz20F1EYriGOaM8lJFDD8jQB5/4h8dWepaNNZWVvOHmwrNMi4C9TjBPNbfgAWn/COk2yuJPNImZw
BufAPHPQAgfnW1/YWkf9Aqx/8B0/wq1bWltZxmO1t4oEJ3FYkCgn1wPpQBNRRRQAUUUUAFFFFABR
RRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFF
FABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUU
AFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQB/9k=
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
7.9s (7.9s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2FhZTcyM2I0OjUxMTU%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlMGE5MzM2ODhhMjBkZDVlOTc4NjM0ODQyOGM5N2Q3Mjc%3D--bfbdad3ac0163ecef61a427da21f4cd1b59cfa18; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1990
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 07:04:24 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlMGE5MzM2ODhhMjBkZDVlOTc4NjM0ODQyOGM5N2Q3MjciCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--0db1c29483b7e36e00633802cc0a8611727f11ed; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlMGE5MzM2ODhhMjBkZDVlOTc4NjM0ODQyOGM5N2Q3MjciCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--0db1c29483b7e36e00633802cc0a8611727f11ed
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
2.4s (10.3s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2FhZTcyM2I0OjUxMTU%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlMGE5MzM2ODhhMjBkZDVlOTc4NjM0ODQyOGM5N2Q3MjciCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--0db1c29483b7e36e00633802cc0a8611727f11ed; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 256
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 07:04:27 GMT
response-header: content-length => 73
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 73 bytes (73 total)
Authorization key: 
<html><body>You are being <a href="http://">redirected</a>.</body></html>
0.7s (11.0s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code= ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: content-type => application/json
response-header: content-length => 29
response-header: x-cnection => close
Read 29 bytes (29 total)
401 => Net::HTTPUnauthorized
{
	"error":"invalid_client"
}
{
	"error":"invalid_client"
}

NEXT TEST: device_info_json 22
3.3s (14.3s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 170
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 170 bytes (170 total)
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "Invalid value for part %1" ,

        "variables" : "accesstoken"    }

}}

NEXT TEST: device_info_json_error 21
3.1s (17.4s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=
Net::HTTP::Get: /1/devices/tel:123/info?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 170
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 170 bytes (170 total)
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "Invalid value for part %1" ,

        "variables" : "accesstoken"    }

}}
0.1s (17.5s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (20.5s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 185
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 185 bytes (185 total)
401 => Net::HTTPUnauthorized
<RequestError>
<PolicyException>
    <MessageId>POL0001</MessageId>
    <Text>Invalid value for part %1</Text>
    <Variables> accesstoken</Variables>
</PolicyException>
</RequestError>

NEXT TEST: device_info_xml_error 19
3.1s (23.5s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=
Net::HTTP::Get: /1/devices/tel:123/info?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 185
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 185 bytes (185 total)
401 => Net::HTTPUnauthorized
<RequestError>
<PolicyException>
    <MessageId>POL0001</MessageId>
    <Text>Invalid value for part %1</Text>
    <Variables> accesstoken</Variables>
</PolicyException>
</RequestError>
0.1s (23.7s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (26.7s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 183
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 183 bytes (183 total)
401 => Net::HTTPUnauthorized
jsonpCallback({"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "Invalid value for part %1" ,

        "variables" : "accesstoken"  }

}})

NEXT TEST: device_info_jsonp_error 17
3.1s (29.7s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 183
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 183 bytes (183 total)
401 => Net::HTTPUnauthorized
jsonpCallback({"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "Invalid value for part %1" ,

        "variables" : "accesstoken"  }

}})
0.1s (29.8s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (32.8s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x102351f80>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 170
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 170 bytes (170 total)
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "Invalid value for part %1" ,

        "variables" : "accesstoken"    }

}}
3.1s (36.0s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 185
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 185 bytes (185 total)
401 => Net::HTTPUnauthorized
<RequestError>
<PolicyException>
    <MessageId>POL0001</MessageId>
    <Text>Invalid value for part %1</Text>
    <Variables> accesstoken</Variables>
</PolicyException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 185
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 185 bytes (185 total)
401 => Net::HTTPUnauthorized
<RequestError>
<PolicyException>
    <MessageId>POL0001</MessageId>
    <Text>Invalid value for part %1</Text>
    <Variables> accesstoken</Variables>
</PolicyException>
</RequestError>
6.2s (42.2s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 183
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 183 bytes (183 total)
401 => Net::HTTPUnauthorized
jsonpCallback({"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "Invalid value for part %1" ,

        "variables" : "accesstoken"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 183
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 183 bytes (183 total)
401 => Net::HTTPUnauthorized
jsonpCallback({"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "Invalid value for part %1" ,

        "variables" : "accesstoken"  }

}})
6.2s (48.4s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (51.4s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=
Request: https://api.att.com/1/messages/outbox/sms?access_token=
Net::HTTP::Post: /1/messages/outbox/sms?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://auth-api.att.com/consent_confirmation
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 155
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 155 bytes (155 total)
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "UnAuthorized Request" ,

        "variables" : " "    }

}}
0.1s (51.5s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (54.6s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://auth-api.att.com/consent_confirmation
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 155
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 155 bytes (155 total)
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "UnAuthorized Request" ,

        "variables" : " "    }

}}
0.1s (54.7s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.0s (57.7s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=
Request: https://api.att.com/1/messages/outbox/mms?access_token=
Net::HTTP::Post: /1/messages/outbox/mms?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_16442396.1321427114754"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://auth-api.att.com/consent_confirmation
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 155
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 155 bytes (155 total)
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "UnAuthorized Request" ,

        "variables" : " "    }

}}
0.4s (58.1s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/?access_token=
Net::HTTP::Get: /1/messages/outbox/mms/?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 155
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 155 bytes (155 total)
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "UnAuthorized Request" ,

        "variables" : " "    }

}}

NEXT TEST: wap_push 6
6.1s (64.2s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_13558561.1321427121304"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://auth-api.att.com/consent_confirmation
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 155
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 155 bytes (155 total)
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "UnAuthorized Request" ,

        "variables" : " "    }

}}

NEXT TEST: payment_new_json 5
3.1s (67.4s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321427124437",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://auth-api.att.com/consent_confirmation
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 145
response-header: content-encoding => gzip
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 145 bytes (145 total)
gzip body
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "Invalid value for part %1" ,

        "variables" : "accesstoken"    }

}}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
9.3s (76.6s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321427133697</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://auth-api.att.com/consent_confirmation
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 146
response-header: content-encoding => gzip
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 146 bytes (146 total)
gzip body
401 => Net::HTTPUnauthorized
<RequestError>
<policyException>
    <MessageId>POL0001</MessageId>
    <Text>Invalid value for part %1</Text>
    <Variables> accesstoken</Variables>
</policyException>
</RequestError>

NEXT TEST: payment_new_subscription 1
3.2s (79.8s total) OK. New subscription request SEN1321427136867...
Request: : https://api.att.com/1/payments/transactions?access_token=
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321427136867",
  "externalMerchantTransac			<input id="login_wireless" name="login[wireless]" size="30" style="color:silver;" type="text" />
			<input id="login_client_id" name="login[client_id]" type="hidden" value="cddc0328b4c56103f8febb0194df7fd8" />
			<input id="login_scope" name="login[scope]" type="hidden" value="TL,DC,WAP,SMS,MMS,PAYMENT" />
			<input id="login_id" name="login[id]" type="hidden" />
			<!--<input  name="phone" type="text" value="4252221234" style="color: silver;">-->
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="javascript:submit_off_net_wireless();">Allow</a>
			</p>
			<p>
				<a class="button cancel" href="/deny_pin">Cancel</a>
			</p>
			<p style="text-align:center; margin-left:10px;color:red;"></p>
			<br>
			<p><SMALL>Refer to Craftguilds Privacy Policy for details on how this information may be used or shared.</SMALL>
			</p>
		</div>
	</form>
	<form action="" id="signup" method="post">
		<hr style="clear:both">   
		<h3>Existing Users</h3><!--move h3 to css and style center it-->
		<!--begin email address-->
		<p>To allow use with another account click  the <strong> Sign in to another account </strong> button.  To sign in and manage consent settings click <strong> Manage Consent</strong>. 
		</p>
		<!--begin SIGNIN/Manage Profile Buttons -->
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=true">SignIn to another account</a>
			</p>
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=mc">Manage Consent</a>
			</p>
		</div>
	</form>

<footer>
</footer>
</body>
</html>
#<NoMethodError: undefined method `value=' for nil:NilClass>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 14
response-header: date => Wed, 16 Nov 2011 08:03:59 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "413af1aa5b4aa1ed708a278dbe1d0f8f"
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 861
response-header: date => Wed, 16 Nov 2011 08:04:27 GMT
response-header: content-length => 1456
response-header: content-encoding => gzip
response-header: set-cookie => sessionId=EUID%3DLTU4MTg3YWFlOjEzM2E4ZmM4NDU1OjM4%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com; path=/
response-header: keep-alive => timeout=5, max=100
response-header: vary => Accept-Encoding
response-header: cache-control => private, max-age=0, must-revalidate
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 1438 bytes (1448 total)
Read 8 bytes (1456 total)
gzip body
saved cookie: sessionId=EUID%3DLTU4MTg3YWFlOjEzM2E4ZmM4NDU1OjM4%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Generic Checkout Page | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/effects.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/controls.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
	<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo" id="logo_title">Consent Request</h1>
<img src="/images/att.png" alt="" id="lotionID": "SenchaTransId1321427136877",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://auth-api.att.com/consent_confirmation
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 145
response-header: content-encoding => gzip
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 145 bytes (145 total)
gzip body
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "Invalid value for part %1" ,

        "variables" : "accesstoken"    }

}}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 7
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 08:04:20 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "622092cb742a28ad6d521c978e699e68"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1007
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 08:04:20 GMT
response-header: content-length => 8510
response-header: set-cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYWIzMzE1YTY6MjNhMw%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlZGNlODgyY2ZiMjU5ZTM1ZmY4YTY0ZTA5OWI5MTNjNjE%3D--205b0476d12ce4af87052703ca62ce9bc0eca979; path=/; HttpOnly, BIGipServeruser_profile_443=269098924.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 8000 bytes (8000 total)
Read 510 bytes (8510 total)
saved cookie: sessionId=EUID%3DNWY2NWUwNTg6MTMzYWIzMzE1YTY6MjNhMw%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlZGNlODgyY2ZiMjU5ZTM1ZmY4YTY0ZTA5OWI5MTNjNjE%3D--205b0476d12ce4af87052703ca62ce9bc0eca979
saved cookie: BIGipServeruser_profile_443=269098924.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="10345194121366556" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
Khuru3sbdp7qZIYl6s5wKmrzX4gaza3z21na3BdreSQTptYbWGAOo5/i6UAdjbeK9DvLlLeC/VpX
YKqlGGSegyRWzXnXgyHw5KLFZCW1rezgfvOCCSP9n7ozXotABRRVPUtVstIt1uL6byomcIG2lucE
44B9DQBcorLbxHpCWEV899GtvLny2YEFsEg4XGeo9KXT/EOk6rL5VnexySf3CCrH6AgZoA0+gyay
LPxPo1/fLZWt6JLhiQqiNwDgEnkjHQGsrxzrZsNOGn2xP2q7G35eqp0P59Pzri/BH/I32P8A20/9
FtQB69JIkUbSSOqIoyzMcAD3NY3/AAl+gef5X9pR7s4ztbb/AN9Yx+tcr8RdWla7h0qJyIlQSSgH
7zHoD9MZ/Gku/h3JHo0ctrLJLqHyl4iVCHPUDPTHuecUAeiI6yIrowZGGQynIIp1c54O07VNK02W
01FVCq+6HDhsA9Rx7/zro6ACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACvM/i
DpVlYXFpcW0Ply3TyvM24nccqc8njqelemV5/wDE3/mF/wDbX/2SgDQ8EaJp39j2OrfZ/wDTv3n7
3e395l6Zx046VQ1jxVqepaw2k6AMYYoZFA3OR1IJ4A963/BH/IoWP/bT/wBGNXE6Bcp4W8XTx6kG
RdrQlyM4yQQ30OP1oA1W0XxpYxPdJq3msoLGPz2c/kwxXMSXtzeeG7j7TeTzsl3CFWWQsFGyTpk/
5xXqUvibRIYPNbU7YrjOEkDN+Q5rh/EmtaZq3h5hp9sLfyr1ARsC7l2Pg8fjQA/wV4bs9ZtZrvUF
eaON/Jjj3lQONx6HP8X86w9Zth4f8UTRWjsBbSK8ZJ5GQGA/XFdv8OP+ReuP+vtv/QErj/G//I33
3/bP/wBFrQBv+GLSbxJ4hn8QXq/uonxCh6buwH+6MfjisDwR/wAjfY/9tP8A0W1aH/CuNY/5+bH/
AL7f/wCJrm9K02bV9Sisbdo1llztMhIXgE84B9KANfxpIyeM7p+uwxkA9PuKanvJ/GIt/wC1ppby
K3OGyj7VUHp8gPA+oqn4i8O3WhQ2Pn7HDRsrPHkrv3McZIH8JH5Gur1LxvpV54auIlL/AGueAx+R
sPykjGc9MCgC94N8Sy63by293j7XAAS4GN6nvj1/xrqa83+G1pKdQu7zBESxeVn1YkH+n616RQAU
UUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAVj674bs/EH2f7XJOnkbtvlMBndjOc
g+grYooAp6VpsOkabFY27SNFFnaZCC3JJ5wB61FqmhadrKAXtursowsgOGX8R/KtGigDk4/h5oiS
72a6kX+40gx+gB/WtPUPC+m3+lx6cEa2t45BIBb4UkgEc5Bz1rZooAzdE0S20Gye1tXldHkMhMpB
OSAOwHpWbqvgnTdX1KW+uJ7tZZcbhG6heABxlT6V0lFABXN6V4J03SNSivree7aWLO0SOpXkEc4U
etdJRQBBeWVtqFs9tdQrLC/VW/zxXNf8K80Tzt+6625/1fmDb/LP611lFAEFnZ29hbJbWsKxQp0V
f881PRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUU
UAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQ
AUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAf/2Q==
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
5.0s (5.0s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYWIzMzE1YTY6MjNhMw%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlZGNlODgyY2ZiMjU5ZTM1ZmY4YTY0ZTA5OWI5MTNjNjE%3D--205b0476d12ce4af87052703ca62ce9bc0eca979; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1869
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 08:04:22 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlZGNlODgyY2ZiMjU5ZTM1ZmY4YTY0ZTA5OWI5MTNjNjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--bc99c42b1fa7cc8bd1f4b8a689a5433135bb96b5; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlZGNlODgyY2ZiMjU5ZTM1ZmY4YTY0ZTA5OWI5MTNjNjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--bc99c42b1fa7cc8bd1f4b8a689a5433135bb96b5
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
2.0s (7.0s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYWIzMzE1YTY6MjNhMw%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlZGNlODgyY2ZiMjU5ZTM1ZmY4YTY0ZTA5OWI5MTNjNjEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--bc99c42b1fa7cc8bd1f4b8a689a5433135bb96b5; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzM2FiM2I2ZWU0Oi04YTY%3D
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 361
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 08:04:24 GMT
response-header: content-length => 145
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 145 bytes (145 total)
Authorization key: LTE2MjkxNzcxOjEzM2FiM2I2ZWU0Oi04YTY%3D
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzM2FiM2I2ZWU0Oi04YTY%3D">redirected</a>.</body></html>
0.5s (7.5s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2FiM2I2ZWU0Oi04YTY%3D ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2FiM2I2ZWU0Oi04YTY%3D
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 253
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 08:04:25 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "f29f5d5bb10812215d2106c091c3f19410527b66",
  "access_token": "cfb3e8d5c912a77efe8f1845a3e14fa9"
}
ACCESS TOKEN: cfb3e8d5c912a77efe8f1845a3e14fa9
Refresh TOKEN: f29f5d5bb10812215d2106c091c3f19410527b66
1.4s (8.9s total) OK. Access token: f29f5d5bb10812215d2106c091c3f19410527b66...

NEXT TEST: device_info_json 22
3.0s (11.9s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
4.6s (16.5s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
Net::HTTP::Get: /1/devices/tel:123/info?access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
1.4s (17.9s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (20.9s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
3.1s (24.0s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
Net::HTTP::Get: /1/devices/tel:123/info?access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
0.1s (24.1s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (27.1s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=cfb3e8d5c912a77efe8f1845a3e14fa9&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=cfb3e8d5c912a77efe8f1845a3e14fa9&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
4.3s (31.4s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=cfb3e8d5c912a77efe8f1845a3e14fa9&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=cfb3e8d5c912a77efe8f1845a3e14fa9&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
1.4s (32.8s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (35.8s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x1022c7ee8>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
4.3s (40.1s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
8.3s (48.4s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=cfb3e8d5c912a77efe8f1845a3e14fa9&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=cfb3e8d5c912a77efe8f1845a3e14fa9&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=cfb3e8d5c912a77efe8f1845a3e14fa9&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=cfb3e8d5c912a77efe8f1845a3e14fa9&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
12.0s (60.3s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (63.3s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
Request: https://api.att.com/1/messages/outbox/sms?access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
Net::HTTP::Post: /1/messages/outbox/sms?access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2FiM2I2ZWU0Oi04YTY%3D
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 08:05:21 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b1604502ecf4d0"
  },
  "id": "SMSa9b1604502ecf4d0"
}
0.8s (64.1s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (67.1s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 08:05:24 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b487b5e055d1d7"
  },
  "id": "SMSa9b487b5e055d1d7"
}
0.5s (67.6s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.0s (70.6s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
Request: https://api.att.com/1/messages/outbox/mms?access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
Net::HTTP::Post: /1/messages/outbox/mms?access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_12778751.1321430727655"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 08:05:28 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf67762e"
  },
  "id": "MMSa9b50d45cf67762e"
}
1.1s (71.7s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf67762e?access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b50d45cf67762e?access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 08:05:31 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b50d45cf67762e"
  }
}
3.4s (75.1s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.0s (78.2s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_16362936.1321430735258"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf67762e?access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 08:05:35 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b5c707572daaf7"
}
0.9s (79.1s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.0s (82.1s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321430739136",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Wed, 16 Nov 2011 08:05:40 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
11.0s (93.1s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321430750176</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Wed, 16 Nov 2011 08:05:51 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
5.0s (98.1s total) OK. New subscription request SEN1321430755166...
Request: : https://api.att.com/1/payments/transactions?access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321430755166",
  "externalMerchantTransactionID": "Sgo" height="28" width="28" />
</header>
	<form action="/off_net_consent_wireless" id="off_net_consent_wireless" method="post">
	<p><strong>Sencha API Poller</strong>  by Jason Cline, is requesting do the following: 
		<div id="firstCol_b">
			<ul>
				
				
					<li>Location - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
					<li>Device Capabilities - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
				
				
				
				
				
				
				
			</ul>
			<p>If ok, enter the wireless phone number and click Allow. A verification message will be sent.	</p>
		</div>
	<br><p></p>
	<br>
	<form action="" id="signup" method="post">
		<div id="firstCol_b">
			<label for="phone"><span>Wireless Number</span></label> 
		</div>
		<div id="firstCol_a">
			<img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50">
		</div>
		<div class="input-c" id="firstCol_b" style="right: 9px; top: 9px">
			<input id="login_wireless" name="login[wireless]" size="30" style="color:silver;" type="text" />
			<input id="login_client_id" name="login[client_id]" type="hidden" value="cddc0328b4c56103f8febb0194df7fd8" />
			<input id="login_scope" name="login[scope]" type="hidden" value="TL,DC,WAP,SMS,MMS,PAYMENT" />
			<input id="login_id" name="login[id]" type="hidden" />
			<!--<input  name="phone" type="text" value="4252221234" style="color: silver;">-->
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="javascript:submit_off_net_wireless();">Allow</a>
			</p>
			<p>
				<a class="button cancel" href="/deny_pin">Cancel</a>
			</p>
			<p style="text-align:center; margin-left:10px;color:red;"></p>
			<br>
			<p><SMALL>Refer to Craftguilds Privacy Policy for details on how this information may be used or shared.</SMALL>
			</p>
		</div>
	</form>
	<form action="" id="signup" method="post">
		<hr style="clear:both">   
		<h3>Existing Users</h3><!--move h3 to css and style center it-->
		<!--begin email address-->
		<p>To allow use with another account click  the <strong> Sign in to another account </strong> button.  To sign in and manage consent settings click <strong> Manage Consent</strong>. 
		</p>
		<!--begin SIGNIN/Manage Profile Buttons -->
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=true">SignIn to another account</a>
			</p>
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=mc">Manage Consent</a>
			</p>
		</div>
	</form>

<footer>
</footer>
</body>
</html>
#<NoMethodError: undefined method `value=' for nil:NilClass>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.3s (0.3s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 15
response-header: date => Wed, 16 Nov 2011 09:04:00 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "413af1aa5b4aa1ed708a278dbe1d0f8f"
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1140
response-header: date => Wed, 16 Nov 2011 09:04:27 GMT
response-header: content-length => 1456
response-header: content-encoding => gzip
response-header: set-cookie => sessionId=EUID%3DLTMwN2UyMTQ0OjEzM2E4ZGNmNmMzOjI0MmM%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com; path=/
response-header: keep-alive => timeout=5, max=100
response-header: vary => Accept-Encoding
response-header: cache-control => private, max-age=0, must-revalidate
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 1438 bytes (1448 total)
Read 8 bytes (1456 total)
gzip body
saved cookie: sessionId=EUID%3DLTMwN2UyMTQ0OjEzM2E4ZGNmNmMzOjI0MmM%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com
<!DOCTYPE html>
<enchaTransId1321430755180",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=cfb3e8d5c912a77efe8f1845a3e14fa9
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Wed, 16 Nov 2011 08:05:55 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 7
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 09:04:23 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "c964c8c5a28d09fab4b8807c1d3d1bbf"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1135
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 09:04:23 GMT
response-header: content-length => 8598
response-header: set-cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYWI4NGUxNTg6LTMwOWM%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlNmFjOWJhOWMyZGNiN2EyZTVkMGVmMDQ3NzA2NjM2OWY%3D--e1a6b5d208b582ed35e6566b4b46fe974aa37491; path=/; HttpOnly, BIGipServeruser_profile_443=470425516.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 7471 bytes (7471 total)
Read 1127 bytes (8598 total)
saved cookie: sessionId=EUID%3DNWY2NWUwNTg6MTMzYWI4NGUxNTg6LTMwOWM%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlNmFjOWJhOWMyZGNiN2EyZTVkMGVmMDQ3NzA2NjM2OWY%3D--e1a6b5d208b582ed35e6566b4b46fe974aa37491
saved cookie: BIGipServeruser_profile_443=470425516.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="10348797457564656" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKKKACiiigAorhb3x7cTXjW2h6ebrb/Gysxb3CrzilsPHs0V6trrlgbViQC6qy7fqrc496AO5ooB
BAIOQe9FABRRWVH4k0iXUm09LwfakZ1ZCjAArktyRjjB70AatFYjeL9AWfyTqUe7OMhWK/8AfWMf
rWzHIksayRurowyrKcgj2NADqK5zxXqGtWCWv9j2zTGTeJNsJkK4xjp071g6D4j1658V22nak/lq
d3mQmEKfuFhnjI7GgD0GiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACuT8W+K5N
IdLCwUPeyDJYjOwHpgdya6yvK/HdlJD4oNxPuW3uVQq4XOAAFIA7kYzj3oA0l0Pxrcxi5fVGic8+
UbhlP5KNtWfDvinUY9Y/sXW1/fFtiyEAMG7A44IPY1hw+F9EnhEq+K7UKRnDxBW/Ivmm6fYaJZeI
bHZrpmKTq+4W21AQcgFi3fGMgHrQB6Npeh6doxlNhb+V5uN/zs2cZx1J9TXB+PL+DVdYtbKyHnTQ
7kZkGdzMRhR64x+tXNf8YPqMx0zRpkijf5ZLqSQRgjvgnGB79T2pLR9E8H2Md5HPbapqDuEYxTqf
LBBJKjnA4xn3/CgDClHiCy1mPR5dWuIJCVRWNy4jGenI7duldb8QZ720tLK4tL+S2AdkZI5WRpCc
Y6dcYPX196g8Y2H9seH7TXbeMpMkSyMoOT5bAH9Cf51hLcXfjfW9PtZQVihiAlI9Bje31JwPyoA2
vCFh4gnuLPVbrUZXsTuJhluHZmGCAdp464PWuS1GB7rxfeW0bbXmvpIgf95yP617PHGkMSRRqFRF
Cqo6ADoK8Z1C5+x+Mbq6Az5OoPJj1xIT/SgDsNd8EaZa+H5prNZFubeMyGRnJ3gcnI6dM9MVzWh+
LbvRNLubSMCRmIMO/kRnncf5cetdnr/ijSn8NXP2e8ilkuYTGkanLDcMHI6jAPevLvs0/wBl+1eU
3kb/AC/MxxuxnH5UAdrbaX40v7ddQGpPGXG9YnnKkjt8oG0fjVLw/Pe3PxEt5NRXF3l0lBXHKxFe
n4V29j4s0a505Lh72CAhRvidgGU9wB1P4VxdlrFpefEhdSMiQWrMwDysFGBEVBJPTOP1oA9QopkU
sc0SyxOskbDKspyCPUGn0AFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAVXvbG11G3Nv
dwJNEf4WH6j0NWKKAOTk+HmivJvV7tF/uLIMfqCf1rRtfCejWcEkcNoAzoUMrHc4yMZBPQ/Stuig
Dj/+FcaP/wA/N9/32n/xNV7/AMCaHp9jNeSz6i0cKF2COhJA9PlruKZLFHPE0UsayRsMMjjII9xQ
BwNx4602LQDp9hb3ZdYBBGbhExjG3JweePap/hsLQ2l6UV/tYZfMZgMbTnaBz7Enp2rqv7C0j/oF
WP8A4Dp/hVi2sbOy3fZbWCDfjd5UYXdjpnH1NAFivHmUN8QSrAFTquCCOCPNr2Gub/4QrTf7Z/tT
zrrz/tH2jbvXbu3bsY25xn3oAjn8AaJNdGYLPECcmKNwE/UZH51uJpVhHp39nrax/ZMY8ojIP/1/
erlFAHKt8PdEafzB9pVc/wCqEny/yz+tF18P9GubhpVa5gBAAjiZQowAOMqT2z1611VFAFextI7C
xgtIixjhQIpY8kD1qxRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAF
FFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUU
UUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRR
QB//2Q==
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
8.1s (8.1s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYWI4NGUxNTg6LTMwOWM%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlNmFjOWJhOWMyZGNiN2EyZTVkMGVmMDQ3NzA2NjM2OWY%3D--e1a6b5d208b582ed35e6566b4b46fe974aa37491; Bhtml>
<head>
<meta charset="UTF-8" />
<title>Generic Checkout Page | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/effects.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/controls.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
	<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo" id="logo_title">Consent Request</h1>
<img src="/images/att.png" alt="" id="logo" height="28" width="28" />
</header>
	<form action="/off_net_consent_wireless" id="off_net_consent_wireless" method="post">
	<p><strong>Sencha API Poller</strong>  by Jason Cline, is requesting do the following: 
		<div id="firstCol_b">
			<ul>
				
				
					<li>Location - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
					<li>Device Capabilities - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
				
				
				
				
				
				
				
			</ul>
			<p>If ok, enter the wireless phone number and click Allow. A verification message will be sent.	</p>
		</div>
	<br><p></p>
	<br>
	<form action="" id="signup" method="post">
		<div id="firstCol_b">
			<label for="phone"><span>Wireless Number</span></label> 
		</div>
		<div id="firstCol_a">
			<img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50">
		</div>
		<div class="input-c" id="firstCol_b" style="right: 9px; top: 9px">
			<input id="login_wireless" name="login[wireless]" size="30" style="color:silver;" type="text" />
			<input id="login_client_id" name="login[client_id]" type="hidden" value="cddc0328b4c56103f8febb0194df7fd8" />
			<input id="login_scope" name="login[scope]" type="hidden" value="TL,DC,WAP,SMS,MMS,PAYMENT" />
			<input id="login_id" name="login[id]" type="hidden" />
			<!--<input  name="phone" type="text" value="4252221234" style="color: silver;">-->
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="javascript:submit_off_net_wireless();">Allow</a>
			</p>
			<p>
				<a class="button cancel" href="/deny_pin">Cancel</a>
			</p>
			<p style="text-align:center; margin-left:10px;color:red;"></p>
			<br>
			<p><SMALL>Refer to Craftguilds Privacy Policy for details on how this information may be used or shared.</SMALL>
			</p>
		</div>
	</form>
	<form action="" id="signup" method="post">
		<hr style="clear:both">   
		<h3>Existing Users</h3><!--move h3 to css and style center it-->
		<!--begin email address-->
		<p>To allow use with another account click  the <strong> Sign in to another account </strong> button.  To sign in and manage consent settings click <strong> Manage Consent</strong>. 
		</p>
		<!--begin SIGNIN/Manage Profile Buttons -->
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=true">SignIn to another account</a>
			</p>
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=mc">Manage Consent</a>
			</p>
		</div>
	</form>

<footer>
</footer>
</body>
</html>
#<NoMethodError: undefined method `value=' for nil:NilClass>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_erroIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 2555
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 09:04:25 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlNmFjOWJhOWMyZGNiN2EyZTVkMGVmMDQ3NzA2NjM2OWYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--f4b063b4a37c9960176dccc2236ecd063b431d7d; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlNmFjOWJhOWMyZGNiN2EyZTVkMGVmMDQ3NzA2NjM2OWYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--f4b063b4a37c9960176dccc2236ecd063b431d7d
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
2.9s (11.0s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYWI4NGUxNTg6LTMwOWM%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlNmFjOWJhOWMyZGNiN2EyZTVkMGVmMDQ3NzA2NjM2OWYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--f4b063b4a37c9960176dccc2236ecd063b431d7d; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzM2FiOGZmYWE3Oi02MWRi
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 504
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 09:04:28 GMT
response-header: content-length => 143
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 143 bytes (143 total)
Authorization key: LTE2MjkxNzcxOjEzM2FiOGZmYWE3Oi02MWRi
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzM2FiOGZmYWE3Oi02MWRi">redirected</a>.</body></html>
0.8s (11.8s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2FiOGZmYWE3Oi02MWRi ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2FiOGZmYWE3Oi02MWRi
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 102
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 09:04:29 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "502a9c6d1e0db93ee1f38f410005895def653b64",
  "access_token": "cad6d6d5f56b53371b4f7609ad46930f"
}
ACCESS TOKEN: cad6d6d5f56b53371b4f7609ad46930f
Refresh TOKEN: 502a9c6d1e0db93ee1f38f410005895def653b64
0.7s (12.5s total) OK. Access token: 502a9c6d1e0db93ee1f38f410005895def653b64...

NEXT TEST: device_info_json 22
3.0s (15.5s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=cad6d6d5f56b53371b4f7609ad46930f
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=cad6d6d5f56b53371b4f7609ad46930f
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=cad6d6d5f56b53371b4f7609ad46930f
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
4.5s (20.0s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=cad6d6d5f56b53371b4f7609ad46930f
Net::HTTP::Get: /1/devices/tel:123/info?access_token=cad6d6d5f56b53371b4f7609ad46930f
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPInternalServerError 1.1 500 Internal Server Error
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 169
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 169 bytes (169 total)
500 => Net::HTTPInternalServerError
{"requestError": {

    "serviceException": {

        "messageId": "SVC0001",

        "text": "Internal platform error occurred " ,

        "variables" : " "    }

}}
122.6s (142.7s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (145.7s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=cad6d6d5f56b53371b4f7609ad46930f
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=cad6d6d5f56b53371b4f7609ad46930f
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
3.2s (148.8s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=cad6d6d5f56b53371b4f7609ad46930f
Net::HTTP::Get: /1/devices/tel:123/info?access_token=cad6d6d5f56b53371b4f7609ad46930f
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
0.2s (149.0s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (152.0s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=cad6d6d5f56b53371b4f7609ad46930f&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=cad6d6d5f56b53371b4f7609ad46930f&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
4.4s (156.4s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=cad6d6d5f56b53371b4f7609ad46930f&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=cad6d6d5f56b53371b4f7609ad46930f&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
2.0s (158.4s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (161.4s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x1022a7a30>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=cad6d6d5f56b53371b4f7609ad46930f
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=cad6d6d5f56b53371b4f7609ad46930f
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
4.6s (166.1s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=cad6d6d5f56b53371b4f7609ad46930f
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=cad6d6d5f56b53371b4f7609ad46930f
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=cad6d6d5f56b53371b4f7609ad46930f
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=cad6d6d5f56b53371b4f7609ad46930f
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
7.8s (173.8s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=cad6d6d5f56b53371b4f7609ad46930f&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=cad6d6d5f56b53371b4f7609ad46930f&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=cad6d6d5f56b53371b4f7609ad46930f&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=cad6d6d5f56b53371b4f7609ad46930f&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
8.8s (182.6s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (185.6s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=cad6d6d5f56b53371b4f7609ad46930f
Request: https://api.att.com/1/messages/outbox/sms?access_token=cad6d6d5f56b53371b4f7609ad46930f
Net::HTTP::Post: /1/messages/outbox/sms?access_token=cad6d6d5f56b53371b4f7609ad46930f
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2FiOGZmYWE3Oi02MWRi
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 09:07:22 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b1604502ecf4d1"
  },
  "id": "SMSa9b1604502ecf4d1"
}
0.7s (186.4s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (189.4s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=cad6d6d5f56b53371b4f7609ad46930f
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=cad6d6d5f56b53371b4f7609ad46930f
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=cad6d6d5f56b53371b4f7609ad46930f
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 09:07:26 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b487b5e055d1d8"
  },
  "id": "SMSa9b487b5e055d1d8"
}
0.6s (190.0s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.0s (193.0s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=cad6d6d5f56b53371b4f7609ad46930f
Request: https://api.att.com/1/messages/outbox/mms?access_token=cad6d6d5f56b53371b4f7609ad46930f
Net::HTTP::Post: /1/messages/outbox/mms?access_token=cad6d6d5f56b53371b4f7609ad46930f
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_17458286.1321434450049"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=cad6d6d5f56b53371b4f7609ad46930f
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 09:07:31 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b7026"
  },
  "id": "MMSa9b4644d651b7026"
}
1.9s (194.9s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b7026?access_token=cad6d6d5f56b53371b4f7609ad46930f
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b4644d651b7026?access_token=cad6d6d5f56b53371b4f7609ad46930f
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 09:07:34 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b4644d651b7026"
  }
}
3.4s (198.2s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.0s (201.3s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=cad6d6d5f56b53371b4f7609ad46930f
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=cad6d6d5f56b53371b4f7609ad46930f
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_19908910.1321434458367"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b7026?access_token=cad6d6d5f56b53371b4f7609ad46930f
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 09:07:38 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b1524324bb033a"
}
0.8s (202.1s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.0s (205.1s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=cad6d6d5f56b53371b4f7609ad46930f
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321434462135",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=cad6d6d5f56b53371b4f7609ad46930f
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=cad6d6d5f56b53371b4f7609ad46930f
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Wed, 16 Nov 2011 09:07:43 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
11.0s (216.1s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=cad6d6d5f56b53371b4f7609ad46930f
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321434473117</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=cad6d6d5f56b53371b4f7609ad46930f
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=cad6d6d5f56b53371b4f7609ad46930f
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Wed, 16 Nov 2011 09:07:54 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
4.9s (221.0s total) OK. New subscription request SEN1321434478060...
Request: : https://api.att.com/1/payments/transactions?access_token=cad6d6d5f56b53371b4f7609ad46930f
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321434478060",
  "externalMerchantTransactionID": "SenchaTransId1321434478069",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=cad6d6d5f56b53371b4f7609ad46930f
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=cad6d6d5f56b53371b4f7609ad46930f
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Wed, 16 Nov 2011 09:07:57 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=r 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 115
response-header: date => Wed, 16 Nov 2011 10:04:00 GMT
response-header: content-length => 57
response-header: set-cookie => 
response-header: keep-alive => timeout=5, max=100
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 57 bytes (57 total)
follow redirect to: https://auth-test.san1.attcompute.tfoundry.com/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
Net::HTTP::Get: /user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: host => auth-test.san1.attcompute.tfoundry.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "413af1aa5b4aa1ed708a278dbe1d0f8f"
response-header: connection => Keep-Alive
response-header: via => 1.1 attcompute.com
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 948
response-header: date => Wed, 16 Nov 2011 10:04:27 GMT
response-header: content-length => 1456
response-header: content-encoding => gzip
response-header: set-cookie => sessionId=EUID%3DLTU4MTg3YWFlOjEzM2E4ZmM4NDU1OjE5MzU%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com; path=/
response-header: keep-alive => timeout=5, max=100
response-header: vary => Accept-Encoding
response-header: cache-control => private, max-age=0, must-revalidate
response-header: status => 200 OK
Read 0 bytes (0 total)
Read 10 bytes (10 total)
Read 1438 bytes (1448 total)
Read 8 bytes (1456 total)
gzip body
saved cookie: sessionId=EUID%3DLTU4MTg3YWFlOjEzM2E4ZmM4NDU1OjE5MzU%3D%3B+path%3D%2F%3Bdomain%3Dauth-test.san1.attcompute.tfoundry.com
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Generic Checkout Page | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/effects.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/controls.js?1321298628" type="text/javascript"></script>
<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
	<script src="/javascripts/application.js?1321298628" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo" id="logo_title">Consent Request</h1>
<img src="/images/att.png" alt="" id="logo" height="28" width="28" />
</header>
	<form action="/off_net_consent_wireless" id="off_net_consent_wireless" method="post">
	<p><strong>Sencha API Poller</strong>  by Jason Cline, is requesting do the following: 
		<div id="firstCol_b">
			<ul>
				
				
					<li>Location - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
					<li>Device Capabilities - <SMALL>Sencha API Poller may collect and use your real time AT&T location information </SMALL> </li><br>
					
				
				
				
				
				
				
				
				
				
			</ul>
			<p>If ok, enter the wireless phone number and click Allow. A verification message will be sent.	</p>
		</div>
	<br><p></p>
	<br>
	<form action="" id="signup" method="post">
		<div id="firstCol_b">
			<label for="phone"><span>Wireless Number</span></label> 
		</div>
		<div id="firstCol_a">
			<img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50">
		</div>
		<div class="input-c" id="firstCol_b" style="right: 9px; top: 9px">
			<input id="login_wireless" name="login[wireless]" size="30" style="color:silver;" type="text" />
			<input id="login_client_id" name="login[client_id]" type="hidden" value="cddc0328b4c56103f8febb0194df7fd8" />
			<input id="login_scope" name="login[scope]" type="hidden" value="TL,DC,WAP,SMS,MMS,PAYMENT" />
			<input id="login_id" name="login[id]" type="hidden" />
			<!--<input  name="phone" type="text" value="4252221234" style="color: silver;">-->
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="javascript:submit_off_net_wireless();">Allow</a>
			</p>
			<p>
				<a class="button cancel" href="/deny_pin">Cancel</a>
			</p>
			<p style="text-align:center; margin-left:10px;color:red;"></p>
			<br>
			<p><SMALL>Refer to Craftguilds Privacy Policy for details on how this information may be used or sha1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 7
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 10:04:21 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "e5e955077b6c0a2a87125201cd494f9c"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1359
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 10:04:22 GMT
response-header: content-length => 8836
response-header: set-cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2FiOGZmYWE3OjQ1Zjc%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlMGQzMjZjNjU4ODhlNDg3NjhhY2JkYzg4ZGViZTUwZmQ%3D--8cf4574518e60f090462e71fe832a96323bc5c7c; path=/; HttpOnly, BIGipServeruser_profile_443=269098924.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 7471 bytes (7471 total)
Read 1365 bytes (8836 total)
saved cookie: sessionId=EUID%3DLTE2MjkxNzcxOjEzM2FiOGZmYWE3OjQ1Zjc%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlMGQzMjZjNjU4ODhlNDg3NjhhY2JkYzg4ZGViZTUwZmQ%3D--8cf4574518e60f090462e71fe832a96323bc5c7c
saved cookie: BIGipServeruser_profile_443=269098924.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="10352396119617505" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKK4/wAV6l4k0yWW5sljXTo1XMhCkgkgdCc9SO1AHYUVj+Fr641Lw5aXd3J5k8m/c20DOHYDgcdA
K1J547a3luJm2xRIXdsZwAMk8UAVdR1jT9JVTfXSQ7vug5JP0A5qPTdf0vV5GjsbtZXVdxXaykD1
5A9a8r8WalDqviGe5tpTLb7UWNsEcBRng89c13GkDQLew1G68ObpLmC2O8nfknBK8NxyV7UAbV/4
i0jTJfKu76NJB1QAsR9QAcVJp+t6bqpIsryOVgMleQ2Poea8x8I6Zba5r7x6gWkQRtKQWIMjZHU9
e5P4VDqsQ8P+LpU052At5VaPByeQDt9+pFAHslFZmm+IdL1eZ4bG682RF3Muxl4zjPIHrUmp6zp+
jpG1/ceSJCQnyM2cdegNAF+imRSpPCksbbo3UMrDuDyKxD408PhmH9ofd64hkOP/AB2gDeoqpp2p
2erWxuLGbzYgxUttI5HbBAPeoJte0yDVF0yS6C3jEAR7G6npzjH60AaVFQXl5b6faSXV1J5cMYyz
YJxzjtVfTNZsNYSR7CczLGQGOxlwT9QKAL9FFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQ
AVz/AI3/AORQvv8Atn/6MWugrmPHF5ar4avLVrmEXLCMrCXG8jevIHXsfyoA5Ge9ng8HaKLPVDbT
L52+GKVleTMhxwv0PXFaOleHvE9+IJb+/nWzdx51vPdSBnjz8wwPUZGCRVGy8OAeFLfX7S88i9jd
pMyOFThioAJ6Hjv1ziut0DxjYalYBr24gtLpOJFkcIG91z2/lQB554psbfTfEd3aWkflwR7Nq7ic
ZRSeTz1Jr1K203SfDNpdXNvD9ni2hpTvZshc46k+p/OvNfG//I333/bP/wBFrXpHiq1lvPDN9BAC
ZCgYAdTtYMR+QoA85tLS58Q+IJZdCgGnhcvuErKE7ZyOmfQU+xYeGfFBGuWguJAwbzdxYrn+Mf3v
x5/GrngDV7PTry7hu5khE6qVkkOFyueCe3X9Kp+M9Qg1jxGv2FvOVI1hVk5Dtknj1+9igC1pIGg/
EFYFI+zyuUQjoUcZT+a/lU/jlptU8RrYW43fZbdnYeh2lz+gWneM9Kl06y0a+XiWCJLeRh/eUZU/
o1XPBStq2uatrMycP8ig843HOPwAA/GgC1pGt+X8OZLnd+9tY2gB9G6J+jLWJ4Q8PDU9D1WZ1G6Z
PIhJ7MMNn89v5GsS/ln0tNR0IZ8s3Qb8Fzj88qfwr1bQNP8A7L0O0tCMOiAv/vHk/qaAOQ+G14Ul
vtPfIOBKqntjhv8A2Wua1G4ubvVbzXYeY4rtdrenUp+iD9K0te83w14uu5oBhLmJ2THH31IP5Nz+
FbGlaJ5vw3uU2fvbgNcKO+V+6PxC/rQBN491RJPDdmkR4vWWQe6AZ/mVrY8Had/Z3hu2VlxJMPOf
/gXT9MV5zYtN4h1DR9MfJSFfKP8Au7ixP/fOB+FexgBQAAABwAKAFooooAKKKKACiiigAooooAKK
KKACiiigAooooAKKKKACuf1nwhp+uXwu7ma5SQIExEygYGfVT610FFAGP/wjdn/wjn9h+ZP9l/v7
hv8Av7+uMdfasf8A4Vxo/wDz833/AH2n/wATXYUUAc3qvgnTdX1KW+uJ7tZZcbhG6heABxlT6V0l
FFAHO6l4J0bUp2naKSCRjljAwXJ9cEEVLpPhHSdHmE8ETyTj7skzbiv06AflW7RQBS1XS7fWNPks
rneI3IO5CAwIOcjOaj0bRrXQrI2tqZGQuXLSEFiTgdgPQVo0UAYN54S02+1pdVmafzgysUVhsYrj
GRjPYd63qKKAMbXPDNj4gaFrp5kaEEK0TAEg44OQfStS3t47W1itohiOJAig+gGBUtFAGDpHhLTt
F1B7y2adpGUqBIwIUE9sAVvUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAF
FFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUU
UUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRR
QAUUUUAf/9k=
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
6.8s (6.8s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2FiOGZmYWE3OjQ1Zjc%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlMGQzMjZjNjU4ODhlNDg3NjhhY2JkYzg4ZGViZTUwZmQ%3D--8cf4574518e60f090462e71fe832a96323bc5c7c; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 2110
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 10:04:23 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlMGQzMjZjNjU4ODhlNDg3NjhhY2JkYzg4ZGViZTUwZmQiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--8f3cce005b54d3d812b5d967b8157fd4ed02e897; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlMGQzMjZjNjU4ODhlNDg3NjhhY2JkYzg4ZGViZTUwZmQiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--8f3cce005b54d3d812b5d967b8157fd4ed02e897
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
2.5s (9.3s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2FiOGZmYWE3OjQ1Zjc%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlMGQzMjZjNjU4ODhlNDg3NjhhY2JkYzg4ZGViZTUwZmQiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--8f3cce005b54d3d812b5d967b8157fd4ed02e897; BIGipServeruser_profile_443=269098924.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzM2FiOGZmYWE3OjQ2NWM%3D
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 364
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 10:04:26 GMT
response-header: content-length => 145
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 145 bytes (145 total)
Authorization key: LTE2MjkxNzcxOjEzM2FiOGZmYWE3OjQ2NWM%3D
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzM2FiOGZmYWE3OjQ2NWM%3D">redirected</a>.</body></html>
0.5s (9.9s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2FiOGZmYWE3OjQ2NWM%3D ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2FiOGZmYWE3OjQ2NWM%3D
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 106
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 10:04:27 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "82f99c72327c81c9b67dca392f54bb0b7b91bab2",
  "access_token": "a52ffd8f14385683266a09f3fdda73c2"
}
ACCESS TOKEN: a52ffd8f14385683266a09f3fdda73c2
Refresh TOKEN: 82f99c72327c81c9b67dca392f54bb0b7b91bab2
0.5s (10.3s total) OK. Access token: 82f99c72327c81c9b67dca392f54bb0b7b91bab2...

NEXT TEST: device_info_json 22
3.0s (13.3s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=a52ffd8f14385683266a09f3fdda73c2
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=a52ffd8f14385683266a09f3fdda73c2
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=a52ffd8f14385683266a09f3fdda73c2
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
4.4s (17.7s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=a52ffd8f14385683266a09f3fdda73c2
Net::HTTP::Get: /1/devices/tel:123/info?access_token=a52ffd8f14385683266a09f3fdda73c2
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
0.1s (17.8s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (20.8s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=a52ffd8f14385683266a09f3fdda73c2
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=a52ffd8f14385683266a09f3fdda73c2
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
4.4s (25.2s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=a52ffd8f14385683266a09f3fdda73c2
Net::HTTP::Get: /1/devices/tel:123/info?access_token=a52ffd8f14385683266a09f3fdda73c2
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
0.1s (25.3s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (28.3s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=a52ffd8f14385683266a09f3fdda73c2&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=a52ffd8f14385683266a09f3fdda73c2&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
4.2s (32.6s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=a52ffd8f14385683266a09f3fdda73c2&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=a52ffd8f14385683266a09f3fdda73c2&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
1.6s (34.1s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (37.1s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x1022c9d88>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=a52ffd8f14385683266a09f3fdda73c2
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=a52ffd8f14385683266a09f3fdda73c2
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
4.4s (41.5s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=a52ffd8f14385683266a09f3fdda73c2
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=a52ffd8f14385683266a09f3fdda73c2
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=a52ffd8f14385683266a09f3fdda73c2
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=a52ffd8f14385683266a09f3fdda73c2
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
8.0s (49.5s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=a52ffd8f14385683266a09f3fdda73c2&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=a52ffd8f14385683266a09f3fdda73c2&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=a52ffd8f14385683266a09f3fdda73c2&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=a52ffd8f14385683266a09f3fdda73c2&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
8.6s (58.1s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (61.1s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=a52ffd8f14385683266a09f3fdda73c2
Request: https://api.att.com/1/messages/outbox/sms?access_token=a52ffd8f14385683266a09f3fdda73c2
Net::HTTP::Post: /1/messages/outbox/sms?access_token=a52ffd8f14385683266a09f3fdda73c2
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2FiOGZmYWE3OjQ2NWM%3D
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 10:05:17 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b598c3c57f0a63"
  },
  "id": "SMSa9b598c3c57f0a63"
}
0.7s (61.8s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (64.8s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=a52ffd8f14385683266a09f3fdda73c2
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=a52ffd8f14385683266a09f3fdda73c2
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=a52ffd8f14385683266a09f3fdda73c2
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 10:05:21 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b598c3c57f0a64"
  },
  "id": "SMSa9b598c3c57f0a64"
}
0.7s (65.5s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.0s (68.5s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=a52ffd8f14385683266a09f3fdda73c2
Request: https://api.att.com/1/messages/outbox/mms?access_token=a52ffd8f14385683266a09f3fdda73c2
Net::HTTP::Post: /1/messages/outbox/mms?access_token=a52ffd8f14385683266a09f3fdda73c2
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_10068238.1321437925545"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=a52ffd8f14385683266a09f3fdda73c2
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 10:05:25 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36ceff"
  },
  "id": "MMSa9b11c1e5b36ceff"
}
1.3s (69.8s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36ceff?access_token=a52ffd8f14385683266a09f3fdda73c2
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b11c1e5b36ceff?access_token=a52ffd8f14385683266a09f3fdda73c2
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 10:05:29 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b11c1e5b36ceff"
  }
}
3.4s (73.1s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.0s (76.2s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=a52ffd8f14385683266a09f3fdda73c2
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=a52ffd8f14385683266a09f3fdda73c2
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_16898024.1321437933254"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b11c1e5b36ceff?access_token=a52ffd8f14385683266a09f3fdda73c2
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 10:05:33 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b5c707572daaf8"
}
1.0s (77.1s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.0s (80.2s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=a52ffd8f14385683266a09f3fdda73c2
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321437937221",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=a52ffd8f14385683266a09f3fdda73c2
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=a52ffd8f14385683266a09f3fdda73c2
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Wed, 16 Nov 2011 10:05:38 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
10.7s (90.9s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=a52ffd8f14385683266a09f3fdda73c2
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321437947952</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=a52ffd8f14385683266a09f3fdda73c2
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=a52ffd8f14385683266a09f3fdda73c2
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Wed, 16 Nov 2011 10:05:49 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
4.7s (95.6s total) OK. New subscription request SEN1321437952632...
Request: : https://api.att.com/1/payments/transactions?access_token=a52ffd8f14385683266a09f3fdda73c2
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321437952632",
  "externalMerchantTransactionID": "SenchaTransId1321437952643",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=a52ffd8f14385683266a09f3fdda73c2
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=a52ffd8f14385683266a09f3fdda73c2
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Wed, 16 Nov 2011 10:05:52 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to tered.</SMALL>
			</p>
		</div>
	</form>
	<form action="" id="signup" method="post">
		<hr style="clear:both">   
		<h3>Existing Users</h3><!--move h3 to css and style center it-->
		<!--begin email address-->
		<p>To allow use with another account click  the <strong> Sign in to another account </strong> button.  To sign in and manage consent settings click <strong> Manage Consent</strong>. 
		</p>
		<!--begin SIGNIN/Manage Profile Buttons -->
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=true">SignIn to another account</a>
			</p>
		</div>
		<div class="full-width button-group">
			<p>
				<a class="button ok" href="/user/login?client_id=cddc0328b4c56103f8febb0194df7fd8&scope=TL,DC,WAP,SMS,MMS,PAYMENT&id=&login=mc">Manage Consent</a>
			</p>
		</div>
	</form>

<footer>
</footer>
</body>
</html>
#<NoMethodError: undefined method `value=' for nil:NilClass>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: connection => close
response-header: via => 1.1 attcompute.com
response-header: content-type => application/json
response-header: x-runtime => 4
response-header: date => Wed, 16 Nov 2011 11:04:00 GMT
response-header: content-length => 28
response-header: set-cookie => 
response-header: status => 500 Internal Server Error
response-header: cache-control => no-cache
Read 0 bytes (0 total)
Read 28 bytes (28 total)
400 => Net::HTTPBadRequestst queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 7
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 11:04:22 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "84b2d935451867ce9ec5b716d2191647"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 919
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 11:04:23 GMT
response-header: content-length => 8572
response-header: set-cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYWJkNjExNDE6MjljZg%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlYjBlNmRlZTlmZGRlZjU2MDgwM2I3ZmRmNTBjNTUwNzk%3D--27262c8c488ea86b38d26082ee6a11f7651c1ea1; path=/; HttpOnly, BIGipServeruser_profile_443=470425516.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 7470 bytes (7470 total)
Read 1102 bytes (8572 total)
saved cookie: sessionId=EUID%3DNWY2NWUwNTg6MTMzYWJkNjExNDE6MjljZg%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlYjBlNmRlZTlmZGRlZjU2MDgwM2I3ZmRmNTBjNTUwNzk%3D--27262c8c488ea86b38d26082ee6a11f7651c1ea1
saved cookie: BIGipServeruser_profile_443=470425516.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="10355996419510041" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKKKACiiigAooooAKKKKACisa68V6HZymKbUY944IQM+P++Qat6frGn6oCbK7jmIGSoOGH1B5oAv
UVxuteOGttRfT9KszdXCMUZmBI3DqAo5NVIPHuoWdyket6UYVbuqMjAeuG60Ad7RXJa344gsZI7f
Toftlw6qwPO0BgCPckgjj3rMXx1rNjIjaro/lwueCI3jJ+m7INAHoFFVtPv7fU7GK8tX3RSDIz1H
qD71ZoAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigArybVG8SaJq8FpLq1xLPIFkQJcO
ynLEAHdjuOles15l4tvbS48ZabPBdQywokQaRJAyriRickdOKAK97qPinw9qItp795Z7iMMF3eYB
uJHGRwcjtU66j4h8N67Zx6lePOk+1njaQuNpOCOehHtUvjOeF/FulTpKjQmKJhIGBXHmNznpijx3
PFLrulzRyo8RiVg6sCpG885oAg8SjXtN14xnVp0hu5WaDZcuFRS3APpjI6V0U+uzeEdK0601Im+v
JC/mSCYnC7s5yRk8ED8Kh8eww6h4dg1G1kSZIJeJI2DDaflOCP8AaArDaGbxtqV5cru221mojHrJ
jO38W3UAWvGravYX/wBvg1WVLO5KiGKG4cEYQZOBwBn09aZq9zq+i+EYrS9vHlub+UvvMjOyxbVy
uT0OT/P1rPgu28R3fh7THBb7OCkmR1APP/jiiuk+I9hJPplreRqWW3dg+OwbHP5gfnQBT8IeEdO1
DRlv9QjaZpmYIu8qFAOOx65Bqe28B3djrgvLHUEghjkDRZBZsdweg9R16VJ4J8Q6dDoKWV1dxW8t
uzYErBQyklsgnr1NMHj24n142VjZR3MDyiOFtxVmHqevHU9OlAHUWuh6dZajNqFvb7Lqbd5j72Od
xyeCcDmuQ+Iup2ssVvpsZD3KSeY5HOwYIx9TnOParXiTxqsbtp2kSI1wx2PcFgFT6E8Z9+grP062
0fw9ZSavd3tpqepKQywx3CtgkgEjrk85z7fjQBv+GfC9pY2dje3FsRqSpuZy7fLkEYxnHCnHTtVb
4gapaQ6M2nMVe6mKsqjkoAc7j6dMfjVa++IUP9lRtZQ4vpgfkc5WHkjJPc8Zx781naZYabCs+ta3
qdne3oVpVtRco25gMgHnk9gBx9aAOk8CWc1n4aQzAgzSNKinspAA/PGfxrpqyPDuuJr+nvdJbmAJ
KYtpbd0AOf1rXoAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigArjz8ONHJJ+033/AH2n
/wATXYUUAcze+B9MvltVlnuwLaAQJtdeVBJ5+XrzS3vgnTb6G0ilnuwtrEIk2uuSM55+XrzXS0UA
ZUWgWkXh46KGla2Ksu5iN/JLZzjGcn0p2iaFaaDayQWhkYSPvZpSCx4xjgDitOigDD0/wpp2m6xJ
qcBm8193yMw2LuPOBjP61tOiSxtHIqujDDKwyCPQ06igDlrn4f6JcSmRBcQZOdsUgx+oNaWkeGtL
0VjJawEzEY82Q7mx/T8K16KAORf4daRJIzm5vssSTh0/+Jpv/CuNH/5+b7/vtP8A4muwooA4/wD4
Vxo//Pzff99p/wDE0f8ACuNH/wCfm+/77T/4muwooAzdE0S20Gye1tXldHkMhMpBOSAOwHpWlRRQ
AUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAB
RRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFF
FFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQB//Z
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
7.1s (7.1s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYWJkNjExNDE6MjljZg%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlYjBlNmRlZTlmZGRlZjU2MDgwM2I3ZmRmNTBjNTUwNzk%3D--27262c8c488ea86b38d26082ee6a11f7651c1ea1; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1828
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 11:04:24 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlYjBlNmRlZTlmZGRlZjU2MDgwM2I3ZmRmNTBjNTUwNzkiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--f5fa36259e08eb50b16e5b091776ed23ae1b10f9; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlYjBlNmRlZTlmZGRlZjU2MDgwM2I3ZmRmNTBjNTUwNzkiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--f5fa36259e08eb50b16e5b091776ed23ae1b10f9
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
5.4s (12.5s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYWJkNjExNDE6MjljZg%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlYjBlNmRlZTlmZGRlZjU2MDgwM2I3ZmRmNTBjNTUwNzkiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--f5fa36259e08eb50b16e5b091776ed23ae1b10f9; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzM2FiZTNjZDZjOi0xMjc1
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 344
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 11:04:29 GMT
response-header: content-length => 143
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 143 bytes (143 total)
Authorization key: LTE2MjkxNzcxOjEzM2FiZTNjZDZjOi0xMjc1
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzM2FiZTNjZDZjOi0xMjc1">redirected</a>.</body></html>
0.4s (12.9s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2FiZTNjZDZjOi0xMjc1 ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2FiZTNjZDZjOi0xMjc1
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 106
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 11:04:30 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "c863330e3f4c517f7e58dde3dca780c537e539cd",
  "access_token": "576c536a28627be1c263cf4db0b0eac9"
}
ACCESS TOKEN: 576c536a28627be1c263cf4db0b0eac9
Refresh TOKEN: c863330e3f4c517f7e58dde3dca780c537e539cd
0.8s (13.7s total) OK. Access token: c863330e3f4c517f7e58dde3dca780c537e539cd...

NEXT TEST: device_info_json 22
3.0s (16.7s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=576c536a28627be1c263cf4db0b0eac9
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=576c536a28627be1c263cf4db0b0eac9
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=576c536a28627be1c263cf4db0b0eac9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
8.4s (25.1s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=576c536a28627be1c263cf4db0b0eac9
Net::HTTP::Get: /1/devices/tel:123/info?access_token=576c536a28627be1c263cf4db0b0eac9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
1.6s (26.7s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (29.7s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=576c536a28627be1c263cf4db0b0eac9
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=576c536a28627be1c263cf4db0b0eac9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
3.1s (32.8s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=576c536a28627be1c263cf4db0b0eac9
Net::HTTP::Get: /1/devices/tel:123/info?access_token=576c536a28627be1c263cf4db0b0eac9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
0.1s (32.9s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (35.9s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=576c536a28627be1c263cf4db0b0eac9&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=576c536a28627be1c263cf4db0b0eac9&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
4.5s (40.4s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=576c536a28627be1c263cf4db0b0eac9&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=576c536a28627be1c263cf4db0b0eac9&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
1.6s (42.1s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (45.1s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x102293120>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=576c536a28627be1c263cf4db0b0eac9
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=576c536a28627be1c263cf4db0b0eac9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
4.5s (49.5s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=576c536a28627be1c263cf4db0b0eac9
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=576c536a28627be1c263cf4db0b0eac9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=576c536a28627be1c263cf4db0b0eac9
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=576c536a28627be1c263cf4db0b0eac9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
9.1s (58.7s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=576c536a28627be1c263cf4db0b0eac9&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=576c536a28627be1c263cf4db0b0eac9&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=576c536a28627be1c263cf4db0b0eac9&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=576c536a28627be1c263cf4db0b0eac9&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
8.9s (67.5s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (70.5s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=576c536a28627be1c263cf4db0b0eac9
Request: https://api.att.com/1/messages/outbox/sms?access_token=576c536a28627be1c263cf4db0b0eac9
Net::HTTP::Post: /1/messages/outbox/sms?access_token=576c536a28627be1c263cf4db0b0eac9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2FiZTNjZDZjOi0xMjc1
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 11:05:28 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b1604502ecf4d5"
  },
  "id": "SMSa9b1604502ecf4d5"
}
0.8s (71.3s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (74.3s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=576c536a28627be1c263cf4db0b0eac9
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=576c536a28627be1c263cf4db0b0eac9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=576c536a28627be1c263cf4db0b0eac9
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 11:05:31 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b598c3c57f0a67"
  },
  "id": "SMSa9b598c3c57f0a67"
}
0.7s (75.0s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.0s (78.0s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=576c536a28627be1c263cf4db0b0eac9
Request: https://api.att.com/1/messages/outbox/mms?access_token=576c536a28627be1c263cf4db0b0eac9
Net::HTTP::Post: /1/messages/outbox/mms?access_token=576c536a28627be1c263cf4db0b0eac9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_13574225.1321441535082"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=576c536a28627be1c263cf4db0b0eac9
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 11:05:37 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf677630"
  },
  "id": "MMSa9b50d45cf677630"
}
2.3s (80.3s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf677630?access_token=576c536a28627be1c263cf4db0b0eac9
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b50d45cf677630?access_token=576c536a28627be1c263cf4db0b0eac9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 11:05:40 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b50d45cf677630"
  }
}
3.4s (83.7s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.0s (86.7s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=576c536a28627be1c263cf4db0b0eac9
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=576c536a28627be1c263cf4db0b0eac9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_13548537.1321441543822"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b50d45cf677630?access_token=576c536a28627be1c263cf4db0b0eac9
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 11:05:44 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b4a1507be34a8c"
}
0.9s (87.6s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.0s (90.6s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=576c536a28627be1c263cf4db0b0eac9
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321441547679",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=576c536a28627be1c263cf4db0b0eac9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=576c536a28627be1c263cf4db0b0eac9
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Wed, 16 Nov 2011 11:05:49 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
10.8s (101.4s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=576c536a28627be1c263cf4db0b0eac9
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321441558454</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=576c536a28627be1c263cf4db0b0eac9
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=576c536a28627be1c263cf4db0b0eac9
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Wed, 16 Nov 2011 11:05:59 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
4.6s (106.0s total) OK. New subscription request SEN1321441563096...
Request: : https://api.att.com/1/payments/transactions?access_token=576c536a28627be1c263cf4db0b0eac9
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321441563096",
  "externalMerchantTransactionID": "SenchaTransId1321441563106",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=576c536a28627be1c263cf4db0b0eac9
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=576c536a28627be1c263cf4db0b0eac9
request-header: cookie => api.att.amdocshub.com=R3665728226
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Wed, 16 Nov 2011 11:06:02 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3665728226; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3665728226
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 7
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 12:04:21 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "b292045049c25ecd26a9936a8789b2a4"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1363
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 12:04:21 GMT
response-header: content-length => 8598
response-header: set-cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2FjMzgxNmJjOi02YzQ0%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlYWIzMDdlMzY4MjIwNDk1M2E2MmZkZjRkYmI2ZjUzNDE%3D--09299ca954ccd4f9ace0de65f5d4ac2fb0144d95; path=/; HttpOnly, BIGipServeruser_profile_443=470425516.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 7473 bytes (7473 total)
Read 1125 bytes (8598 total)
saved cookie: sessionId=EUID%3DLTE2MjkxNzcxOjEzM2FjMzgxNmJjOi02YzQ0%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlYWIzMDdlMzY4MjIwNDk1M2E2MmZkZjRkYmI2ZjUzNDE%3D--09299ca954ccd4f9ace0de65f5d4ac2fb0144d95
saved cookie: BIGipServeruser_profile_443=470425516.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="10359595253059503" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKKKACiuT8U6p4hstQii0i1eWFogzMkBkIbJzz06Yqn4R8QavqfiC5s9Sl4ihYmLy1Xa4ZR2Ge5o
A7iiivP9X17xZbX96sFo62kLvtlFsSuwE8ljx0oA9AornPBWq3msaPNcX0oklW4ZAQoXC7VOOB7m
tu/eaLT7mS2XdOsTNGMZywBwMfWgCxRXmF54p8XW0PnXEL2sbNtDPa7Rn0G4exru7fVY7fw1a6nq
M21TbxPLJtJ5YDnAHqewoA1KKxx4q0Q2X2z7egg3mMMUYEsACQBjJ4I7d6zNb8Yw2+jJfaPLBct5
6xOJFb5QVY9OD/DQB1dFeex+LvFssayR6Gro4DKy2kpBB6EHdXSeGdT1bU4rhtVsfsrIyiMeU8e4
HOfvHmgDeooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigArkfGHimbSXTT9PAN5IN
zPjOwHpgdyf89a66vMfGEcumeNIdSljLwM0Uqeh2YBX9P1oAtro/jeOEXo1FzLjd5BnJb6bSNv4V
B4DmlufF1/POMTSwSO4xjDGRSePrXY/8JXof2L7V/aMO3Gdm75/pt61xfhHVLX/hL9RvriaK1inj
kZfNcKAWkU4ye9AF3WfE2qatrZ0jQSUCsUMi8MxHU57KKqalY+LdG02eS4vTd2skbRzDzTJtVhj+
IZHXqKp+HrpPDPi2ZNRyqlWiaQjOMkEN9Dj9a6/xJ4n0qPQ7qGG7huZriJo0SJw33hjJx0xmgCj4
DuorHwle3U7YiiuHdj7BErLi1HxN4vvJf7OnNnbRn+Fyir6AsOSf88UzQvLu/AepabHcRC9lnLxw
FwHcAIeB1OdpFWfAWu2NhbXFheTJbu0vmK8hwDwAQT2xjv60AZHiSPxDYWkdhq8xuLcyCSOXdvyw
BGNx579DXV6z/wAkuj/69Lb+aVl+PdfsL60gsLOZJ3WXzHkQ5VcAjGe/Xt6Vd1O8tbj4aeVDcwyy
RWtsJERwxQ7kGCB0oA5bwp4fXxDeyxTzPHbwrubZ1JPAAzwOn6VveLNCtdC8JR29oZXVr1XZpCC3
3GHYDinfDL/mKf8AbL/2eux1PVtP0tYRqEyxrM21dykjI5/woA4W38X67pum2qnRwtnDEkYkkicb
sADO7pziux8PeIbbxBaNJEpjmjIEsROSuehB7imX/iTQ49PleS+tp0KEeUjhy/HTA9a5H4bW8x1K
8uQD5Cw+WT2LEgj9AfzoA9JooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAqtfaf
a6lbNb3kCyxHs3Y+oPY1ZooA5WP4faJHceYftMi5z5bSDb+gB/Wmz/DzR57iSXzbuPe5bZGyBVyc
4A29K6yigDK1Tw7purwol3Dl412rKpw4H17/AI1mW/gHRbdJQRPKzoyBpHBKZGMjAxn0yDXUUUAc
zpvgfTNL1CG9gnu2kiJKh3Ug8Y5wo9an1TwbpGqztPJE8MzHLPAwXd9QQR+lb9FAHLt4B0U2QtgJ
1O8OZg43nAIxkjGOew9Kdb+B9MtrG8tEnuzHdhA5LrkbW3DHy+tdNRQBj6F4bs/D/wBo+ySTv5+3
d5rA425xjAHqan1XQ9P1lFW+g8wpnYwYgrn0xWjRQByS/DvRVk3GS7YZ+4ZBj/0HP610tlY22nWq
21pCsUK9FX+Z9TViigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKK
ACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA
KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAo
oooA/9k=
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
6.1s (6.1s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2FjMzgxNmJjOi02YzQ0%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlYWIzMDdlMzY4MjIwNDk1M2E2MmZkZjRkYmI2ZjUzNDE%3D--09299ca954ccd4f9ace0de65f5d4ac2fb0144d95; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1987
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 12:04:23 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlYWIzMDdlMzY4MjIwNDk1M2E2MmZkZjRkYmI2ZjUzNDEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--b994f9865eeba67bf9c396920aba963396026764; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlYWIzMDdlMzY4MjIwNDk1M2E2MmZkZjRkYmI2ZjUzNDEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--b994f9865eeba67bf9c396920aba963396026764
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
2.2s (8.3s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2FjMzgxNmJjOi02YzQ0%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlYWIzMDdlMzY4MjIwNDk1M2E2MmZkZjRkYmI2ZjUzNDEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--b994f9865eeba67bf9c396920aba963396026764; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 254
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 12:04:25 GMT
response-header: content-length => 73
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 73 bytes (73 total)
Authorization key: 
<html><body>You are being <a href="http://">redirected</a>.</body></html>
0.4s (8.6s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code= ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: content-type => application/json
response-header: content-length => 29
response-header: x-cnection => close
Read 29 bytes (29 total)
401 => Net::HTTPUnauthorized
{
	"error":"invalid_client"
}
{
	"error":"invalid_client"
}

NEXT TEST: device_info_json 22
3.1s (11.7s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 170
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 170 bytes (170 total)
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "Invalid value for part %1" ,

        "variables" : "accesstoken"    }

}}

NEXT TEST: device_info_json_error 21
3.1s (14.8s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=
Net::HTTP::Get: /1/devices/tel:123/info?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 170
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 170 bytes (170 total)
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "Invalid value for part %1" ,

        "variables" : "accesstoken"    }

}}
0.1s (14.9s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (17.9s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 185
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 185 bytes (185 total)
401 => Net::HTTPUnauthorized
<RequestError>
<PolicyException>
    <MessageId>POL0001</MessageId>
    <Text>Invalid value for part %1</Text>
    <Variables> accesstoken</Variables>
</PolicyException>
</RequestError>

NEXT TEST: device_info_xml_error 19
3.1s (20.9s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=
Net::HTTP::Get: /1/devices/tel:123/info?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 185
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 185 bytes (185 total)
401 => Net::HTTPUnauthorized
<RequestError>
<PolicyException>
    <MessageId>POL0001</MessageId>
    <Text>Invalid value for part %1</Text>
    <Variables> accesstoken</Variables>
</PolicyException>
</RequestError>
0.1s (21.0s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (24.0s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 183
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 183 bytes (183 total)
401 => Net::HTTPUnauthorized
jsonpCallback({"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "Invalid value for part %1" ,

        "variables" : "accesstoken"  }

}})

NEXT TEST: device_info_jsonp_error 17
3.1s (27.1s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 183
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 183 bytes (183 total)
401 => Net::HTTPUnauthorized
jsonpCallback({"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "Invalid value for part %1" ,

        "variables" : "accesstoken"  }

}})
0.1s (27.2s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (30.2s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x1022a1fe0>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 170
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 170 bytes (170 total)
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "Invalid value for part %1" ,

        "variables" : "accesstoken"    }

}}
3.1s (33.3s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 185
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 185 bytes (185 total)
401 => Net::HTTPUnauthorized
<RequestError>
<PolicyException>
    <MessageId>POL0001</MessageId>
    <Text>Invalid value for part %1</Text>
    <Variables> accesstoken</Variables>
</PolicyException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 185
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 185 bytes (185 total)
401 => Net::HTTPUnauthorized
<RequestError>
<PolicyException>
    <MessageId>POL0001</MessageId>
    <Text>Invalid value for part %1</Text>
    <Variables> accesstoken</Variables>
</PolicyException>
</RequestError>
6.2s (39.6s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 183
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 183 bytes (183 total)
401 => Net::HTTPUnauthorized
jsonpCallback({"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "Invalid value for part %1" ,

        "variables" : "accesstoken"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 183
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 183 bytes (183 total)
401 => Net::HTTPUnauthorized
jsonpCallback({"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "Invalid value for part %1" ,

        "variables" : "accesstoken"  }

}})
6.2s (45.8s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (48.8s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=
Request: https://api.att.com/1/messages/outbox/sms?access_token=
Net::HTTP::Post: /1/messages/outbox/sms?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://auth-api.att.com/consent_confirmation
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 155
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 155 bytes (155 total)
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "UnAuthorized Request" ,

        "variables" : " "    }

}}
0.2s (49.0s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (52.0s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://auth-api.att.com/consent_confirmation
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 155
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 155 bytes (155 total)
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "UnAuthorized Request" ,

        "variables" : " "    }

}}
0.1s (52.1s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.0s (55.1s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=
Request: https://api.att.com/1/messages/outbox/mms?access_token=
Net::HTTP::Post: /1/messages/outbox/mms?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_14301699.1321445112193"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://auth-api.att.com/consent_confirmation
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 155
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 155 bytes (155 total)
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "UnAuthorized Request" ,

        "variables" : " "    }

}}
0.4s (55.5s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/?access_token=
Net::HTTP::Get: /1/messages/outbox/mms/?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 155
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 155 bytes (155 total)
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "UnAuthorized Request" ,

        "variables" : " "    }

}}

NEXT TEST: wap_push 6
6.1s (61.6s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_18276831.1321445118726"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://auth-api.att.com/consent_confirmation
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 155
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 155 bytes (155 total)
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "UnAuthorized Request" ,

        "variables" : " "    }

}}

NEXT TEST: payment_new_json 5
3.2s (64.8s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321445121869",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://auth-api.att.com/consent_confirmation
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 145
response-header: content-encoding => gzip
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 145 bytes (145 total)
gzip body
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "Invalid value for part %1" ,

        "variables" : "accesstoken"    }

}}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
9.2s (74.0s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321445131079</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://auth-api.att.com/consent_confirmation
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 146
response-header: content-encoding => gzip
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 146 bytes (146 total)
gzip body
401 => Net::HTTPUnauthorized
<RequestError>
<policyException>
    <MessageId>POL0001</MessageId>
    <Text>Invalid value for part %1</Text>
    <Variables> accesstoken</Variables>
</policyException>
</RequestError>

NEXT TEST: payment_new_subscription 1
3.2s (77.3s total) OK. New subscription request SEN1321445134324...
Request: : https://api.att.com/1/payments/transactions?access_token=
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321445134324",
  "externalMerchantTransactionID": "SenchaTransId1321445134376",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://auth-api.att.com/consent_confirmation
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status:

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: connection => close
response-header: via => 1.1 attcompute.com
response-header: content-type => application/json
response-header: x-runtime => 4
response-header: date => Wed, 16 Nov 2011 12:04:00 GMT
response-header: content-length => 28
response-header: set-cookie => 
response-header: status => 500 Internal Server Error
response-header: cache-control => no-cache
Read 0 bytes (0 total)
Read 28 bytes (28 total)
400 => Net::HTTPBadRequest

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = devi Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 145
response-header: content-encoding => gzip
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 145 bytes (145 total)
gzip body
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "Invalid value for part %1" ,

        "variables" : "accesstoken"    }

}}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 8
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 13:04:23 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "aa86590a185491195650916f4b945fbb"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1036
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 13:04:23 GMT
response-header: content-length => 8766
response-header: set-cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2FjMzgxNmJjOjM5ZWQ%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlNGU5YTc5NDc4ODc0OTI4YzI4MzA1YjEwZTFjODU1MWE%3D--ee9806caca504c7dc55f8cff6c6607cd3ef4f4c3; path=/; HttpOnly, BIGipServeruser_profile_443=470425516.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 8000 bytes (8000 total)
Read 766 bytes (8766 total)
saved cookie: sessionId=EUID%3DLTE2MjkxNzcxOjEzM2FjMzgxNmJjOjM5ZWQ%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlNGU5YTc5NDc4ODc0OTI4YzI4MzA1YjEwZTFjODU1MWE%3D--ee9806caca504c7dc55f8cff6c6607cd3ef4f4c3
saved cookie: BIGipServeruser_profile_443=470425516.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="20013433466396575" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKKyT4l0gan/AGcbvF35nl+WY3HzemcYoA1qKgvLyCwtJLq6k8uGMZZsE47dqj07UrPVbb7TZTeb
FuK7tpHI9iAaALdFZN54l0iwvjZXN3suRj5BG7Hnp0Bp03iLSrfVBpst1tvC6oI/LY8tjAzjHcd6
ANSisa48WaFbTmGXUY94ODtVmAP1AIrUt7mC7gWe3lSWJujocg0AS0VyPi3xFqGnahaaZpir9puA
DuYAnltqgZ46g9aok/ECIgkxyA+gi4/kaAO8orB8SaxPoGgLcDbLdMyxBmHBYgknA+h4rnYJ/Ht1
axXcLo0Uqh0XEQyp5HWgD0Cq99fW+m2cl3dyeXBHjc20nGSAOBz1IrIstYfS9Iil8SXcUN3ISdmB
kDoBhevr+NUPE2s6dq3g7UDY3STFfL3KMhh+8XseaAN7TNb07WfN+wXHneVjf8jLjOcdQPQ1oV5/
8Mv+Yp/2y/8AZ69AoAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigArzTx9Zvp+v2uqQj
HmgNn/bTH9Nv5V6XXPeNdO/tDw3OVXMlv++X8Ov6E0AZfjrUxN4cso4Mn7eyuAO6gA/zK1D4Akks
b7VNGn4kibeB7g7WP/oNYPh+SXXNc0W0lGYrFCTn0Vi3/wASPwrQ8WSS6F4se+gGBd2zDj1Klf0I
U0AQaHH/AMJD4+lvGG6GORp/wU4T/wBl/KqHjVivjG9ZSQQYyCO37ta674d6d9n0eW9YfPcvhT/s
rx/PNch43/5G++/7Z/8AotaAOu/4V/p39ieVtf8AtDy8+dvP38dMdMZ/GuZ8GXt39qutKt5ihvLe
RYjuICShSQ2R0/D+ldqvjHSjof203UQnEeTBu+ffjpt69e/SuK8B2xfX/trkJBaRPJJIxwq5BHJ/
En8KAK+q6VrFr4hsrO8v/OvpfL8mbznbZlyF+YjIwcniumtPDPiuK8gkm1zfEkis6/a5TuUHkYIq
j4lv7Ofx3pFxDdwSQR+TvkSQFVxKSckcDjmu5TW9JkdUTVLJnY4VRcIST6daAPPvGelaxa+deXl/
51jLdnyYfOdtmdxX5SMDAyOKsWHhrxVPp1tNb635cEkSNGn2qUbVIBAwBgcVofEK/s59Gjt4buCS
eO7G+NJAWXCuDkDkc8VtaLrWlRaFp8cmp2aOltGrK06gghRkEZoA800+C48ReIba2urmSRpDtaRm
ydqjJwT7A11Hi7wlYaborXuno8JiKrKu8sHUkDnPfOK5zS549A8WwyysGhhlI3qdwKMCAwx1GDmu
u8a+IdOm0BrO0uoriS4ZeImDbVBDZOOnQcUAVfhl/wAxT/tl/wCz16BXn/wy/wCYp/2y/wDZ69Ao
AKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigApGVXRkYAqwwQe4paKAMPRfCmn6DdyXNq
87yOmz96wIAznjAHoKl1zw7ZeIFhF28yGEkq0RAPOMjkH0Fa9FAEFlaRWFlDaQAiKFAi564Hr715
N43/AORvvv8Atn/6LWvYK5vVPBWm6vqUt9cTXSyy43CN1C8ADup9KAC/8DaNqF21wVmgZjllhYBW
P0IOPwrSg0KwtdIm022iMUEyMjlT8x3DBOT3rSooA4//AIVxo/8Az833/faf/E1Jb/D7Sba5inS4
vS8Th1BdMZBz/drrKKAOVu/AGlXl7PdSXF4HmkaRgrrgEnJx8vvUP/CuNH/5+b7/AL7T/wCJrsKK
AMG78IaTe2NvbTRyZt4xGkysBJtHqcYP5VBa+BtGtI5VCzSPJG0fmSOCyBhgkcYzz1xXS0UAY+he
G7Pw/wDaPskk7+ft3eawONucYwB6mtiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKK
ACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA
KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAo
oooAKKKKACiiigD/2Q==
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
7.8s (7.8s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2FjMzgxNmJjOjM5ZWQ%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlNGU5YTc5NDc4ODc0OTI4YzI4MzA1YjEwZTFjODU1MWE%3D--ee9806caca504c7dc55f8cff6c6607cd3ef4f4c3; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1611
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 13:04:24 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlNGU5YTc5NDc4ODc0OTI4YzI4MzA1YjEwZTFjODU1MWEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--ef04323f5c6797c066c5b9ca6540d563d4865042; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlNGU5YTc5NDc4ODc0OTI4YzI4MzA1YjEwZTFjODU1MWEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--ef04323f5c6797c066c5b9ca6540d563d4865042
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
1.9s (9.8s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2FjMzgxNmJjOjM5ZWQ%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlNGU5YTc5NDc4ODc0OTI4YzI4MzA1YjEwZTFjODU1MWEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--ef04323f5c6797c066c5b9ca6540d563d4865042; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 256
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 13:04:26 GMT
response-header: content-length => 73
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 73 bytes (73 total)
Authorization key: 
<html><body>You are being <a href="http://">redirected</a>.</body></html>
0.4s (10.1s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code= ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: content-type => application/json
response-header: content-length => 29
response-header: x-cnection => close
Read 29 bytes (29 total)
401 => Net::HTTPUnauthorized
{
	"error":"invalid_client"
}
{
	"error":"invalid_client"
}

NEXT TEST: device_info_json 22
3.8s (13.9s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 170
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 170 bytes (170 total)
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "Invalid value for part %1" ,

        "variables" : "accesstoken"    }

}}

NEXT TEST: device_info_json_error 21
3.1s (17.0s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=
Net::HTTP::Get: /1/devices/tel:123/info?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 170
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 170 bytes (170 total)
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "Invalid value for part %1" ,

        "variables" : "accesstoken"    }

}}
0.1s (17.1s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (20.1s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 185
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 185 bytes (185 total)
401 => Net::HTTPUnauthorized
<RequestError>
<PolicyException>
    <MessageId>POL0001</MessageId>
    <Text>Invalid value for part %1</Text>
    <Variables> accesstoken</Variables>
</PolicyException>
</RequestError>

NEXT TEST: device_info_xml_error 19
3.1s (23.2s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=
Net::HTTP::Get: /1/devices/tel:123/info?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 185
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 185 bytes (185 total)
401 => Net::HTTPUnauthorized
<RequestError>
<PolicyException>
    <MessageId>POL0001</MessageId>
    <Text>Invalid value for part %1</Text>
    <Variables> accesstoken</Variables>
</PolicyException>
</RequestError>
0.1s (23.3s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (26.3s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 183
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 183 bytes (183 total)
401 => Net::HTTPUnauthorized
jsonpCallback({"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "Invalid value for part %1" ,

        "variables" : "accesstoken"  }

}})

NEXT TEST: device_info_jsonp_error 17
3.1s (29.4s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 183
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 183 bytes (183 total)
401 => Net::HTTPUnauthorized
jsonpCallback({"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "Invalid value for part %1" ,

        "variables" : "accesstoken"  }

}})
0.1s (29.5s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (32.5s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x102343278>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 170
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 170 bytes (170 total)
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "Invalid value for part %1" ,

        "variables" : "accesstoken"    }

}}
3.1s (35.6s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 185
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 185 bytes (185 total)
401 => Net::HTTPUnauthorized
<RequestError>
<PolicyException>
    <MessageId>POL0001</MessageId>
    <Text>Invalid value for part %1</Text>
    <Variables> accesstoken</Variables>
</PolicyException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 185
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 185 bytes (185 total)
401 => Net::HTTPUnauthorized
<RequestError>
<PolicyException>
    <MessageId>POL0001</MessageId>
    <Text>Invalid value for part %1</Text>
    <Variables> accesstoken</Variables>
</PolicyException>
</RequestError>
6.2s (41.8s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 183
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 183 bytes (183 total)
401 => Net::HTTPUnauthorized
jsonpCallback({"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "Invalid value for part %1" ,

        "variables" : "accesstoken"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 183
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 183 bytes (183 total)
401 => Net::HTTPUnauthorized
jsonpCallback({"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "Invalid value for part %1" ,

        "variables" : "accesstoken"  }

}})
6.2s (48.1s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (51.1s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=
Request: https://api.att.com/1/messages/outbox/sms?access_token=
Net::HTTP::Post: /1/messages/outbox/sms?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://auth-api.att.com/consent_confirmation
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 155
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 155 bytes (155 total)
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "UnAuthorized Request" ,

        "variables" : " "    }

}}
0.1s (51.2s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (54.2s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://auth-api.att.com/consent_confirmation
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 155
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 155 bytes (155 total)
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "UnAuthorized Request" ,

        "variables" : " "    }

}}
0.1s (54.3s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.0s (57.3s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=
Request: https://api.att.com/1/messages/outbox/mms?access_token=
Net::HTTP::Post: /1/messages/outbox/mms?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_17173639.1321448714382"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://auth-api.att.com/consent_confirmation
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 155
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 155 bytes (155 total)
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "UnAuthorized Request" ,

        "variables" : " "    }

}}
0.4s (57.7s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/?access_token=
Net::HTTP::Get: /1/messages/outbox/mms/?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 155
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 155 bytes (155 total)
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "UnAuthorized Request" ,

        "variables" : " "    }

}}

NEXT TEST: wap_push 6
6.1s (63.9s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_18662276.1321448720953"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://auth-api.att.com/consent_confirmation
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 155
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 155 bytes (155 total)
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "UnAuthorized Request" ,

        "variables" : " "    }

}}

NEXT TEST: payment_new_json 5
3.2s (67.0s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321448724093",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://auth-api.att.com/consent_confirmation
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 145
response-header: content-encoding => gzip
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 145 bytes (145 total)
gzip body
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "Invalid value for part %1" ,

        "variables" : "accesstoken"    }

}}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
9.2s (76.2s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321448733301</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://auth-api.att.com/consent_confirmation
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 146
response-header: content-encoding => gzip
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 146 bytes (146 total)
gzip body
401 => Net::HTTPUnauthorized
<RequestError>
<policyException>
    <MessageId>POL0001</MessageId>
    <Text>Invalid value for part %1</Text>
    <Variables> accesstoken</Variables>
</policyException>
</RequestError>

NEXT TEST: payment_new_subscription 1
3.3s (79.5s total) OK. New subscription request SEN1321448736559...
Request: : https://api.att.com/1/payments/transactions?access_token=
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount"ce_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: connection => close
response-header: via => 1.1 attcompute.com
response-header: content-type => application/json
response-header: x-runtime => 4
response-header: date => Wed, 16 Nov 2011 13:04:00 GMT
response-header: content-length => 28
response-header: set-cookie => 
response-header: status => 500 Internal Server Error
response-header: cache-control => no-cache
Read 0 bytes (0 total)
Read 28 bytes (28 total)
400 => Net::HTTPBadRequest

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.0s (0.0s total) OK. Requesting login : 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321448736559",
  "externalMerchantTransactionID": "SenchaTransId1321448736570",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://auth-api.att.com/consent_confirmation
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPUnauthorized 1.1 401 Unauthorized
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 145
response-header: content-encoding => gzip
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 145 bytes (145 total)
gzip body
401 => Net::HTTPUnauthorized
{"requestError": {

    "policyException": {

        "messageId": "POL0001",

        "text": "Invalid value for part %1" ,

        "variables" : "accesstoken"    }

}}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 8
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 14:17:52 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "4ebdda6243d7ac5c9520b53449b620e3"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 912
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 14:17:55 GMT
response-header: content-length => 8794
response-header: set-cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2FjOGNjNjZhOjQ0Mw%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlMTFlYmQwZWYyN2VmMzQzMzkxNTAzZDMzNjk0N2NhMzE%3D--3b25fcf159202ea8ff907b13dbdf4c48da4cadb0; path=/; HttpOnly, BIGipServeruser_profile_443=470425516.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 8000 bytes (8000 total)
Read 794 bytes (8794 total)
saved cookie: sessionId=EUID%3DLTE2MjkxNzcxOjEzM2FjOGNjNjZhOjQ0Mw%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlMTFlYmQwZWYyN2VmMzQzMzkxNTAzZDMzNjk0N2NhMzE%3D--3b25fcf159202ea8ff907b13dbdf4c48da4cadb0
saved cookie: BIGipServeruser_profile_443=470425516.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="20017844950960015" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKK4/wAV6l4k0yWW5sljXTo1XMhCkgkgdCc9SO1AHYUVj+Fr641Lw5aXd3J5k8m/c20DOHYDgcdA
K2KACq99fW+m2cl3dyeXBHjc20nGSAOBz1IqLUdX0/SkVr66jh3fdB5J+gHNc94m1nTtW8HagbG6
SYr5e5RkMP3i9jzQBvaZrenaz5v2C487ysb/AJGXGc46gehqlN4x0G3nkhlv8SRsUYCJzgg4PIWu
Y+HEqwQazM33Y1jY/QBzXM6JpUniLWTbGbyi4aR5Nu7H4ZHc0AenQeMNBubiK3hvt0srhEXyXGST
gDla3K4ew+Hf2LUba7/tTf5EqSbfs+N20g4zu46V0+o69pelOEvbyOJyM7MFmx9ACaAJdS1Wy0i3
W4vpvKiZwgbaW5wTjgH0NU/+Ep0b+zvt/wBs/wBF83yd/lP9/GcYxnpXO+OdSstU8LwTWVwkyC7U
EqeR8j9R1Fcz/wA08/7iv/tKgD1TTdVstXt2uLGbzYlcoW2lecA45A9RVyuP+HH/ACL1x/19t/6A
lbMfijRpr8WMV55lwX2BEidsn6gYx79KANeiiigAooooAKKKKACiiigAooooAKKKKACiiigAoooo
AKKKKACuf8b/APIoX3/bP/0YtdBXMeOLy1Xw1eWrXMIuWEZWEuN5G9eQOvY/lQByM97PB4O0UWeq
G2mXzt8MUrK8mZDjhfoeuK1dD0XxXLPaXt1qM8cCyo7wz3Mm5kBBI28jkdjWbZeHAPClvr9peeRe
xu0mZHCpwxUAE9Dx365xXW6B4xsNSsA17cQWl0nEiyOEDe657fyoA4KMSeK/F6pNI224lPP92MZO
B+ArofF3hKw03RWvdPR4TEVWVd5YOpIHOe+cVz2nv/wjXjJDdAqlvMyMcfwkEbvyOa6zxr4h06bQ
Gs7S6iuJLhl4iYNtUENk46dBxQBh+EluJPD/AIijtYmkmkijRUXqc7wf0JqppnhDXrszBImsxt2s
ZyU3jrjgcjge1S+GbrULHQ9ZutOI82Iws2V3fJ8+eP1/Ctrw748QpOmuXBD7t0cixcY/u4Uf5zQB
z2maxqXhTV3tpixjRtksDNlfqP55HWk8O6cfE/iRhfSO4IaeYg8tyBj25I/Co7938U+LZGs42/0m
QKgPZQAMn8BmrHhHUI9C8SML7MKsjQSFh9w5B5/FcUAaHjbw1Z6PbQXVgrRQySeW8ZcsN2CQRnns
ay/+aef9xX/2lW74/wBcsr20trG0uI5yJPNdo2DKMAgDI47n8qwv+aef9xX/ANpUAFj4ifTfCk2n
WxK3NxcMzOP4E2qOPc4Ndv4L8PQaZp0d8xWW6uUDbxyEU8gD+tcbo/hldV8L3+oRs5uopCsaDoQo
BP1JB/Sug+HmteZDJpEzfNHmSDPde4/A8/ifSgDu6KKKACiiigAooooAKKKKACiiigAooooAKKKK
ACiiigAooooAK5/WfCGn65fC7uZrlJAgTETKBgZ9VPrXQUUAY/8Awjdn/wAI5/YfmT/Zf7+4b/v7
+uMdfasf/hXGj/8APzff99p/8TXYUUAZOseG9N1za13ERKowJYztYD09/wAaoWvgbRrSOVQs0jyR
tH5kjgsgYYJHGM89cV0tFAGNofhqy0AXAtZJ5Bcbd4mIPTPTAHqao3ngLRLucyqs9uWOSsLgL+RB
x+FdPRQBl6R4e07RFb7HDiRhhpXO5iPTPb8Kr6v4S0rWZvPnjeOc9ZIW2lvrkEH8q3KKAOaj8C6N
HYzWyrNmYANMXBcAEHjjA6elL/whOm/2N/Zfn3fkfaPtG7eu7dt24+7jGPaukooAzdE0S20Gye1t
XldHkMhMpBOSAOwHpWdD4K0621calbz3cUqyGQKjrtGeoxt6dsZro6KACiiigAooooAKKKKACiii
gAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKA
CiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAK
KKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD//2Q==
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
18.5s (18.5s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2FjOGNjNjZhOjQ0Mw%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlMTFlYmQwZWYyN2VmMzQzMzkxNTAzZDMzNjk0N2NhMzE%3D--3b25fcf159202ea8ff907b13dbdf4c48da4cadb0; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1297
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 14:17:56 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlMTFlYmQwZWYyN2VmMzQzMzkxNTAzZDMzNjk0N2NhMzEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--c7699a692fcef62c389edc97dc4265cd99c9ee3d; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlMTFlYmQwZWYyN2VmMzQzMzkxNTAzZDMzNjk0N2NhMzEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--c7699a692fcef62c389edc97dc4265cd99c9ee3d
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
1.5s (20.0s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DLTE2MjkxNzcxOjEzM2FjOGNjNjZhOjQ0Mw%3D%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlMTFlYmQwZWYyN2VmMzQzMzkxNTAzZDMzNjk0N2NhMzEiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--c7699a692fcef62c389edc97dc4265cd99c9ee3d; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=NWY2NWUwNTg6MTMzYWM3OTczOTc6NTRhNg%3D%3D
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 457
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 14:17:57 GMT
response-header: content-length => 147
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 147 bytes (147 total)
Authorization key: NWY2NWUwNTg6MTMzYWM3OTczOTc6NTRhNg%3D%3D
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=NWY2NWUwNTg6MTMzYWM3OTczOTc6NTRhNg%3D%3D">redirected</a>.</body></html>
0.6s (20.5s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzYWM3OTczOTc6NTRhNg%3D%3D ...
Net::HTTP::Get: /oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzYWM3OTczOTc6NTRhNg%3D%3D
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 108
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 14:17:58 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "61175abd5f6b3a67a6985f33896a373f3153732a",
  "access_token": "ba4488fa0ff383ae1321d6bd4f7959c5"
}
ACCESS TOKEN: ba4488fa0ff383ae1321d6bd4f7959c5
Refresh TOKEN: 61175abd5f6b3a67a6985f33896a373f3153732a
0.9s (21.5s total) OK. Access token: 61175abd5f6b3a67a6985f33896a373f3153732a...

NEXT TEST: device_info_json 22
3.0s (24.5s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=ba4488fa0ff383ae1321d6bd4f7959c5
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=ba4488fa0ff383ae1321d6bd4f7959c5
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=ba4488fa0ff383ae1321d6bd4f7959c5
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
4.9s (29.4s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=ba4488fa0ff383ae1321d6bd4f7959c5
Net::HTTP::Get: /1/devices/tel:123/info?access_token=ba4488fa0ff383ae1321d6bd4f7959c5
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPInternalServerError 1.1 500 Internal Server Error
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 169
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 169 bytes (169 total)
500 => Net::HTTPInternalServerError
{"requestError": {

    "serviceException": {

        "messageId": "SVC0001",

        "text": "Internal platform error occurred " ,

        "variables" : " "    }

}}
127.6s (157.0s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.0s (160.0s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=ba4488fa0ff383ae1321d6bd4f7959c5
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=ba4488fa0ff383ae1321d6bd4f7959c5
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
3.2s (163.1s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=ba4488fa0ff383ae1321d6bd4f7959c5
Net::HTTP::Get: /1/devices/tel:123/info?access_token=ba4488fa0ff383ae1321d6bd4f7959c5
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
0.2s (163.3s total) OK. Got device info...

NEXT TEST: device_info_jsonp 18
3.0s (166.3s total) OK. Requesting device info for 4259193428 (jsonp)...
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=ba4488fa0ff383ae1321d6bd4f7959c5&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=ba4488fa0ff383ae1321d6bd4f7959c5&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_info_jsonp_error 17
4.7s (171.0s total) OK. Requesting device info for 123 (jsonp)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=ba4488fa0ff383ae1321d6bd4f7959c5&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/info?access_token=ba4488fa0ff383ae1321d6bd4f7959c5&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
1.4s (172.4s total) OK. Got device info...

NEXT TEST: device_location_json 16
3.0s (175.4s total) OK. Device location for 4259193428 (json)...
#<NoMethodError: undefined method `log_response' for #<AttApiReporter:0x1023be130>>

NEXT TEST: device_location_json_error 15
Device location for 4259193428 (json)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=ba4488fa0ff383ae1321d6bd4f7959c5
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=ba4488fa0ff383ae1321d6bd4f7959c5
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}
4.2s (179.6s total) OK. Got device location...

NEXT TEST: device_location_xml 14
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=ba4488fa0ff383ae1321d6bd4f7959c5
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=ba4488fa0ff383ae1321d6bd4f7959c5
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPInternalServerError 1.1 500 Internal Server Error
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 185
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 185 bytes (185 total)
500 => Net::HTTPInternalServerError
<RequestError>
<ServiceException>
    <MessageId>SVC0001</MessageId>
    <Text>Internal platform error occurred </Text>
    <Variables>  </Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_location_xml_error 13
Device location for 4259193428 (xml)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=ba4488fa0ff383ae1321d6bd4f7959c5
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=ba4488fa0ff383ae1321d6bd4f7959c5
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 197
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 197 bytes (197 total)
400 => Net::HTTPBadRequest
<RequestError>
<ServiceException>
    <MessageId>SVC0002</MessageId>
    <Text>Invalid input value for message part %1</Text>
    <Variables> address</Variables>
</ServiceException>
</RequestError>
128.4s (308.0s total) OK. Got device location...

NEXT TEST: device_location_jsonp 12
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=ba4488fa0ff383ae1321d6bd4f7959c5&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:4259193428/location?requestedAccuracy=1000&access_token=ba4488fa0ff383ae1321d6bd4f7959c5&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})

NEXT TEST: device_location_jsonp_error 11
Device location for 4259193428 (jsonp)
Request: : https://api.att.com/1/devices/tel:123/location?requestedAccuracy=1000&access_token=ba4488fa0ff383ae1321d6bd4f7959c5&callback=jsonpCallback
Net::HTTP::Get: /1/devices/tel:123/location?requestedAccuracy=1000&access_token=ba4488fa0ff383ae1321d6bd4f7959c5&callback=jsonpCallback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 194
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 194 bytes (194 total)
400 => Net::HTTPBadRequest
jsonpCallback({"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"  }

}})
8.6s (316.7s total) OK. Got device location...

NEXT TEST: sms_send_json 10
3.0s (319.7s total) OK. Sending SMS to 4259193428...
Sending SMS to {'address' => 'tel:4259193428', 'message' => 'Works from SENCHA 2'}
https://api.att.com/1/messages/outbox/sms?access_token=ba4488fa0ff383ae1321d6bd4f7959c5
Request: https://api.att.com/1/messages/outbox/sms?access_token=ba4488fa0ff383ae1321d6bd4f7959c5
Net::HTTP::Post: /1/messages/outbox/sms?access_token=ba4488fa0ff383ae1321d6bd4f7959c5
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 67
request-header: referer => https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=NWY2NWUwNTg6MTMzYWM3OTczOTc6NTRhNg%3D%3D
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 14:22:57 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b487b5e055d1e0"
  },
  "id": "SMSa9b487b5e055d1e0"
}
0.6s (320.3s total) OK. Sent SMS...

NEXT TEST: sms_send_form 9
3.0s (323.3s total) OK. Sending SMS to 4259193428...
Request: https://api.att.com/1/messages/outbox/sms?access_token=ba4488fa0ff383ae1321d6bd4f7959c5
query: "address=tel%3A4259193428&message=Works+from+SENCHA+2"
Net::HTTP::Post: /1/messages/outbox/sms?access_token=ba4488fa0ff383ae1321d6bd4f7959c5
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 52
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=ba4488fa0ff383ae1321d6bd4f7959c5
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 14:23:01 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/sms/SMSa9b1604502ecf4d9"
  },
  "id": "SMSa9b1604502ecf4d9"
}
1.0s (324.3s total) OK. Sent SMS...

NEXT TEST: mms_send_json 8
3.0s (327.3s total) OK. Sending MMS to 4259193428...
Sending MMS to 4259193428
https://api.att.com/1/messages/outbox/mms?access_token=ba4488fa0ff383ae1321d6bd4f7959c5
Request: https://api.att.com/1/messages/outbox/mms?access_token=ba4488fa0ff383ae1321d6bd4f7959c5
Net::HTTP::Post: /1/messages/outbox/mms?access_token=ba4488fa0ff383ae1321d6bd4f7959c5
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_13820152.1321453384824"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 5563
request-header: referer => https://api.att.com/1/messages/outbox/sms?access_token=ba4488fa0ff383ae1321d6bd4f7959c5
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPCreated 1.1 201 Created
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 14:23:05 GMT
response-header: content-length => 132
response-header: access-control-max-age => 3600
Read 132 bytes (132 total)
{
  "resourceReference": {
    "resourceURL": "https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b7028"
  },
  "id": "MMSa9b4644d651b7028"
}
1.1s (328.4s total) OK. Sent MMS...

NEXT TEST: mms_status 7
Request: : https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b7028?access_token=ba4488fa0ff383ae1321d6bd4f7959c5
Net::HTTP::Get: /1/messages/outbox/mms/MMSa9b4644d651b7028?access_token=ba4488fa0ff383ae1321d6bd4f7959c5
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 14:23:09 GMT
response-header: content-length => 222
response-header: access-control-max-age => 3600
Read 222 bytes (222 total)
{
  "deliveryInfoList": {
    "deliveryInfo": [
      {
        "address": "tel:4259193428",
        "delivery-status": "DeliveredToNetwork",
        "id": "msg0"
      }
    ],
    "resourceURL": "http://api.att.com:8080/1/messages/outbox/mms/MMSa9b4644d651b7028"
  }
}
3.5s (331.9s total) OK. Got MMS Status...

NEXT TEST: wap_push 6
3.0s (334.9s total) OK. Sending WAP push...
Request: : https://api.att.com/1/messages/outbox/wapPush?access_token=ba4488fa0ff383ae1321d6bd4f7959c5
Net::HTTP::Post: /1/messages/outbox/wapPush?access_token=ba4488fa0ff383ae1321d6bd4f7959c5
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => multipart/related; type="text/xml"; start="<part0@sencha.com>"; boundary="----=_Part_0_12404459.1321453392406"
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 786
request-header: referer => https://api.att.com/1/messages/outbox/mms/MMSa9b4644d651b7028?access_token=ba4488fa0ff383ae1321d6bd4f7959c5
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json; charset=UTF-8
response-header: date => Wed, 16 Nov 2011 14:23:12 GMT
response-header: content-length => 34
response-header: access-control-max-age => 3600
Read 34 bytes (34 total)
{
  "id": "WAPPUSHa9b4a1507be34a8d"
}
0.8s (335.7s total) OK. Sent WAP...

NEXT TEST: payment_new_json 5
3.0s (338.7s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=ba4488fa0ff383ae1321d6bd4f7959c5
{
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product60216",
  "description": "Product Sold by Merchant",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "externalMerchantTransactionID": "SenchaTransId1321453396231",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment876875",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=ba4488fa0ff383ae1321d6bd4f7959c5
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 495
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=ba4488fa0ff383ae1321d6bd4f7959c5
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Wed, 16 Nov 2011 14:23:17 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_status_json 4
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_refund_json 3
#<RuntimeError: No new payment TXID>

NEXT TEST: payment_new_xml 2
10.6s (349.3s total) OK. Requesting new payment...
Request: https://api.att.com/1/payments/transactions?access_token=ba4488fa0ff383ae1321d6bd4f7959c5
<?xml version="1.0" encoding="UTF-8"?>
<newTransactionRequest>
  <channel>MOBILE_WEB</channel>
  <merchantProductID>Product60216</merchantProductID>
  <description>Product Sold by Merchant</description>
  <currency>USD</currency>
  <amount>0.99</amount>
  <purchaseOnNoActiveSubscription>false</purchaseOnNoActiveSubscription>
  <externalMerchantTransactionID>SenchaTransId1321453406829</externalMerchantTransactionID>
  <transactionStatusCallbackUrl>/payments/notify</transactionStatusCallbackUrl>
  <merchantApplicationID>Payment876875</merchantApplicationID>
  <merchantCancelRedirectUrl>http://127.0.0.1:5985/payments/cancel</merchantCancelRedirectUrl>
  <autoCommit>false</autoCommit>
  <category>1</category>
  <merchantFulfillmentRedirectUrl>http://127.0.0.1:5985/payments/deliver</merchantFulfillmentRedirectUrl>
</newTransactionRequest>
Net::HTTP::Post: /1/payments/transactions?access_token=ba4488fa0ff383ae1321d6bd4f7959c5
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 846
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=ba4488fa0ff383ae1321d6bd4f7959c5
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/xml; charset=UTF-8
response-header: server => Apache
response-header: date => Wed, 16 Nov 2011 14:23:28 GMT
response-header: content-length => 229
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 229 bytes (229 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
<?xml version='1.0' encoding='UTF-8'?><newTransactionResponse><success>false</success><serviceError><faultCode>PMT-0002</faultCode><faultDescription>Invalid parameter</faultDescription><faultMessage>Parameter transactionStatusCallbackUrl has illegal value /payments/notify</faultMessage></serviceError><version>1</version></newTransactionResponse>

NEXT TEST: payment_new_subscription 1
5.1s (354.5s total) OK. New subscription request SEN1321453411974...
Request: : https://api.att.com/1/payments/transactions?access_token=ba4488fa0ff383ae1321d6bd4f7959c5
{
  "subscriptionRecurringPeriod": "MONTHLY",
  "channel": "MOBILE_WEB",
  "merchantProductID": "Product602234",
  "subscriptionRecurringPeriodAmount": 1,
  "description": "Product Sold by Merchant2",
  "currency": "USD",
  "amount": 0.99,
  "purchaseOnNoActiveSubscription": false,
  "merchantSubscriptionIdList": "SEN1321453411974",
  "externalMerchantTransactionID": "SenchaTransId1321453411983",
  "transactionStatusCallbackUrl": "/payments/notify",
  "merchantApplicationID": "Payment123",
  "merchantCancelRedirectUrl": "http://127.0.0.1:5985/payments/cancel",
  "autoCommit": false,
  "subscriptionRecurringNumber": 1,
  "category": 1,
  "merchantFulfillmentRedirectUrl": "http://127.0.0.1:5985/payments/deliver"
}
Net::HTTP::Post: /1/payments/transactions?access_token=ba4488fa0ff383ae1321d6bd4f7959c5
request-header: accept-language => en-us,en;q=0.5
request-header: accept =>  application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 652
request-header: referer => https://api.att.com/1/messages/outbox/wapPush?access_token=ba4488fa0ff383ae1321d6bd4f7959c5
request-header: cookie => api.att.amdocshub.com=R3704863619
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-language => en-US
response-header: content-type => application/json; charset=UTF-8
response-header: server => Apache
response-header: date => Wed, 16 Nov 2011 14:23:32 GMT
response-header: content-length => 184
response-header: content-encoding => gzip
response-header: set-cookie => api.att.amdocshub.com=R3704863619; path=/
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 184 bytes (184 total)
gzip body
saved cookie: api.att.amdocshub.com=R3704863619
400 => Net::HTTPBadRequest
{
	"success": "false",
	"version": "1",
	"serviceError":
	{
		"faultCode":"PMT-0002",
		"faultDescription":"Invalid parameter",
		"faultMessage":"Parameter transactionStatusCallbackUrl has illegal value /payments/notify"
	}
}

NEXT TEST: payment_subscription_status 0
#<RuntimeError: No subscription Transaction ID>

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
adding to test queue, test = wap_push
adding to test queue, test = payment_new_json
adding to test queue, test = payment_status_json
adding to test queue, test = payment_refund_json
adding to test queue, test = payment_new_xml
adding to test queue, test = payment_new_subscription
adding to test queue, test = payment_subscription_status
Request:  https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: location => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
response-header: content-type => application/xml; charset=utf-8
response-header: x-runtime => 7
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 15:17:44 GMT
response-header: content-length => 35
response-header: set-cookie => 
response-header: status => 200
response-header: x-cnection => close
Read 35 bytes (35 total)
follow redirect to: https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
Net::HTTP::Get: /user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: referer => https://api.att.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=1f593d5094a3ddb7f8b093d672ef2095&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "08c32747627c40747bc51963447eafd9"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 889
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 15:17:45 GMT
response-header: content-length => 8482
response-header: set-cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYWNjYjJjMjI6ZWU%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; path=/, _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlMTU5ZmMwOGRlYjAzZDdiMjk3NTMwNDBmNzA5MjA4NzI%3D--1c576fcf7ff527355e801fd5b2a6c20dc64ff438; path=/; HttpOnly, BIGipServeruser_profile_443=470425516.47873.0000; path=/
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 8000 bytes (8000 total)
Read 482 bytes (8482 total)
saved cookie: sessionId=EUID%3DNWY2NWUwNTg6MTMzYWNjYjJjMjI6ZWU%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com
saved cookie: _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlMTU5ZmMwOGRlYjAzZDdiMjk3NTMwNDBmNzA5MjA4NzI%3D--1c576fcf7ff527355e801fd5b2a6c20dc64ff438
saved cookie: BIGipServeruser_profile_443=470425516.47873.0000
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Signin to AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">SignIn | SignUp</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script type="text/javascript">

function hideExistingUsers() {
    document.getElementById('existing_users').style.display = 'none';
    document.getElementById('new_users').style.display = 'block';
}

function hideNewUsers() {
    document.getElementById('new_users').style.display = 'none';
    document.getElementById('existing_users').style.display = 'block';
}

</script>
<form action="/login_create" id="login" method="post">
	<h3><a href="#" onclick="hideNewUsers()">Existing Users</a> <span class="vert" style="color:#e0e0e0;font-weight:normal;padding:0 20px;">|</span> <a href="#" onclick="hideExistingUsers()">New Users</a></h3>
  <!-- Begin Existing Users Form -->
  <div id="existing_users">
    <!--begin email address-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="email"><img src="/images/att_fi_email_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
				<label for="email">AT&amp;T ID  <span class="vert">/</span> Email</label>
        <div class="input-c">
          <input id="login_username" name="login[username]" size="30" type="text" />
        </div>
			</div>
		</div>
    <!--end email address-->
    <!-- begin password -->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="password"><img src="/images/att_fi_secmgr_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="password">Password <small><a href="/login_reset_password">Reset Password?</a></small></label>
        <div class="input-c">
          <input id="login_password" name="login[password]" onkeypress="return runScript(event)" size="30" type="password" />
        </div>
      </div>
    </div>
    <!-- end password -->
		<p style="text-align:center; margin-left:50px;color:green;"></p>
		<p style="text-align:center; margin-left:50px;color:red;"></p>
		<p style="text-align:center; margin-left:50px;">I accept the <a href="#">Terms</a> & <a href="#">Privacy Policy</a>.</p>
		<input id="login_redirect_url" name="login[redirect_url]" type="hidden" />
    <!--begin SIGNIN/Manage Profile Buttons -->
    <div class="button-group">
			<p>
        <a class="button ok" href="javascript:submit_login();">Sign In</a>
        <a class="button ok" href="javascript:submit_manage_consent();">Manage Consent</a>
      </p>
    </div>
    <!--end SIGNIN/Manage Profile Buttons -->
	</div>
  <!-- End Existing Users Form -->
	</form>
	<form action="/registration" id="first_signup" method="post">
  <!-- Begin Existing Users Form -->
  <div id="new_users" style="display:none;">
    <div class="message" style="font-size:small;">
      <p>Not a user yet? Sign up for your AT&amp;T ID.</p>
      <p>Enter your AT&amp;T wireless number below.</p>
    </div>
		<!--begin wireless number-->
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="phone"><img src="/images/att_fi_tchscrn_rgb_grd.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="phone">Wireless Number</label>
        <div class="input-c">
          <input id="login_phone" name="login[phone]" size="30" type="text" />
        </div>
      </div>
    </div>
		<input id="login_captcha_id" name="login[captcha_id]" type="hidden" value="10371198384615035" />
		<!--end wireless number-->
    <!--begin Captcha--><!-- Ideally, the captcha is not duplicated on the page in order to avoid unnecessary HTTP requests -->
    <div class="img-captcha">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABLAPoDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwAooooA
KKKKACiuCvvEPiDUvEV1pmieXGLcsDlVJO04JJbjr6Vd0r/hM/7Vgj1FkFpuzJJtjPA7fLzz0oA7
CiiigDL1LxFpWkXC299deVKyBwvls3GSM8A+hrQgnjubeK4hbdFKgdGxjIIyDzXmfxH/AORht/8A
r0X/ANDeuvstd0zSdA0tb28SJzaREJgs2Ng5wMmgDoaK5vUtWv8AUbKKXwtLBdNuIl5UFRjjhiMV
U8D67qGttqBvphIIvL2AIFxndnoPYUAdfRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAF
FFFABRRRQAUUUUAFY/iTT9S1LTo4dLu/ss6yhmfzGTK4IxlRnqR+VbFQ3N3bWcYkuriKBCdoaVwo
J9Mn6UAeS6VpWsXXiG9s7O/8m+i8zzpvOdd+HAb5gMnJwea2rvw94ts7Ke6k11ikMbSMFu5ckAZO
OPam+Gr+zg8d6vcTXcEcEnnbJHkAVsygjBPB45rqta1rSpdC1COPU7N3e2kVVWdSSSpwAM0AcNos
nivWo2hsr65MKsd00kpAUkDjd19OB/WtKwv9d8P+KbXTNTvGuY7hlUhpC4IY4BBPIwav/Dm6t10e
a2aeIXDXLMsRcbyNi8gdccH8qzfEt/Zz+O9IuIbuCSCPyd8iSAquJSTkjgcc0AV/iP8A8jDb/wDX
ov8A6G9bWkeC9OvfD0E94JJLu4hV1l8w/ICPlAHTgY65rB+IM8N1rlrNbyxyxNaLteNgyn53HUV6
JoP/ACL2mf8AXpF/6AKAPNfAdxJD4qgiViFmR0ceoClv5ijw5OYfD+uhL9LKZvI8uVnKnIZiQNvO
cA9Kq+D54bbxTZTXEscUS79zyMFUfIw5Jqz4U8NweIYtQEszxyQqgiK9NzbuT6/d/WgCxpFh4s1q
MywandxwD7ss1zIqv9OpP5Vva/4mutAsrPS4WE2p+QgmlOXAOMZGepJBPP8AWmeF/FSW7HSNWuYN
0PyxXQkBRlHYt06dD/WsXxSwtvF1trKFbizkeOWN42DK2zAZQRx/D+tAGjFofjW6UXL6qYXPPlvc
MD+SjbVfQb3Vz45js9UvZ96lg8XmEIxCHHA46AGuzg8T6JcW4mXUrZQRnbJIFYfgeaoWfifRL/xC
trbQh5nBxc+WBuYDpnr07+1AHS0UUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAVm
63oltr1klrdPKiJIJAYiAcgEdwfWtKigDj/+FcaP/wA/N9/32n/xNH/CuNH/AOfm+/77T/4muwoo
A5zSfBmnaPqCXtvNdNIgIAkdSORjsoql/wAK40f/AJ+b7/vtP/ia7CigDlZvAGlTxW8bXF4BBGY1
w68gszc/L6sa6S0tks7KC1jLFIY1jUt1IAwM/lU1FAHH/wDCuNH/AOfm+/77T/4mtjQvDdn4f+0f
ZJJ38/bu81gcbc4xgD1NbFFAHH/8K40f/n5vv++0/wDia3LfQNPg0WPSXjNxapnAmwTySc5AHPJ6
VqUUAcnJ8PNFeTcrXca/3FkGP1BP61uaXoenaPGVsrZUYjDOeWb6k1oUUAFFFFABRRRQAUUUUAFF
FFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUU
UAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQ
AUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAH/9k=
" alt="Captcha Image">
      <!-- left offset matches up with label below, so it's easy to read -->
    </div>
    <div class="clearfix">
      <div class="img-container alignleft">
        <label for="captcha"><img src="/images/att_fi_sec_rgb_sol_pos.png" alt="" height="50"></label>
      </div>
      <div class="fields-container">
        <label for="captcha">Type the word above</label>
        <div class="input-c" id="firstCol_b" style="right: 9px; top: 11px">
          <input id="login_captcha_phrase" name="login[captcha_phrase]" size="30" type="text" />
        </div>
      </div>
    </div>
		
    <!--end Captcha-->
    <div class="button-group" align="center">
      <a class="button ok" href="javascript:$('form#first_signup').submit();">Sign Up</a>
    </div>
  </div>
</div>
</form>
<script>

function runScript(e) {
    if (e.keyCode == 13) {
			submit_login();
      return false;
    }
		else {
			return true;
		}
}
</script>
<footer>
</footer>
</body>
</html>
8.7s (8.7s total) OK. Attempting to login...
form encoding: UTF-8
query: "login%5Busername%5D=jaisonw%40isoftstone.com&login%5Bpassword%5D=welcome1&login%5Bredirect_url%5D="
Net::HTTP::Post: /login_create
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 98
request-header: referer => https://auth-api.att.com/user/login?client_id=1f593d5094a3ddb7f8b093d672ef2095&scope=TL,DC,WAP,SMS,MMS,PAYMENT&redirect_url=http://127.0.0.1:5985/auth/callback
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYWNjYjJjMjI6ZWU%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BjoPc2Vzc2lvbl9pZCIlMTU5ZmMwOGRlYjAzZDdiMjk3NTMwNDBmNzA5MjA4NzI%3D--1c576fcf7ff527355e801fd5b2a6c20dc64ff438; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: etag => "d9faa0444343add87883086a9bb2a6f8"
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 1800
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 15:17:46 GMT
response-header: content-length => 4434
response-header: set-cookie => _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlMTU5ZmMwOGRlYjAzZDdiMjk3NTMwNDBmNzA5MjA4NzIiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--9fe716beab97263529d098f15f1758e7a1e20961; path=/; HttpOnly
response-header: x-cnection => close
response-header: status => 200
response-header: cache-control => private, max-age=0, must-revalidate
Read 4434 bytes (4434 total)
saved cookie: _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlMTU5ZmMwOGRlYjAzZDdiMjk3NTMwNDBmNzA5MjA4NzIiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--9fe716beab97263529d098f15f1758e7a1e20961
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Basic Consent Ask | AT&T</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon.png">
<link rel="stylesheet" href="/stylesheets/style.css" />
	<script src="/javascripts/prototype.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/effects.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/controls.js?1307085442" type="text/javascript"></script>
<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
	<script src="/javascripts/application.js?1314265451" type="text/javascript"></script>
<script src="/javascripts/jquery.js?1307085442" type="text/javascript"></script>
</head>
<body class="">
<header>
<h1 class="logo">Basic Consent Ask | AT&T</h1>
<img src="/images/att-logo.png" alt="" id="logo" height="43" width="92" />
</header>
	<script>
document.title = "Basic Consent Ask | AT&T";
document.body.childNodes[1].childNodes[1].innerHTML = "Basic Consent Ask | AT&T";
</script>
<form action="/consent_confirmation" id="consent_confirmation" method="post">
	<div class="message">
		<p><strong><span class="app_name">Sencha ATT API Poller</span> by <span class="dev_name">Jack Ratcliff</span></strong><br/>
is requesting permission to access the following:</p>
	</div>
	<!--begin Services List -->
	<div class="feature-list">
		<ul>
			
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Location - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the location of your device with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>Device Capabilities - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Share the device capability with the application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>WAP Push - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> Allow Sending WAP Message from the Application.
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>SMS messaging - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>MMS - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
				<li>
						<img class="feature-icon" src="/images/location-icon.png" alt="" height="38" width="33" />
						<p class="feature">
						<strong>PAYMENT - </strong>
						<strong class="app_name">Sencha ATT API Poller</strong> 
					</li>
			
		</ul>
	</div>
	<!--end Services List -->
	<input id="consent_consent_status" name="consent[consent_status]" type="hidden" />
	<!--begin directions content-->
	<div class="message">
		<p>Refer to <strong class="app_dev_name">Jack Ratcliff’s Privacy Policy</strong> for details on how this information may be used or shared. Click <em>ALLOW</em> below if you grant AT&amp;T permission to allow <em class="app_name">Sencha ATT API Poller</em> to access this information.</p>
		<p>
		To manage your permissions anytime, click <em>MANAGE PROFILE</em> on the AT&amp;T ID Sign In screen or visiting <a href="https://www.att.com/myprofile" class="link_url">https://www.att.com/myprofile</a>.</p>
	</div>
	<!--end directions content-->
	<!--begin accept/decline Buttons -->
	<div class="button-group">
		<p>
			<a class="button ok" href="javascript:submit_consent_confirmation_accept();">ALLOW</a>
			<a class="button ok" href="javascript:submit_consent_confirmation_decline();">DECLINE</a>
		</p>
	</div>
	<!--begin Accept/decline Buttons -->
</form>
<footer>
</footer>
</body>
</html>
2.1s (10.9s total) OK. Authorizing application...
form encoding: UTF-8
query: "consent%5Bconsent_status%5D=Accept"
Net::HTTP::Post: /consent_confirmation
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: content-type => application/x-www-form-urlencoded
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: content-length => 34
request-header: referer => https://auth-api.att.com/login_create
request-header: cookie => sessionId=EUID%3DNWY2NWUwNTg6MTMzYWNjYjJjMjI6ZWU%3D%3B+path%3D%2F%3Bdomain%3Dauth-api.att.com; _Consent_session=BAh7BzoPc2Vzc2lvbl9pZCIlMTU5ZmMwOGRlYjAzZDdiMjk3NTMwNDBmNzA5MjA4NzIiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BjoKZXJyb3IwBjoKQHVzZWR7BjsHRg%3D%3D--9fe716beab97263529d098f15f1758e7a1e20961; BIGipServeruser_profile_443=470425516.47873.0000
request-header: host => auth-api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPFound 1.1 302 Found
response-header: location => http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzM2FjZTFhMDRhOi01NTA4
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => text/html; charset=utf-8
response-header: x-runtime => 354
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 15:17:48 GMT
response-header: content-length => 143
response-header: x-cnection => close
response-header: status => 302
response-header: cache-control => no-cache
Read 143 bytes (143 total)
Authorization key: LTE2MjkxNzcxOjEzM2FjZTFhMDRhOi01NTA4
<html><body>You are being <a href="http://127.0.0.1:5985/auth/callback?code=LTE2MjkxNzcxOjEzM2FjZTFhMDRhOi01NTA4">redirected</a>.</body></html>
0.6s (11.4s total) OK. Swapping response code for access_token...
Request:  https://api.att.com/oauth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2FjZTFhMDRhOi01NTA4 ...
Net::HTTP::Get: /opage...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=cddc0328b4c56103f8febb0194df7fd8&type=web_server&redirect_uri=http://localhost.org:4567/auth/callback
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: connection => close
response-header: via => 1.1 attcompute.com
response-header: content-type => application/json
response-header: x-runtime => 4
response-header: date => Wed, 16 Nov 2011 15:17:20 GMT
response-header: content-length => 28
response-header: set-cookie => 
response-header: status => 500 Internal Server Error
response-header: cache-control => no-cache
Read 0 bytes (0 total)
Read 28 bytes (28 total)
400 => Net::HTTPBadRequest

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 1auth/access_token?client_id=1f593d5094a3ddb7f8b093d672ef2095&client_secret=ae2cb44634ce2534&redirect_uri=http://127.0.0.1:5985/auth/callback&code=LTE2MjkxNzcxOjEzM2FjZTFhMDRhOi01NTA4
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPOK 1.1 200 OK
response-header: x-powered-by => Phusion Passenger (mod_rails/mod_rack) 2.2.11
response-header: content-type => application/json
response-header: x-runtime => 105
response-header: server => Apache/2.2.3 (CentOS)
response-header: date => Wed, 16 Nov 2011 15:17:49 GMT
response-header: content-length => 138
response-header: status => 200
Read 138 bytes (138 total)
{
  "expires_in": "21599999",
  "refresh_token": "83ed8ca29a860e97c54e2c5c526d019a78e03984",
  "access_token": "867c23de9a416e1d4248e758dc2a154b"
}
ACCESS TOKEN: 867c23de9a416e1d4248e758dc2a154b
Refresh TOKEN: 83ed8ca29a860e97c54e2c5c526d019a78e03984
1.1s (12.5s total) OK. Access token: 83ed8ca29a860e97c54e2c5c526d019a78e03984...

NEXT TEST: device_info_json 22
3.0s (15.6s total) OK. Requesting device info for 4259193428 (json)...
https://api.att.com/1/devices/tel:4259193428/info?access_token=867c23de9a416e1d4248e758dc2a154b
Request: : https://api.att.com/1/devices/tel:4259193428/info?access_token=867c23de9a416e1d4248e758dc2a154b
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=867c23de9a416e1d4248e758dc2a154b
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPBadRequest 1.1 400 Bad Request
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 181
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 181 bytes (181 total)
400 => Net::HTTPBadRequest
{"requestError": {

    "serviceException": {

        "messageId": "SVC0002",

        "text": "Invalid input value for message part %1" ,

        "variables" : "address"    }

}}

NEXT TEST: device_info_json_error 21
4.7s (20.2s total) OK. Requesting device info for 123 (json)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=867c23de9a416e1d4248e758dc2a154b
Net::HTTP::Get: /1/devices/tel:123/info?access_token=867c23de9a416e1d4248e758dc2a154b
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/json
request-header: content-type => application/json
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPInternalServerError 1.1 500 Internal Server Error
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/json
response-header: content-length => 169
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 169 bytes (169 total)
500 => Net::HTTPInternalServerError
{"requestError": {

    "serviceException": {

        "messageId": "SVC0001",

        "text": "Internal platform error occurred " ,

        "variables" : " "    }

}}
122.3s (142.6s total) OK. Got device info...

NEXT TEST: device_info_xml 20
3.1s (145.7s total) OK. Requesting device info for 4259193428 (xml)...
Request: : https://api.att.com/1/devi
== Sinatra has ended his set (crowd applauds)
ces/tel:4259193428/info?access_token=867c23de9a416e1d4248e758dc2a154b
Net::HTTP::Get: /1/devices/tel:4259193428/info?access_token=867c23de9a416e1d4248e758dc2a154b
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
status: Net::HTTPInternalServerError 1.1 500 Internal Server Error
response-header: access-control-allow-methods => POST, GET, OPTIONS
response-header: access-control-allow-origin => *
response-header: content-type => application/xml; charset=UTF-8
response-header: content-length => 185
response-header: access-control-max-age => 3600
response-header: x-cnection => close
Read 185 bytes (185 total)
500 => Net::HTTPInternalServerError
<RequestError>
<ServiceException>
    <MessageId>SVC0001</MessageId>
    <Text>Internal platform error occurred </Text>
    <Variables>  </Variables>
</ServiceException>
</RequestError>

NEXT TEST: device_info_xml_error 19
124.6s (270.3s total) OK. Requesting device info for 123 (xml)...
Request: : https://api.att.com/1/devices/tel:123/info?access_token=867c23de9a416e1d4248e758dc2a154b
Net::HTTP::Get: /1/devices/tel:123/info?access_token=867c23de9a416e1d4248e758dc2a154b
request-header: accept-language => en-us,en;q=0.5
request-header: accept => application/xml
request-header: content-type => application/xml
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p249 (http://github.com/tenderlove/mechanize/)
request-header: accept-encoding => gzip,deflate,identity
request-header: host => api.att.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7

== Sinatra has ended his set (crowd applauds)
[2011-11-16 09:22:08] INFO  going to shutdown ...
[2011-11-16 09:22:08] INFO  WEBrick::HTTPServer#start done.
1

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0
== Sinatra/1.3.1 has taken the stage on 5985 for development with backup from Mongrel
127.0.0.1 - - [16/Jan/2013 22:21:33] "GET / HTTP/1.1" 404 436 0.0076
127.0.0.1 - - [16/Jan/2013 22:21:33] "GET /__sinatra__/404.png HTTP/1.1" 200 23305 0.0376
127.0.0.1 - - [16/Jan/2013 22:21:33] "GET /favicon.ico HTTP/1.1" 404 447 0.0011
127.0.0.1 - - [16/Jan/2013 22:21:40] "GET / HTTP/1.1" 404 436 0.0010
NameError - undefined local variable or method `tests' for #<Sinatra::Application:0x1024c0150>:
	test.rb:121:in `GET /status'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:1211:in `call'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:1211:in `compile!'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:772:in `[]'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:772:in `route!'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:788:in `route_eval'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:772:in `route!'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:821:in `process_route'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:819:in `catch'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:819:in `process_route'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:771:in `route!'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:770:in `each'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:770:in `route!'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:886:in `dispatch!'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:706:in `call!'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:871:in `invoke'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:871:in `catch'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:871:in `invoke'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:706:in `call!'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:692:in `call'
	/Library/Ruby/Gems/1.8/gems/rack-protection-1.1.4/lib/rack/protection/xss_header.rb:22:in `call'
	/Library/Ruby/Gems/1.8/gems/rack-protection-1.1.4/lib/rack/protection/path_traversal.rb:16:in `call'
	/Library/Ruby/Gems/1.8/gems/rack-protection-1.1.4/lib/rack/protection/json_csrf.rb:17:in `call'
	/Library/Ruby/Gems/1.8/gems/rack-protection-1.1.4/lib/rack/protection/base.rb:47:in `call'
	/Library/Ruby/Gems/1.8/gems/rack-protection-1.1.4/lib/rack/protection/xss_header.rb:22:in `call'
	/Library/Ruby/Gems/1.8/gems/rack-1.3.5/lib/rack/logger.rb:15:in `call'
	/Library/Ruby/Gems/1.8/gems/rack-1.3.5/lib/rack/commonlogger.rb:20:in `call'
	/Library/Ruby/Gems/1.8/gems/rack-1.3.5/lib/rack/head.rb:9:in `call'
	/Library/Ruby/Gems/1.8/gems/rack-1.3.5/lib/rack/methodoverride.rb:24:in `call'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/showexceptions.rb:21:in `call'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:1334:in `call'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:1403:in `synchronize'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:1334:in `call'
	/Library/Ruby/Gems/1.8/gems/rack-1.3.5/lib/rack/handler/mongrel.rb:77:in `process'
	/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
	/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
	/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
	/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
	/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
	/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
	/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
	/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
	/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
	/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
	/Library/Ruby/Gems/1.8/gems/rack-1.3.5/lib/rack/handler/mongrel.rb:38:in `run'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/base.rb:1295:in `run!'
	/Library/Ruby/Gems/1.8/gems/sinatra-1.3.1/lib/sinatra/main.rb:25
	test.rb:371
127.0.0.1 - - [16/Jan/2013 22:21:56] "GET /__sinatra__/500.png HTTP/1.1" 200 31056 0.0221
127.0.0.1 - - [16/Jan/2013 22:22:01] "GET /oauth HTTP/1.1" 404 441 0.0016
127.0.0.1 - - [16/Jan/2013 22:22:07] "GET /index.html HTTP/1.1" 200 707 0.0013
127.0.0.1 - - [16/Jan/2013 22:22:07] "GET /resources/css/site.css HTTP/1.1" 200 465 0.0041
127.0.0.1 - - [16/Jan/2013 22:22:07] "GET /app/config.js HTTP/1.1" 200 484 0.0031
127.0.0.1 - - [16/Jan/2013 22:22:07] "GET /app/Application.js HTTP/1.1" 200 611 0.0025
127.0.0.1 - - [16/Jan/2013 22:22:07] "GET /lib/ext-4.0.6/resources/css/ext-all.css HTTP/1.1" 200 229603 0.0379
127.0.0.1 - - [16/Jan/2013 22:22:07] "GET /lib/ext-4.0.6/ext-all.js HTTP/1.1" 200 1085782 0.0599
127.0.0.1 - - [16/Jan/2013 22:22:10] "GET /app/view/Viewport.js?_dc=1358396530353 HTTP/1.1" 200 2081 0.0061
127.0.0.1 - - [16/Jan/2013 22:22:10] "GET /app/controller/Status.js?_dc=1358396530355 HTTP/1.1" 200 2834 0.0052
127.0.0.1 - - [16/Jan/2013 22:22:10] "GET /app/controller/Oauth.js?_dc=1358396530357 HTTP/1.1" 200 3662 0.0028
127.0.0.1 - - [16/Jan/2013 22:22:10] "GET /app/controller/History.js?_dc=1358396530356 HTTP/1.1" 200 6057 0.0048
127.0.0.1 - - [16/Jan/2013 22:22:10] "GET /app/view/status/Grid.js?_dc=1358396530393 HTTP/1.1" 200 2059 0.0048
127.0.0.1 - - [16/Jan/2013 22:22:10] "GET /app/controller/Base.js?_dc=1358396530401 HTTP/1.1" 200 1078 0.0026
127.0.0.1 - - [16/Jan/2013 22:22:10] "GET /app/view/summary/SummaryPanel.js?_dc=1358396530395 HTTP/1.1" 200 2494 0.0039
127.0.0.1 - - [16/Jan/2013 22:22:10] "GET /app/model/Test.js?_dc=1358396530447 HTTP/1.1" 200 156 0.0078
127.0.0.1 - - [16/Jan/2013 22:22:10] "GET /app/store/Tests.js?_dc=1358396530449 HTTP/1.1" 200 370 0.0073
127.0.0.1 - - [16/Jan/2013 22:22:10] "GET /app/model/Summary.js?_dc=1358396530448 HTTP/1.1" 200 1209 0.0086
127.0.0.1 - - [16/Jan/2013 22:22:10] "GET /app/model/AllApiResponseTime.js?_dc=1358396530450 HTTP/1.1" 200 337 0.0079
127.0.0.1 - - [16/Jan/2013 22:22:10] "GET /app/model/LogEntry.js?_dc=1358396530452 HTTP/1.1" 200 383 0.0081
127.0.0.1 - - [16/Jan/2013 22:22:10] "GET /app/view/history/ChartPanel.js?_dc=1358396530453 HTTP/1.1" 200 2807 0.0128
127.0.0.1 - - [16/Jan/2013 22:22:10] "GET /app/store/AllApiTests.js?_dc=1358396530455 HTTP/1.1" 200 524 0.0088
127.0.0.1 - - [16/Jan/2013 22:22:10] "GET /app/view/history/LineChart.js?_dc=1358396530453 HTTP/1.1" 200 2856 0.0125
127.0.0.1 - - [16/Jan/2013 22:22:10] "GET /app/store/LogEntries.js?_dc=1358396530456 HTTP/1.1" 200 120 0.0085
127.0.0.1 - - [16/Jan/2013 22:22:10] "GET /app/view/history/Grid.js?_dc=1358396530454 HTTP/1.1" 200 2020 0.0117
127.0.0.1 - - [16/Jan/2013 22:22:10] "GET /app/model/OauthApiResponseTime.js?_dc=1358396530457 HTTP/1.1" 200 1166 0.0104
127.0.0.1 - - [16/Jan/2013 22:22:10] "GET /app/view/oauth/BarStackedChart.js?_dc=1358396530458 HTTP/1.1" 200 1242 0.0105
127.0.0.1 - - [16/Jan/2013 22:22:10] "GET /app/view/oauth/BarUnstackedChart.js?_dc=1358396530459 HTTP/1.1" 200 1305 0.0105
127.0.0.1 - - [16/Jan/2013 22:22:10] "GET /app/view/oauth/ColumnStackedChart.js?_dc=1358396530461 HTTP/1.1" 200 1325 0.0085
127.0.0.1 - - [16/Jan/2013 22:22:10] "GET /app/view/oauth/ChartPanel.js?_dc=1358396530460 HTTP/1.1" 200 1582 0.0109
127.0.0.1 - - [16/Jan/2013 22:22:10] "GET /app/view/oauth/ColumnUnstackedChart.js?_dc=1358396530462 HTTP/1.1" 200 1409 0.0076
127.0.0.1 - - [16/Jan/2013 22:22:10] "GET /app/store/OauthApiTests.js?_dc=1358396530463 HTTP/1.1" 200 277 0.0045
127.0.0.1 - - [16/Jan/2013 22:22:10] "GET /app/store/ChartChoices.js?_dc=1358396530464 HTTP/1.1" 200 460 0.0032
127.0.0.1 - - [16/Jan/2013 22:22:10] "GET /app/view/oauth/LineChart.js?_dc=1358396530463 HTTP/1.1" 200 2857 0.0066
127.0.0.1 - - [16/Jan/2013 22:22:10] "GET /app/view/history/AbstractChart.js?_dc=1358396530563 HTTP/1.1" 200 630 0.0028
127.0.0.1 - - [16/Jan/2013 22:22:10] "GET /app/view/oauth/AbstractChart.js?_dc=1358396530611 HTTP/1.1" 200 1145 0.0017
127.0.0.1 - - [16/Jan/2013 22:22:10] "GET /app/model/ChartChoice.js?_dc=1358396530661 HTTP/1.1" 200 240 0.0014
127.0.0.1 - - [16/Jan/2013 22:22:11] "GET /lib/ext-4.0.6/resources/themes/images/default/dd/drop-no.gif HTTP/1.1" 200 949 0.0012
127.0.0.1 - - [16/Jan/2013 22:22:11] "GET /lib/ext-4.0.6/resources/themes/images/default/tools/tool-sprites.gif HTTP/1.1" 200 5421 0.0025
127.0.0.1 - - [16/Jan/2013 22:22:11] "GET /lib/ext-4.0.6/resources/themes/images/default/util/splitter/mini-left.gif HTTP/1.1" 200 871 0.0013
127.0.0.1 - - [16/Jan/2013 22:22:11] "GET /lib/ext-4.0.6/resources/themes/images/default/form/text-bg.gif HTTP/1.1" 200 819 0.0009
127.0.0.1 - - [16/Jan/2013 22:22:11] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/loading.gif HTTP/1.1" 200 771 0.0906
127.0.0.1 - - [16/Jan/2013 22:22:11] "GET /status_summary?_dc=1358396531408 HTTP/1.1" 200 383 0.0020
127.0.0.1 - - [16/Jan/2013 22:22:11] "GET /status_data?_dc=1358396531397&page=1&start=0&limit=25 HTTP/1.1" 200 1597 0.0897
127.0.0.1 - - [16/Jan/2013 22:22:16] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/page-first-disabled.gif HTTP/1.1" 200 925 0.0061
127.0.0.1 - - [16/Jan/2013 22:22:16] "GET /lib/ext-4.0.6/resources/themes/images/default/form/trigger.gif HTTP/1.1" 200 1816 0.0501
127.0.0.1 - - [16/Jan/2013 22:22:16] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/page-prev-disabled.gif HTTP/1.1" 200 879 0.0071
127.0.0.1 - - [16/Jan/2013 22:22:16] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/page-next-disabled.gif HTTP/1.1" 200 875 0.0075
127.0.0.1 - - [16/Jan/2013 22:22:16] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/page-last-disabled.gif HTTP/1.1" 200 923 0.0501
127.0.0.1 - - [16/Jan/2013 22:22:16] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/refresh.gif HTTP/1.1" 200 977 0.0624
127.0.0.1 - - [16/Jan/2013 22:22:16] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/page-last.gif HTTP/1.1" 200 923 0.0777
127.0.0.1 - - [16/Jan/2013 22:22:16] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/page-next.gif HTTP/1.1" 200 875 0.0398
127.0.0.1 - - [16/Jan/2013 22:22:16] "GET /history_oauth_data_paged?_dc=1358396536667&start=0&limit=0&testName=&page=1&sort=%5B%7B%22property%22%3A%22start_date%22%2C%22direction%22%3A%22DESC%22%7D%5D HTTP/1.1" 200 24 0.0888
127.0.0.1 - - [16/Jan/2013 22:22:16] "GET /history_oauth_data_paged?_dc=1358396536794&testName=&page=1&start=0&limit=20&sort=%5B%7B%22property%22%3A%22start_date%22%2C%22direction%22%3A%22DESC%22%7D%5D HTTP/1.1" 200 1481 0.0873
127.0.0.1 - - [16/Jan/2013 22:22:17] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/page-prev.gif HTTP/1.1" 200 879 0.0050
127.0.0.1 - - [16/Jan/2013 22:22:17] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/page-first.gif HTTP/1.1" 200 925 0.0072
127.0.0.1 - - [16/Jan/2013 22:22:17] "GET /history_oauth_data_paged?_dc=1358396537056&testName=&page=5&start=80&limit=20&sort=%5B%7B%22property%22%3A%22start_date%22%2C%22direction%22%3A%22DESC%22%7D%5D HTTP/1.1" 200 241 0.0097
127.0.0.1 - - [16/Jan/2013 22:22:22] "GET /history_oauth_data_paged?_dc=1358396542682&testName=&page=4&start=60&limit=20&sort=%5B%7B%22property%22%3A%22start_date%22%2C%22direction%22%3A%22DESC%22%7D%5D HTTP/1.1" 200 1441 0.0078
127.0.0.1 - - [16/Jan/2013 22:22:23] "GET /history_oauth_data_paged?_dc=1358396543707&testName=&page=3&start=40&limit=20&sort=%5B%7B%22property%22%3A%22start_date%22%2C%22direction%22%3A%22DESC%22%7D%5D HTTP/1.1" 200 1463 0.0067
127.0.0.1 - - [16/Jan/2013 22:22:24] "GET /history_oauth_data_paged?_dc=1358396544548&testName=&page=2&start=20&limit=20&sort=%5B%7B%22property%22%3A%22start_date%22%2C%22direction%22%3A%22DESC%22%7D%5D HTTP/1.1" 200 1496 0.0070
127.0.0.1 - - [16/Jan/2013 22:22:25] "GET /history_oauth_data_paged?_dc=1358396545381&testName=&page=1&start=0&limit=20&sort=%5B%7B%22property%22%3A%22start_date%22%2C%22direction%22%3A%22DESC%22%7D%5D HTTP/1.1" 200 1481 0.0061
127.0.0.1 - - [16/Jan/2013 22:22:37] "GET /history_oauth_data_paged?_dc=1358396557138&testName=&page=2&start=20&limit=20&sort=%5B%7B%22property%22%3A%22start_date%22%2C%22direction%22%3A%22DESC%22%7D%5D HTTP/1.1" 200 1496 0.0075
127.0.0.1 - - [16/Jan/2013 22:22:38] "GET /history_oauth_data_paged?_dc=1358396558207&testName=&page=3&start=40&limit=20&sort=%5B%7B%22property%22%3A%22start_date%22%2C%22direction%22%3A%22DESC%22%7D%5D HTTP/1.1" 200 1463 0.0099
127.0.0.1 - - [16/Jan/2013 22:22:39] "GET /history_oauth_data_paged?_dc=1358396559444&testName=&page=4&start=60&limit=20&sort=%5B%7B%22property%22%3A%22start_date%22%2C%22direction%22%3A%22DESC%22%7D%5D HTTP/1.1" 200 1441 0.0075
127.0.0.1 - - [16/Jan/2013 22:23:01] "GET /history_oauth_data_paged?_dc=1358396581112&testName=&page=4&start=60&limit=20&sort=%5B%7B%22property%22%3A%22start_date%22%2C%22direction%22%3A%22DESC%22%7D%5D HTTP/1.1" 200 1441 0.0095
127.0.0.1 - - [16/Jan/2013 22:23:05] "GET /lib/ext-4.0.6/resources/themes/images/default/util/splitter/mini-right.gif HTTP/1.1" 200 872 0.0013
127.0.0.1 - - [16/Jan/2013 22:32:44] "GET /history_oauth_data_paged?_dc=1358397164714&testName=&page=4&start=60&limit=20&sort=%5B%7B%22property%22%3A%22start_date%22%2C%22direction%22%3A%22DESC%22%7D%5D HTTP/1.1" 200 1441 0.0071
127.0.0.1 - - [16/Jan/2013 22:32:49] "GET /lib/ext-4.0.6/resources/themes/images/default/tab/tab-default-close.gif HTTP/1.1" 200 896 0.0031
127.0.0.1 - - [16/Jan/2013 22:32:49] "GET /lib/ext-4.0.6/resources/themes/images/default/util/splitter/mini-bottom.gif HTTP/1.1" 200 856 0.0020
127.0.0.1 - - [16/Jan/2013 22:32:49] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/sort_desc.gif HTTP/1.1" 200 833 0.0057
127.0.0.1 - - [16/Jan/2013 22:32:49] "GET /history_data_paged?_dc=1358397169133&start=0&limit=0&testName=device_info_xml_error&page=1 HTTP/1.1" 200 25 0.0049
127.0.0.1 - - [16/Jan/2013 22:32:49] "GET /history_data_paged?_dc=1358397169256&testName=device_info_xml_error&page=1&start=0&limit=20 HTTP/1.1" 200 566 0.0037
127.0.0.1 - - [16/Jan/2013 22:32:49] "GET /history_data_paged?_dc=1358397169363&testName=device_info_xml_error&page=7&start=120&limit=20 HTTP/1.1" 200 320 0.0021
127.0.0.1 - - [16/Jan/2013 22:32:52] "GET /history_data_paged?_dc=1358397172317&start=0&limit=0&testName=device_location_json_error&page=1 HTTP/1.1" 200 25 0.0016
127.0.0.1 - - [16/Jan/2013 22:32:52] "GET /history_data_paged?_dc=1358397172432&testName=device_location_json_error&page=1&start=0&limit=20 HTTP/1.1" 200 563 0.0023
127.0.0.1 - - [16/Jan/2013 22:32:52] "GET /history_data_paged?_dc=1358397172509&testName=device_location_json_error&page=7&start=120&limit=20 HTTP/1.1" 200 321 0.0020
127.0.0.1 - - [16/Jan/2013 22:32:54] "GET /history_data_paged?_dc=1358397174755&start=0&limit=0&testName=device_location_jsonp_error&page=1 HTTP/1.1" 200 25 0.0043
127.0.0.1 - - [16/Jan/2013 22:32:54] "GET /history_data_paged?_dc=1358397174866&testName=device_location_jsonp_error&page=1&start=0&limit=20 HTTP/1.1" 200 564 0.0033
127.0.0.1 - - [16/Jan/2013 22:32:55] "GET /history_data_paged?_dc=1358397174903&testName=device_location_jsonp_error&page=7&start=120&limit=20 HTTP/1.1" 200 321 0.0020
127.0.0.1 - - [16/Jan/2013 22:35:07] "GET /index.html HTTP/1.1" 200 707 0.0010
127.0.0.1 - - [16/Jan/2013 22:35:07] "GET /resources/css/site.css HTTP/1.1" 200 465 0.0038
127.0.0.1 - - [16/Jan/2013 22:35:07] "GET /app/config.js HTTP/1.1" 200 484 0.0029
127.0.0.1 - - [16/Jan/2013 22:35:07] "GET /app/Application.js HTTP/1.1" 200 611 0.0025
127.0.0.1 - - [16/Jan/2013 22:35:07] "GET /lib/ext-4.0.6/resources/css/ext-all.css HTTP/1.1" 200 229603 0.0378
127.0.0.1 - - [16/Jan/2013 22:35:07] "GET /lib/ext-4.0.6/ext-all.js HTTP/1.1" 200 1085782 0.1057
127.0.0.1 - - [16/Jan/2013 22:35:10] "GET /app/view/Viewport.js?_dc=1358397310793 HTTP/1.1" 200 2081 0.0049
127.0.0.1 - - [16/Jan/2013 22:35:10] "GET /app/controller/Status.js?_dc=1358397310795 HTTP/1.1" 200 2834 0.0044
127.0.0.1 - - [16/Jan/2013 22:35:10] "GET /app/controller/Oauth.js?_dc=1358397310797 HTTP/1.1" 200 3662 0.0025
127.0.0.1 - - [16/Jan/2013 22:35:10] "GET /app/controller/History.js?_dc=1358397310796 HTTP/1.1" 200 6057 0.0040
127.0.0.1 - - [16/Jan/2013 22:35:10] "GET /app/view/status/Grid.js?_dc=1358397310831 HTTP/1.1" 200 2059 0.0033
127.0.0.1 - - [16/Jan/2013 22:35:10] "GET /app/controller/Base.js?_dc=1358397310844 HTTP/1.1" 200 1078 0.0018
127.0.0.1 - - [16/Jan/2013 22:35:10] "GET /app/view/summary/SummaryPanel.js?_dc=1358397310833 HTTP/1.1" 200 2494 0.0028
127.0.0.1 - - [16/Jan/2013 22:35:10] "GET /app/model/Test.js?_dc=1358397310891 HTTP/1.1" 200 156 0.0077
127.0.0.1 - - [16/Jan/2013 22:35:10] "GET /app/store/Tests.js?_dc=1358397310894 HTTP/1.1" 200 370 0.0073
127.0.0.1 - - [16/Jan/2013 22:35:10] "GET /app/model/Summary.js?_dc=1358397310892 HTTP/1.1" 200 1209 0.0085
127.0.0.1 - - [16/Jan/2013 22:35:10] "GET /app/model/AllApiResponseTime.js?_dc=1358397310895 HTTP/1.1" 200 337 0.0079
127.0.0.1 - - [16/Jan/2013 22:35:10] "GET /app/model/LogEntry.js?_dc=1358397310897 HTTP/1.1" 200 383 0.0082
127.0.0.1 - - [16/Jan/2013 22:35:10] "GET /app/view/history/ChartPanel.js?_dc=1358397310898 HTTP/1.1" 200 2807 0.0118
127.0.0.1 - - [16/Jan/2013 22:35:10] "GET /app/store/AllApiTests.js?_dc=1358397310901 HTTP/1.1" 200 524 0.0070
127.0.0.1 - - [16/Jan/2013 22:35:10] "GET /app/view/history/Grid.js?_dc=1358397310900 HTTP/1.1" 200 2020 0.0088
127.0.0.1 - - [16/Jan/2013 22:35:10] "GET /app/store/LogEntries.js?_dc=1358397310902 HTTP/1.1" 200 120 0.0058
127.0.0.1 - - [16/Jan/2013 22:35:10] "GET /app/view/history/LineChart.js?_dc=1358397310899 HTTP/1.1" 200 2856 0.0111
127.0.0.1 - - [16/Jan/2013 22:35:10] "GET /app/model/OauthApiResponseTime.js?_dc=1358397310904 HTTP/1.1" 200 1166 0.0075
127.0.0.1 - - [16/Jan/2013 22:35:10] "GET /app/view/oauth/BarStackedChart.js?_dc=1358397310905 HTTP/1.1" 200 1242 0.0076
127.0.0.1 - - [16/Jan/2013 22:35:10] "GET /app/view/oauth/BarUnstackedChart.js?_dc=1358397310906 HTTP/1.1" 200 1305 0.0086
127.0.0.1 - - [16/Jan/2013 22:35:10] "GET /app/view/oauth/ColumnStackedChart.js?_dc=1358397310908 HTTP/1.1" 200 1325 0.0078
127.0.0.1 - - [16/Jan/2013 22:35:10] "GET /app/view/oauth/ChartPanel.js?_dc=1358397310907 HTTP/1.1" 200 1582 0.0093
127.0.0.1 - - [16/Jan/2013 22:35:10] "GET /app/view/oauth/ColumnUnstackedChart.js?_dc=1358397310909 HTTP/1.1" 200 1409 0.0068
127.0.0.1 - - [16/Jan/2013 22:35:10] "GET /app/store/OauthApiTests.js?_dc=1358397310911 HTTP/1.1" 200 277 0.0044
127.0.0.1 - - [16/Jan/2013 22:35:10] "GET /app/store/ChartChoices.js?_dc=1358397310912 HTTP/1.1" 200 460 0.0029
127.0.0.1 - - [16/Jan/2013 22:35:10] "GET /app/view/oauth/LineChart.js?_dc=1358397310910 HTTP/1.1" 200 2857 0.0061
127.0.0.1 - - [16/Jan/2013 22:35:11] "GET /app/view/history/AbstractChart.js?_dc=1358397311062 HTTP/1.1" 200 630 0.0031
127.0.0.1 - - [16/Jan/2013 22:35:11] "GET /app/model/ChartChoice.js?_dc=1358397311159 HTTP/1.1" 200 240 0.0018
127.0.0.1 - - [16/Jan/2013 22:35:11] "GET /app/view/oauth/AbstractChart.js?_dc=1358397311111 HTTP/1.1" 200 1145 0.0027
127.0.0.1 - - [16/Jan/2013 22:35:12] "GET /lib/ext-4.0.6/resources/themes/images/default/tools/tool-sprites.gif HTTP/1.1" 200 5421 0.0014
127.0.0.1 - - [16/Jan/2013 22:35:12] "GET /lib/ext-4.0.6/resources/themes/images/default/dd/drop-no.gif HTTP/1.1" 200 949 0.0013
127.0.0.1 - - [16/Jan/2013 22:35:12] "GET /lib/ext-4.0.6/resources/themes/images/default/util/splitter/mini-left.gif HTTP/1.1" 200 871 0.0010
127.0.0.1 - - [16/Jan/2013 22:35:12] "GET /lib/ext-4.0.6/resources/themes/images/default/form/text-bg.gif HTTP/1.1" 200 819 0.0011
127.0.0.1 - - [16/Jan/2013 22:35:12] "GET /status_data?_dc=1358397312082&page=1&start=0&limit=25 HTTP/1.1" 200 1597 0.0066
127.0.0.1 - - [16/Jan/2013 22:35:12] "GET /status_summary?_dc=1358397312096 HTTP/1.1" 200 383 0.0019
127.0.0.1 - - [16/Jan/2013 22:35:12] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/loading.gif HTTP/1.1" 200 771 0.0030
127.0.0.1 - - [16/Jan/2013 22:35:21] "GET /lib/ext-4.0.6/resources/themes/images/default/form/trigger.gif HTTP/1.1" 200 1816 0.0015
127.0.0.1 - - [16/Jan/2013 22:35:21] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/page-first-disabled.gif HTTP/1.1" 200 925 0.0056
127.0.0.1 - - [16/Jan/2013 22:35:21] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/page-prev-disabled.gif HTTP/1.1" 200 879 0.0058
127.0.0.1 - - [16/Jan/2013 22:35:21] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/page-next-disabled.gif HTTP/1.1" 200 875 0.0062
127.0.0.1 - - [16/Jan/2013 22:35:21] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/page-last-disabled.gif HTTP/1.1" 200 923 0.0083
127.0.0.1 - - [16/Jan/2013 22:35:21] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/refresh.gif HTTP/1.1" 200 977 0.0078
127.0.0.1 - - [16/Jan/2013 22:35:21] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/page-last.gif HTTP/1.1" 200 923 0.0086
127.0.0.1 - - [16/Jan/2013 22:35:21] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/page-next.gif HTTP/1.1" 200 875 0.0084
127.0.0.1 - - [16/Jan/2013 22:35:21] "GET /history_oauth_data_paged?_dc=1358397321257&start=0&limit=0&testName=&page=1&sort=%5B%7B%22property%22%3A%22start_date%22%2C%22direction%22%3A%22DESC%22%7D%5D HTTP/1.1" 200 24 0.0200
127.0.0.1 - - [16/Jan/2013 22:35:21] "GET /history_oauth_data_paged?_dc=1358397321430&testName=&page=1&start=0&limit=20&sort=%5B%7B%22property%22%3A%22start_date%22%2C%22direction%22%3A%22DESC%22%7D%5D HTTP/1.1" 200 1481 0.0188
127.0.0.1 - - [16/Jan/2013 22:35:22] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/page-prev.gif HTTP/1.1" 200 879 0.0072
127.0.0.1 - - [16/Jan/2013 22:35:22] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/page-first.gif HTTP/1.1" 200 925 0.0057
127.0.0.1 - - [16/Jan/2013 22:35:22] "GET /history_oauth_data_paged?_dc=1358397321723&testName=&page=5&start=80&limit=20&sort=%5B%7B%22property%22%3A%22start_date%22%2C%22direction%22%3A%22DESC%22%7D%5D HTTP/1.1" 200 241 0.0091
127.0.0.1 - - [16/Jan/2013 22:35:31] "GET /lib/ext-4.0.6/resources/themes/images/default/tab/tab-default-close.gif HTTP/1.1" 200 896 0.0027
127.0.0.1 - - [16/Jan/2013 22:35:31] "GET /lib/ext-4.0.6/resources/themes/images/default/util/splitter/mini-bottom.gif HTTP/1.1" 200 856 0.0017
127.0.0.1 - - [16/Jan/2013 22:35:31] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/sort_desc.gif HTTP/1.1" 200 833 0.0013
127.0.0.1 - - [16/Jan/2013 22:35:31] "GET /history_data_paged?_dc=1358397331692&start=0&limit=0&testName=v2mms_status&page=1 HTTP/1.1" 200 24 0.0013
127.0.0.1 - - [16/Jan/2013 22:35:31] "GET /history_data_paged?_dc=1358397331852&testName=v2mms_status&page=1&start=0&limit=20 HTTP/1.1" 200 563 0.0026
127.0.0.1 - - [16/Jan/2013 22:35:32] "GET /history_data_paged?_dc=1358397332101&testName=v2mms_status&page=4&start=60&limit=20 HTTP/1.1" 200 185 0.0014
127.0.0.1 - - [16/Jan/2013 22:35:35] "GET /log_data?_dc=1358397334793&ts=1321445057&page=1&start=0&limit=25 HTTP/1.1" 200 19066 0.3539
127.0.0.1 - - [16/Jan/2013 22:35:36] "GET /log_data?_dc=1358397336161&ts=1321453057&page=1&start=0&limit=25 HTTP/1.1" 200 20100 0.0220
127.0.0.1 - - [16/Jan/2013 22:35:37] "GET /log_data?_dc=1358397337577&ts=1321456657&page=1&start=0&limit=25 HTTP/1.1" 200 16414 0.0457
127.0.0.1 - - [16/Jan/2013 22:35:38] "GET /log_data?_dc=1358397338749&ts=1358396462&page=1&start=0&limit=25 HTTP/1.1" 200 1355 0.0049
127.0.0.1 - - [16/Jan/2013 22:35:39] "GET /lib/ext-4.0.6/resources/themes/images/default/grid/grid3-hd-btn.gif HTTP/1.1" 200 1229 0.0010
127.0.0.1 - - [16/Jan/2013 22:35:41] "GET /history_data_paged?_dc=1358397341482&start=0&limit=0&testName=oauth_fetch_login&page=1 HTTP/1.1" 200 25 0.0046
127.0.0.1 - - [16/Jan/2013 22:35:41] "GET /history_data_paged?_dc=1358397341629&testName=oauth_fetch_login&page=1&start=0&limit=20 HTTP/1.1" 200 593 0.0035
127.0.0.1 - - [16/Jan/2013 22:35:42] "GET /history_data_paged?_dc=1358397341947&testName=oauth_fetch_login&page=9&start=160&limit=20 HTTP/1.1" 200 486 0.0023
127.0.0.1 - - [16/Jan/2013 22:35:43] "GET /history_data_paged?_dc=1358397343129&testName=oauth_fetch_login&page=8&start=140&limit=20 HTTP/1.1" 200 589 0.0026
127.0.0.1 - - [16/Jan/2013 22:35:44] "GET /log_data?_dc=1358397344666&ts=1321430657&page=1&start=0&limit=25 HTTP/1.1" 200 19816 0.0447

AT&T Provider initialized.

API endpoint:  https://api-test.san1.attcompute.com
Client ID:     b598b7a4e7dccfe5951f6210e36a603b
Client Secret: eb7447e60d266642
Local Server:  http://127.0.0.1:5985
Shortcode:     37367441

Running Test suite...
Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=b598b7a4e7dccfe5951f6210e36a603b&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback ...
0.0s (0.0s total) OK. Requesting login page...
Net::HTTP::Get: /oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=b598b7a4e7dccfe5951f6210e36a603b&type=web_server&redirect_uri=http://127.0.0.1:5985/auth/callback
request-header: accept-encoding => gzip,deflate,identity
request-header: accept-language => en-us,en;q=0.5
request-header: accept => */*
request-header: user-agent => Mechanize/2.0.1 Ruby/1.8.7p358 (http://github.com/tenderlove/mechanize/)
request-header: host => api-test.san1.attcompute.com
request-header: accept-charset => ISO-8859-1,utf-8;q=0.7,*;q=0.7
#<SocketError: getaddrinfo: nodename nor servname provided, or not known>

NEXT TEST: device_info_json 21

NEXT TEST: device_info_json_error 20

NEXT TEST: device_info_xml 19

NEXT TEST: device_info_xml_error 18

NEXT TEST: device_info_jsonp 17

NEXT TEST: device_info_jsonp_error 16

NEXT TEST: device_location_json 15

NEXT TEST: device_location_json_error 14

NEXT TEST: device_location_xml 13

NEXT TEST: device_location_xml_error 12

NEXT TEST: device_location_jsonp 11

NEXT TEST: device_location_jsonp_error 10

NEXT TEST: v2mms_send_json 9

NEXT TEST: v2mms_status 8

NEXT TEST: v2sms_send_json 7

NEXT TEST: v2sms_send_form 6

NEXT TEST: v2sms_status 5

NEXT TEST: sms_send_json 4

NEXT TEST: sms_send_form 3

NEXT TEST: sms_status 2

NEXT TEST: mms_send_json 1

NEXT TEST: mms_status 0

Starting test run
adding to test queue, test = device_info_json
adding to test queue, test = device_info_json_error
adding to test queue, test = device_info_xml
adding to test queue, test = device_info_xml_error
adding to test queue, test = device_info_jsonp
adding to test queue, test = device_info_jsonp_error
adding to test queue, test = device_location_json
adding to test queue, test = device_location_json_error
adding to test queue, test = device_location_xml
adding to test queue, test = device_location_xml_error
adding to test queue, test = device_location_jsonp
adding to test queue, test = device_location_jsonp_error
adding to test queue, test = v2mms_send_json
adding to test queue, test = v2mms_status
adding to test queue, test = v2sms_send_json
adding to test queue, test = v2sms_send_form
adding to test queue, test = v2sms_status
adding to test queue, test = sms_send_json
adding to test queue, test = sms_send_form
adding to test queue, test = sms_status
adding to test queue, test = mms_send_json
adding to test queue, test = mms_status
Request:  https://api-test.san1.attcompute.com/oauth/authorize?scope=TL,DC,WAP,SMS,MMS,PAYMENT&client_id=b598b7a4e7dccfe5951f6210e36a603b&type=web_server127.0.0.1 - - [16/Jan/2013 23:27:52] "GET /history_data_paged?_dc=1358400472440&start=0&limit=0&testName=oauth_login&page=1 HTTP/1.1" 200 24 0.0042
127.0.0.1 - - [16/Jan/2013 23:27:52] "GET /history_data_paged?_dc=1358400472594&testName=oauth_login&page=1&start=0&limit=20 HTTP/1.1" 200 561 0.0032
127.0.0.1 - - [16/Jan/2013 23:27:53] "GET /history_data_paged?_dc=1358400472747&testName=oauth_login&page=3&start=40&limit=20 HTTP/1.1" 200 238 0.0020
127.0.0.1 - - [16/Jan/2013 23:27:54] "GET /history_oauth_data_paged?_dc=1358400474194&testName=&page=5&start=80&limit=20&sort=%5B%7B%22property%22%3A%22start_date%22%2C%22direction%22%3A%22DESC%22%7D%5D HTTP/1.1" 200 316 0.0436
127.0.0.1 - - [16/Jan/2013 23:28:19] "GET /history_oauth_data_paged?_dc=1358400499103&testName=&page=5&start=80&limit=20&sort=%5B%7B%22property%22%3A%22start_date%22%2C%22direction%22%3A%22DESC%22%7D%5D HTTP/1.1" 200 316 0.0061
